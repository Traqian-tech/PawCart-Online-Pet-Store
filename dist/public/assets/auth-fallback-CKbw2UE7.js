const a="meow_users";function g(){try{const e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch{return[]}}function u(e){localStorage.setItem(a,JSON.stringify(e))}async function S(e,c,s,r){const t=g();if(t.find(i=>i.email===e))return{data:null,error:{message:"User already exists with this email"}};const o={id:Date.now().toString(),email:e,firstName:s,lastName:r,name:s&&r?`${s} ${r}`:s||r||"",role:"user"},n=JSON.parse(localStorage.getItem("meow_passwords")||"{}");return n[e]=c,localStorage.setItem("meow_passwords",JSON.stringify(n)),t.push(o),u(t),localStorage.setItem("auth_user",JSON.stringify(o)),{data:{user:o},error:null}}export{S as fallbackSignUp};
