var vc=r=>{throw TypeError(r)};var po=(r,t,s)=>t.has(r)||vc("Cannot "+s);var k=(r,t,s)=>(po(r,t,"read from private field"),s?s.call(r):t.get(r)),xe=(r,t,s)=>t.has(r)?vc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,s),oe=(r,t,s,a)=>(po(r,t,"write to private field"),a?a.call(r,s):t.set(r,s),s),Ee=(r,t,s)=>(po(r,t,"access private method"),s);var Xn=(r,t,s,a)=>({set _(n){oe(r,t,n,s)},get _(){return k(r,t,a)}});import{j as e,P as _e,c as Rl,a as ks,u as dt,B as yg,b as gr,d as Vn,e as Oa,f as ge,R as vg,g as iu,h as cs,i as bg,k as Ri,A as ou,D as lu,C as cu,l as du,m as jg,S as uu,n as wg,o as Ng,p as kg,F as Cg,q as Ii,r as Sg,s as Oi,t as _g,v as Li,O as Mi,w as Di,x as hu,T as Fi,y as $i,z as mu,E as xu,G as fu,H as Bi,I as gu,J as pu}from"./ui-CnfyfsjU.js";import{a as zi,r as x,c as Pg,g as Tg,d as ds,R as Be}from"./vendor-KNcVXCVW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var yu,bc=zi;yu=bc.createRoot,bc.hydrateRoot;function Eg(r,t){if(r instanceof RegExp)return{keys:!1,pattern:r};var s,a,n,i,o=[],l="",d=r.split("/");for(d[0]||d.shift();n=d.shift();)s=n[0],s==="*"?(o.push(s),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(a=n.indexOf("?",1),i=n.indexOf(".",1),o.push(n.substring(1,~a?a:~i?i:n.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+n.substring(i))):l+="/"+n;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var vu={exports:{}},bu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=x;function Ag(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Rg=typeof Object.is=="function"?Object.is:Ag,Ig=La.useState,Og=La.useEffect,Lg=La.useLayoutEffect,Mg=La.useDebugValue;function Dg(r,t){var s=t(),a=Ig({inst:{value:s,getSnapshot:t}}),n=a[0].inst,i=a[1];return Lg(function(){n.value=s,n.getSnapshot=t,yo(n)&&i({inst:n})},[r,s,t]),Og(function(){return yo(n)&&i({inst:n}),r(function(){yo(n)&&i({inst:n})})},[r]),Mg(s),s}function yo(r){var t=r.getSnapshot;r=r.value;try{var s=t();return!Rg(r,s)}catch{return!0}}function Fg(r,t){return t()}var $g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fg:Dg;bu.useSyncExternalStore=La.useSyncExternalStore!==void 0?La.useSyncExternalStore:$g;vu.exports=bu;var Bg=vu.exports;const zg=Pg.useInsertionEffect,Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vg=Ug?x.useLayoutEffect:x.useEffect,qg=zg||Vg,ju=r=>{const t=x.useRef([r,(...s)=>t[0](...s)]).current;return qg(()=>{t[0]=r}),t[1]},Hg="popstate",Il="pushState",Ol="replaceState",Kg="hashchange",jc=[Hg,Il,Ol,Kg],Wg=r=>{for(const t of jc)addEventListener(t,r);return()=>{for(const t of jc)removeEventListener(t,r)}},wu=(r,t)=>Bg.useSyncExternalStore(Wg,r,t),Qg=()=>location.search,Gg=({ssrSearch:r=""}={})=>wu(Qg,()=>r),wc=()=>location.pathname,Zg=({ssrPath:r}={})=>wu(wc,r?()=>r:wc),Jg=(r,{replace:t=!1,state:s=null}={})=>history[t?Ol:Il](s,"",r),Yg=(r={})=>[Zg(r),Jg],Nc=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Nc]>"u"){for(const r of[Il,Ol]){const t=history[r];history[r]=function(){const s=t.apply(this,arguments),a=new Event(r);return a.arguments=arguments,dispatchEvent(a),s}}Object.defineProperty(window,Nc,{value:!0})}const Xg=(r,t)=>t.toLowerCase().indexOf(r.toLowerCase())?"~"+t:t.slice(r.length)||"/",Nu=(r="")=>r==="/"?"":r,ep=(r,t)=>r[0]==="~"?r.slice(1):Nu(t)+r,tp=(r="",t)=>Xg(kc(Nu(r)),kc(t)),kc=r=>{try{return decodeURI(r)}catch{return r}},ku={hook:Yg,searchHook:Gg,parser:Eg,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:r=>r},Cu=x.createContext(ku),Ga=()=>x.useContext(Cu),Su={},_u=x.createContext(Su),Pu=()=>x.useContext(_u),Ui=r=>{const[t,s]=r.hook(r);return[tp(r.base,t),ju((a,n)=>s(ep(a,r.base),n))]},qt=()=>Ui(Ga()),Ll=(r,t,s,a)=>{const{pattern:n,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:r(t||"*",a),o=n.exec(s)||[],[l,...d]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((c,m)=>[c,d[m]])):o.groups;let h={...d};return u&&Object.assign(h,u),h})(),...a?[l]:[]]:[!1,null]},Ml=r=>Ll(Ga().parser,r,qt()[0]),sp=({children:r,...t})=>{var h,c;const s=Ga(),a=t.hook?ku:s;let n=a;const[i,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((c=t.hook)==null?void 0:c.hrefs);let l=x.useRef({}),d=l.current,u=d;for(let m in a){const f=m==="base"?a[m]+(t[m]||""):t[m]||a[m];d===u&&f!==u[m]&&(l.current=u={...u}),u[m]=f,f!==a[m]&&(n=u)}return x.createElement(Cu.Provider,{value:n,children:r})},Cc=({children:r,component:t},s)=>t?x.createElement(t,{params:s}):typeof r=="function"?r(s):r,rp=r=>{let t=x.useRef(Su),s=t.current;for(const a in r)r[a]!==s[a]&&(s=r);return Object.keys(r).length===0&&(s=r),t.current=s},ve=({path:r,nest:t,match:s,...a})=>{const n=Ga(),[i]=Ui(n),[o,l,d]=s??Ll(n.parser,r,i,t),u=rp({...Pu(),...l});if(!o)return null;const h=d?x.createElement(sp,{base:d},Cc(a,u)):Cc(a,u);return x.createElement(_u.Provider,{value:u,children:h})},re=x.forwardRef((r,t)=>{const s=Ga(),[a,n]=Ui(s),{to:i="",href:o=i,onClick:l,asChild:d,children:u,className:h,replace:c,state:m,...f}=r,p=ju(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),n(o,r)))}),v=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return d&&x.isValidElement(u)?x.cloneElement(u,{onClick:p,href:v}):x.createElement("a",{...f,onClick:p,href:v,className:h!=null&&h.call?h(a===o):h,children:u,ref:t})}),Tu=r=>Array.isArray(r)?r.flatMap(t=>Tu(t&&t.type===x.Fragment?t.props.children:t)):[r],ap=({children:r,location:t})=>{const s=Ga(),[a]=Ui(s);for(const n of Tu(r)){let i=0;if(x.isValidElement(n)&&(i=Ll(s.parser,n.props.path,t||a,n.props.nest))[0])return x.cloneElement(n,{match:i})}return null};var Za=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qr=typeof window>"u"||"Deno"in globalThis;function ls(){}function np(r,t){return typeof r=="function"?r(t):r}function Mo(r){return typeof r=="number"&&r>=0&&r!==1/0}function Eu(r,t){return Math.max(r+(t||0)-Date.now(),0)}function ya(r,t){return typeof r=="function"?r(t):r}function ys(r,t){return typeof r=="function"?r(t):r}function Sc(r,t){const{type:s="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=r;if(o){if(a){if(t.queryHash!==Dl(o,t.options))return!1}else if(!An(t.queryKey,o))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||i&&!i(t))}function _c(r,t){const{exact:s,status:a,predicate:n,mutationKey:i}=r;if(i){if(!t.options.mutationKey)return!1;if(s){if(Gr(t.options.mutationKey)!==Gr(i))return!1}else if(!An(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function Dl(r,t){return((t==null?void 0:t.queryKeyHashFn)||Gr)(r)}function Gr(r){return JSON.stringify(r,(t,s)=>Do(s)?Object.keys(s).sort().reduce((a,n)=>(a[n]=s[n],a),{}):s)}function An(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!An(r[s],t[s])):!1}function Au(r,t){if(r===t)return r;const s=Pc(r)&&Pc(t);if(s||Do(r)&&Do(t)){const a=s?r:Object.keys(r),n=a.length,i=s?t:Object.keys(t),o=i.length,l=s?[]:{};let d=0;for(let u=0;u<o;u++){const h=s?u:i[u];(!s&&a.includes(h)||s)&&r[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=Au(r[h],t[h]),l[h]===r[h]&&r[h]!==void 0&&d++)}return n===o&&d===n?r:l}return t}function hi(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const s in r)if(r[s]!==t[s])return!1;return!0}function Pc(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Do(r){if(!Tc(r))return!1;const t=r.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Tc(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Tc(r){return Object.prototype.toString.call(r)==="[object Object]"}function ip(r){return new Promise(t=>{setTimeout(t,r)})}function Fo(r,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(r,t):s.structuralSharing!==!1?Au(r,t):t}function op(r,t,s=0){const a=[...r,t];return s&&a.length>s?a.slice(1):a}function lp(r,t,s=0){const a=[t,...r];return s&&a.length>s?a.slice(0,-1):a}var Fl=Symbol();function Ru(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===Fl?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Br,sr,ja,Zd,cp=(Zd=class extends Za{constructor(){super();xe(this,Br);xe(this,sr);xe(this,ja);oe(this,ja,t=>{if(!Qr&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){k(this,sr)||this.setEventListener(k(this,ja))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,sr))==null||t.call(this),oe(this,sr,void 0))}setEventListener(t){var s;oe(this,ja,t),(s=k(this,sr))==null||s.call(this),oe(this,sr,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){k(this,Br)!==t&&(oe(this,Br,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof k(this,Br)=="boolean"?k(this,Br):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Br=new WeakMap,sr=new WeakMap,ja=new WeakMap,Zd),$l=new cp,wa,rr,Na,Jd,dp=(Jd=class extends Za{constructor(){super();xe(this,wa,!0);xe(this,rr);xe(this,Na);oe(this,Na,t=>{if(!Qr&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){k(this,rr)||this.setEventListener(k(this,Na))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,rr))==null||t.call(this),oe(this,rr,void 0))}setEventListener(t){var s;oe(this,Na,t),(s=k(this,rr))==null||s.call(this),oe(this,rr,t(this.setOnline.bind(this)))}setOnline(t){k(this,wa)!==t&&(oe(this,wa,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return k(this,wa)}},wa=new WeakMap,rr=new WeakMap,Na=new WeakMap,Jd),mi=new dp;function $o(){let r,t;const s=new Promise((n,i)=>{r=n,t=i});s.status="pending",s.catch(()=>{});function a(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{a({status:"fulfilled",value:n}),r(n)},s.reject=n=>{a({status:"rejected",reason:n}),t(n)},s}function up(r){return Math.min(1e3*2**r,3e4)}function Iu(r){return(r??"online")==="online"?mi.isOnline():!0}var Ou=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function vo(r){return r instanceof Ou}function Lu(r){let t=!1,s=0,a=!1,n;const i=$o(),o=v=>{var y;a||(m(new Ou(v)),(y=r.abort)==null||y.call(r))},l=()=>{t=!0},d=()=>{t=!1},u=()=>$l.isFocused()&&(r.networkMode==="always"||mi.isOnline())&&r.canRun(),h=()=>Iu(r.networkMode)&&r.canRun(),c=v=>{var y;a||(a=!0,(y=r.onSuccess)==null||y.call(r,v),n==null||n(),i.resolve(v))},m=v=>{var y;a||(a=!0,(y=r.onError)==null||y.call(r,v),n==null||n(),i.reject(v))},f=()=>new Promise(v=>{var y;n=b=>{(a||u())&&v(b)},(y=r.onPause)==null||y.call(r)}).then(()=>{var v;n=void 0,a||(v=r.onContinue)==null||v.call(r)}),p=()=>{if(a)return;let v;const y=s===0?r.initialPromise:void 0;try{v=y??r.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(c).catch(b=>{var _;if(a)return;const w=r.retry??(Qr?0:3),j=r.retryDelay??up,C=typeof j=="function"?j(s,b):j,P=w===!0||typeof w=="number"&&s<w||typeof w=="function"&&w(s,b);if(t||!P){m(b);return}s++,(_=r.onFail)==null||_.call(r,s,b),ip(C).then(()=>u()?void 0:f()).then(()=>{t?m(b):p()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?p():f().then(p),i)}}function hp(){let r=[],t=0,s=l=>{l()},a=l=>{l()},n=l=>setTimeout(l,0);const i=l=>{t?r.push(l):n(()=>{s(l)})},o=()=>{const l=r;r=[],l.length&&n(()=>{a(()=>{l.forEach(d=>{s(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{n=l}}}var Ct=hp(),zr,Yd,Mu=(Yd=class{constructor(){xe(this,zr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mo(this.gcTime)&&oe(this,zr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Qr?1/0:5*60*1e3))}clearGcTimeout(){k(this,zr)&&(clearTimeout(k(this,zr)),oe(this,zr,void 0))}},zr=new WeakMap,Yd),ka,Ca,os,Lt,$n,Ur,gs,Ms,Xd,mp=(Xd=class extends Mu{constructor(t){super();xe(this,gs);xe(this,ka);xe(this,Ca);xe(this,os);xe(this,Lt);xe(this,$n);xe(this,Ur);oe(this,Ur,!1),oe(this,$n,t.defaultOptions),this.setOptions(t.options),this.observers=[],oe(this,os,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,oe(this,ka,xp(this.options)),this.state=t.state??k(this,ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...k(this,$n),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,os).remove(this)}setData(t,s){const a=Fo(this.state.data,t,this.options);return Ee(this,gs,Ms).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(t,s){Ee(this,gs,Ms).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var a,n;const s=(a=k(this,Lt))==null?void 0:a.promise;return(n=k(this,Lt))==null||n.cancel(t),s?s.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,ka))}isActive(){return this.observers.some(t=>ys(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Eu(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,Lt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,Lt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,os).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(k(this,Lt)&&(k(this,Ur)?k(this,Lt).cancel({revert:!0}):k(this,Lt).cancelRetry()),this.scheduleGc()),k(this,os).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,gs,Ms).call(this,{type:"invalidate"})}fetch(t,s){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(k(this,Lt))return k(this,Lt).continueRetry(),k(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(m=>m.options.queryFn);c&&this.setOptions(c.options)}const a=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(oe(this,Ur,!0),a.signal)})},i=()=>{const c=Ru(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return n(m),oe(this,Ur,!1),this.options.persister?this.options.persister(c,m,this):c(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(o),(d=this.options.behavior)==null||d.onFetch(o,this),oe(this,Ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ee(this,gs,Ms).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=c=>{var m,f,p,v;vo(c)&&c.silent||Ee(this,gs,Ms).call(this,{type:"error",error:c}),vo(c)||((f=(m=k(this,os).config).onError)==null||f.call(m,c,this),(v=(p=k(this,os).config).onSettled)==null||v.call(p,this.state.data,c,this)),this.scheduleGc()};return oe(this,Lt,Lu({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:c=>{var m,f,p,v;if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(y){l(y);return}(f=(m=k(this,os).config).onSuccess)==null||f.call(m,c,this),(v=(p=k(this,os).config).onSettled)==null||v.call(p,c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,m)=>{Ee(this,gs,Ms).call(this,{type:"failed",failureCount:c,error:m})},onPause:()=>{Ee(this,gs,Ms).call(this,{type:"pause"})},onContinue:()=>{Ee(this,gs,Ms).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,Lt).start()}},ka=new WeakMap,Ca=new WeakMap,os=new WeakMap,Lt=new WeakMap,$n=new WeakMap,Ur=new WeakMap,gs=new WeakSet,Ms=function(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Du(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return vo(n)&&n.revert&&k(this,Ca)?{...k(this,Ca),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),Ct.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),k(this,os).notify({query:this,type:"updated",action:t})})},Xd);function Du(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Iu(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function xp(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,s=t!==void 0,a=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var _s,eu,fp=(eu=class extends Za{constructor(t={}){super();xe(this,_s);this.config=t,oe(this,_s,new Map)}build(t,s,a){const n=s.queryKey,i=s.queryHash??Dl(n,s);let o=this.get(i);return o||(o=new mp({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){k(this,_s).has(t.queryHash)||(k(this,_s).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=k(this,_s).get(t.queryHash);s&&(t.destroy(),s===t&&k(this,_s).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,_s).get(t)}getAll(){return[...k(this,_s).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>Sc(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>Sc(t,a)):s}notify(t){Ct.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_s=new WeakMap,eu),Ps,$t,Vr,Ts,Zs,tu,gp=(tu=class extends Mu{constructor(t){super();xe(this,Ts);xe(this,Ps);xe(this,$t);xe(this,Vr);this.mutationId=t.mutationId,oe(this,$t,t.mutationCache),oe(this,Ps,[]),this.state=t.state||Fu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Ps).includes(t)||(k(this,Ps).push(t),this.clearGcTimeout(),k(this,$t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){oe(this,Ps,k(this,Ps).filter(s=>s!==t)),this.scheduleGc(),k(this,$t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Ps).length||(this.state.status==="pending"?this.scheduleGc():k(this,$t).remove(this))}continue(){var t;return((t=k(this,Vr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,i,o,l,d,u,h,c,m,f,p,v,y,b,w,j,C,P,_,L;oe(this,Vr,Lu({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Z,B)=>{Ee(this,Ts,Zs).call(this,{type:"failed",failureCount:Z,error:B})},onPause:()=>{Ee(this,Ts,Zs).call(this,{type:"pause"})},onContinue:()=>{Ee(this,Ts,Zs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,$t).canRun(this)}));const s=this.state.status==="pending",a=!k(this,Vr).canStart();try{if(!s){Ee(this,Ts,Zs).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(n=k(this,$t).config).onMutate)==null?void 0:i.call(n,t,this));const B=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));B!==this.state.context&&Ee(this,Ts,Zs).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const Z=await k(this,Vr).start();return await((u=(d=k(this,$t).config).onSuccess)==null?void 0:u.call(d,Z,t,this.state.context,this)),await((c=(h=this.options).onSuccess)==null?void 0:c.call(h,Z,t,this.state.context)),await((f=(m=k(this,$t).config).onSettled)==null?void 0:f.call(m,Z,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,Z,null,t,this.state.context)),Ee(this,Ts,Zs).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((b=(y=k(this,$t).config).onError)==null?void 0:b.call(y,Z,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,Z,t,this.state.context)),await((P=(C=k(this,$t).config).onSettled)==null?void 0:P.call(C,void 0,Z,this.state.variables,this.state.context,this)),await((L=(_=this.options).onSettled)==null?void 0:L.call(_,void 0,Z,t,this.state.context)),Z}finally{Ee(this,Ts,Zs).call(this,{type:"error",error:Z})}}finally{k(this,$t).runNext(this)}}},Ps=new WeakMap,$t=new WeakMap,Vr=new WeakMap,Ts=new WeakSet,Zs=function(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ct.batch(()=>{k(this,Ps).forEach(a=>{a.onMutationUpdate(t)}),k(this,$t).notify({mutation:this,type:"updated",action:t})})},tu);function Fu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ts,Bn,su,pp=(su=class extends Za{constructor(t={}){super();xe(this,ts);xe(this,Bn);this.config=t,oe(this,ts,new Map),oe(this,Bn,Date.now())}build(t,s,a){const n=new gp({mutationCache:this,mutationId:++Xn(this,Bn)._,options:t.defaultMutationOptions(s),state:a});return this.add(n),n}add(t){const s=ei(t),a=k(this,ts).get(s)??[];a.push(t),k(this,ts).set(s,a),this.notify({type:"added",mutation:t})}remove(t){var a;const s=ei(t);if(k(this,ts).has(s)){const n=(a=k(this,ts).get(s))==null?void 0:a.filter(i=>i!==t);n&&(n.length===0?k(this,ts).delete(s):k(this,ts).set(s,n))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const s=(a=k(this,ts).get(ei(t)))==null?void 0:a.find(n=>n.state.status==="pending");return!s||s===t}runNext(t){var a;const s=(a=k(this,ts).get(ei(t)))==null?void 0:a.find(n=>n!==t&&n.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...k(this,ts).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(a=>_c(s,a))}findAll(t={}){return this.getAll().filter(s=>_c(t,s))}notify(t){Ct.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Ct.batch(()=>Promise.all(t.map(s=>s.continue().catch(ls))))}},ts=new WeakMap,Bn=new WeakMap,su);function ei(r){var t;return((t=r.options.scope)==null?void 0:t.id)??String(r.mutationId)}function Ec(r){return{onFetch:(t,s)=>{var h,c,m,f,p;const a=t.options,n=(m=(c=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:c.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let v=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=Ru(t.options,t.fetchOptions),w=async(j,C,P)=>{if(v)return Promise.reject();if(C==null&&j.pages.length)return Promise.resolve(j);const _={queryKey:t.queryKey,pageParam:C,direction:P?"backward":"forward",meta:t.options.meta};y(_);const L=await b(_),{maxPages:Z}=t.options,B=P?lp:op;return{pages:B(j.pages,L,Z),pageParams:B(j.pageParams,C,Z)}};if(n&&i.length){const j=n==="backward",C=j?yp:Ac,P={pages:i,pageParams:o},_=C(a,P);l=await w(P,_,j)}else{const j=r??i.length;do{const C=d===0?o[0]??a.initialPageParam:Ac(a,l);if(d>0&&C==null)break;l=await w(l,C),d++}while(d<j)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function Ac(r,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?r.getNextPageParam(t[a],t,s[a],s):void 0}function yp(r,{pages:t,pageParams:s}){var a;return t.length>0?(a=r.getPreviousPageParam)==null?void 0:a.call(r,t[0],t,s[0],s):void 0}var xt,ar,nr,Sa,_a,ir,Pa,Ta,ru,vp=(ru=class{constructor(r={}){xe(this,xt);xe(this,ar);xe(this,nr);xe(this,Sa);xe(this,_a);xe(this,ir);xe(this,Pa);xe(this,Ta);oe(this,xt,r.queryCache||new fp),oe(this,ar,r.mutationCache||new pp),oe(this,nr,r.defaultOptions||{}),oe(this,Sa,new Map),oe(this,_a,new Map),oe(this,ir,0)}mount(){Xn(this,ir)._++,k(this,ir)===1&&(oe(this,Pa,$l.subscribe(async r=>{r&&(await this.resumePausedMutations(),k(this,xt).onFocus())})),oe(this,Ta,mi.subscribe(async r=>{r&&(await this.resumePausedMutations(),k(this,xt).onOnline())})))}unmount(){var r,t;Xn(this,ir)._--,k(this,ir)===0&&((r=k(this,Pa))==null||r.call(this),oe(this,Pa,void 0),(t=k(this,Ta))==null||t.call(this),oe(this,Ta,void 0))}isFetching(r){return k(this,xt).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return k(this,ar).findAll({...r,status:"pending"}).length}getQueryData(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=k(this,xt).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(r){const t=this.getQueryData(r.queryKey);if(t===void 0)return this.fetchQuery(r);{const s=this.defaultQueryOptions(r),a=k(this,xt).build(this,s);return r.revalidateIfStale&&a.isStaleByTime(ya(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(r){return k(this,xt).findAll(r).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(r,t,s){const a=this.defaultQueryOptions({queryKey:r}),n=k(this,xt).get(a.queryHash),i=n==null?void 0:n.state.data,o=np(t,i);if(o!==void 0)return k(this,xt).build(this,a).setData(o,{...s,manual:!0})}setQueriesData(r,t,s){return Ct.batch(()=>k(this,xt).findAll(r).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(r){var s;const t=this.defaultQueryOptions({queryKey:r});return(s=k(this,xt).get(t.queryHash))==null?void 0:s.state}removeQueries(r){const t=k(this,xt);Ct.batch(()=>{t.findAll(r).forEach(s=>{t.remove(s)})})}resetQueries(r,t){const s=k(this,xt),a={type:"active",...r};return Ct.batch(()=>(s.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries(a,t)))}cancelQueries(r={},t={}){const s={revert:!0,...t},a=Ct.batch(()=>k(this,xt).findAll(r).map(n=>n.cancel(s)));return Promise.all(a).then(ls).catch(ls)}invalidateQueries(r={},t={}){return Ct.batch(()=>{if(k(this,xt).findAll(r).forEach(a=>{a.invalidate()}),r.refetchType==="none")return Promise.resolve();const s={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(r={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=Ct.batch(()=>k(this,xt).findAll(r).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(ls)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(ls)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const s=k(this,xt).build(this,t);return s.isStaleByTime(ya(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(ls).catch(ls)}fetchInfiniteQuery(r){return r.behavior=Ec(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(ls).catch(ls)}ensureInfiniteQueryData(r){return r.behavior=Ec(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return mi.isOnline()?k(this,ar).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,xt)}getMutationCache(){return k(this,ar)}getDefaultOptions(){return k(this,nr)}setDefaultOptions(r){oe(this,nr,r)}setQueryDefaults(r,t){k(this,Sa).set(Gr(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...k(this,Sa).values()];let s={};return t.forEach(a=>{An(r,a.queryKey)&&(s={...s,...a.defaultOptions})}),s}setMutationDefaults(r,t){k(this,_a).set(Gr(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...k(this,_a).values()];let s={};return t.forEach(a=>{An(r,a.mutationKey)&&(s={...s,...a.defaultOptions})}),s}defaultQueryOptions(r){if(r._defaulted)return r;const t={...k(this,nr).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=Dl(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Fl&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...k(this,nr).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){k(this,xt).clear(),k(this,ar).clear()}},xt=new WeakMap,ar=new WeakMap,nr=new WeakMap,Sa=new WeakMap,_a=new WeakMap,ir=new WeakMap,Pa=new WeakMap,Ta=new WeakMap,ru),Wt,Fe,zn,Bt,qr,Ea,or,Es,Un,Aa,Ra,Hr,Kr,lr,Ia,Ge,fn,Bo,zo,Uo,Vo,qo,Ho,Ko,$u,au,bp=(au=class extends Za{constructor(t,s){super();xe(this,Ge);xe(this,Wt);xe(this,Fe);xe(this,zn);xe(this,Bt);xe(this,qr);xe(this,Ea);xe(this,or);xe(this,Es);xe(this,Un);xe(this,Aa);xe(this,Ra);xe(this,Hr);xe(this,Kr);xe(this,lr);xe(this,Ia,new Set);this.options=s,oe(this,Wt,t),oe(this,Es,null),oe(this,or,$o()),this.options.experimental_prefetchInRender||k(this,or).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Fe).addObserver(this),Rc(k(this,Fe),this.options)?Ee(this,Ge,fn).call(this):this.updateResult(),Ee(this,Ge,Vo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wo(k(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wo(k(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ee(this,Ge,qo).call(this),Ee(this,Ge,Ho).call(this),k(this,Fe).removeObserver(this)}setOptions(t,s){const a=this.options,n=k(this,Fe);if(this.options=k(this,Wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,k(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ee(this,Ge,Ko).call(this),k(this,Fe).setOptions(this.options),a._defaulted&&!hi(this.options,a)&&k(this,Wt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Fe),observer:this});const i=this.hasListeners();i&&Ic(k(this,Fe),n,this.options,a)&&Ee(this,Ge,fn).call(this),this.updateResult(s),i&&(k(this,Fe)!==n||ys(this.options.enabled,k(this,Fe))!==ys(a.enabled,k(this,Fe))||ya(this.options.staleTime,k(this,Fe))!==ya(a.staleTime,k(this,Fe)))&&Ee(this,Ge,Bo).call(this);const o=Ee(this,Ge,zo).call(this);i&&(k(this,Fe)!==n||ys(this.options.enabled,k(this,Fe))!==ys(a.enabled,k(this,Fe))||o!==k(this,lr))&&Ee(this,Ge,Uo).call(this,o)}getOptimisticResult(t){const s=k(this,Wt).getQueryCache().build(k(this,Wt),t),a=this.createResult(s,t);return wp(this,a)&&(oe(this,Bt,a),oe(this,Ea,this.options),oe(this,qr,k(this,Fe).state)),a}getCurrentResult(){return k(this,Bt)}trackResult(t,s){const a={};return Object.keys(t).forEach(n=>{Object.defineProperty(a,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),s==null||s(n),t[n])})}),a}trackProp(t){k(this,Ia).add(t)}getCurrentQuery(){return k(this,Fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=k(this,Wt).defaultQueryOptions(t),a=k(this,Wt).getQueryCache().build(k(this,Wt),s);return a.fetch().then(()=>this.createResult(a,s))}fetch(t){return Ee(this,Ge,fn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Bt)))}createResult(t,s){var Z;const a=k(this,Fe),n=this.options,i=k(this,Bt),o=k(this,qr),l=k(this,Ea),u=t!==a?t.state:k(this,zn),{state:h}=t;let c={...h},m=!1,f;if(s._optimisticResults){const B=this.hasListeners(),F=!B&&Rc(t,s),U=B&&Ic(t,a,s,n);(F||U)&&(c={...c,...Du(h.data,t.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:v,status:y}=c;if(s.select&&c.data!==void 0)if(i&&c.data===(o==null?void 0:o.data)&&s.select===k(this,Un))f=k(this,Aa);else try{oe(this,Un,s.select),f=s.select(c.data),f=Fo(i==null?void 0:i.data,f,s),oe(this,Aa,f),oe(this,Es,null)}catch(B){oe(this,Es,B)}else f=c.data;if(s.placeholderData!==void 0&&f===void 0&&y==="pending"){let B;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))B=i.data;else if(B=typeof s.placeholderData=="function"?s.placeholderData((Z=k(this,Ra))==null?void 0:Z.state.data,k(this,Ra)):s.placeholderData,s.select&&B!==void 0)try{B=s.select(B),oe(this,Es,null)}catch(F){oe(this,Es,F)}B!==void 0&&(y="success",f=Fo(i==null?void 0:i.data,B,s),m=!0)}k(this,Es)&&(p=k(this,Es),f=k(this,Aa),v=Date.now(),y="error");const b=c.fetchStatus==="fetching",w=y==="pending",j=y==="error",C=w&&b,P=f!==void 0,L={status:y,fetchStatus:c.fetchStatus,isPending:w,isSuccess:y==="success",isError:j,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:v,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!P,isPaused:c.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&P,isStale:Bl(t,s),refetch:this.refetch,promise:k(this,or)};if(this.options.experimental_prefetchInRender){const B=T=>{L.status==="error"?T.reject(L.error):L.data!==void 0&&T.resolve(L.data)},F=()=>{const T=oe(this,or,L.promise=$o());B(T)},U=k(this,or);switch(U.status){case"pending":t.queryHash===a.queryHash&&B(U);break;case"fulfilled":(L.status==="error"||L.data!==U.value)&&F();break;case"rejected":(L.status!=="error"||L.error!==U.reason)&&F();break}}return L}updateResult(t){const s=k(this,Bt),a=this.createResult(k(this,Fe),this.options);if(oe(this,qr,k(this,Fe).state),oe(this,Ea,this.options),k(this,qr).data!==void 0&&oe(this,Ra,k(this,Fe)),hi(a,s))return;oe(this,Bt,a);const n={},i=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!k(this,Ia).size)return!0;const d=new Set(l??k(this,Ia));return this.options.throwOnError&&d.add("error"),Object.keys(k(this,Bt)).some(u=>{const h=u;return k(this,Bt)[h]!==s[h]&&d.has(h)})};(t==null?void 0:t.listeners)!==!1&&i()&&(n.listeners=!0),Ee(this,Ge,$u).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ee(this,Ge,Vo).call(this)}},Wt=new WeakMap,Fe=new WeakMap,zn=new WeakMap,Bt=new WeakMap,qr=new WeakMap,Ea=new WeakMap,or=new WeakMap,Es=new WeakMap,Un=new WeakMap,Aa=new WeakMap,Ra=new WeakMap,Hr=new WeakMap,Kr=new WeakMap,lr=new WeakMap,Ia=new WeakMap,Ge=new WeakSet,fn=function(t){Ee(this,Ge,Ko).call(this);let s=k(this,Fe).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ls)),s},Bo=function(){Ee(this,Ge,qo).call(this);const t=ya(this.options.staleTime,k(this,Fe));if(Qr||k(this,Bt).isStale||!Mo(t))return;const a=Eu(k(this,Bt).dataUpdatedAt,t)+1;oe(this,Hr,setTimeout(()=>{k(this,Bt).isStale||this.updateResult()},a))},zo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Fe)):this.options.refetchInterval)??!1},Uo=function(t){Ee(this,Ge,Ho).call(this),oe(this,lr,t),!(Qr||ys(this.options.enabled,k(this,Fe))===!1||!Mo(k(this,lr))||k(this,lr)===0)&&oe(this,Kr,setInterval(()=>{(this.options.refetchIntervalInBackground||$l.isFocused())&&Ee(this,Ge,fn).call(this)},k(this,lr)))},Vo=function(){Ee(this,Ge,Bo).call(this),Ee(this,Ge,Uo).call(this,Ee(this,Ge,zo).call(this))},qo=function(){k(this,Hr)&&(clearTimeout(k(this,Hr)),oe(this,Hr,void 0))},Ho=function(){k(this,Kr)&&(clearInterval(k(this,Kr)),oe(this,Kr,void 0))},Ko=function(){const t=k(this,Wt).getQueryCache().build(k(this,Wt),this.options);if(t===k(this,Fe))return;const s=k(this,Fe);oe(this,Fe,t),oe(this,zn,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},$u=function(t){Ct.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(k(this,Bt))}),k(this,Wt).getQueryCache().notify({query:k(this,Fe),type:"observerResultsUpdated"})})},au);function jp(r,t){return ys(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function Rc(r,t){return jp(r,t)||r.state.data!==void 0&&Wo(r,t,t.refetchOnMount)}function Wo(r,t,s){if(ys(t.enabled,r)!==!1){const a=typeof s=="function"?s(r):s;return a==="always"||a!==!1&&Bl(r,t)}return!1}function Ic(r,t,s,a){return(r!==t||ys(a.enabled,r)===!1)&&(!s.suspense||r.state.status!=="error")&&Bl(r,s)}function Bl(r,t){return ys(t.enabled,r)!==!1&&r.isStaleByTime(ya(t.staleTime,r))}function wp(r,t){return!hi(r.getCurrentResult(),t)}var cr,dr,Qt,zs,Us,ii,Qo,nu,Np=(nu=class extends Za{constructor(s,a){super();xe(this,Us);xe(this,cr);xe(this,dr);xe(this,Qt);xe(this,zs);oe(this,cr,s),this.setOptions(a),this.bindMethods(),Ee(this,Us,ii).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var n;const a=this.options;this.options=k(this,cr).defaultMutationOptions(s),hi(this.options,a)||k(this,cr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Qt),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Gr(a.mutationKey)!==Gr(this.options.mutationKey)?this.reset():((n=k(this,Qt))==null?void 0:n.state.status)==="pending"&&k(this,Qt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=k(this,Qt))==null||s.removeObserver(this)}onMutationUpdate(s){Ee(this,Us,ii).call(this),Ee(this,Us,Qo).call(this,s)}getCurrentResult(){return k(this,dr)}reset(){var s;(s=k(this,Qt))==null||s.removeObserver(this),oe(this,Qt,void 0),Ee(this,Us,ii).call(this),Ee(this,Us,Qo).call(this)}mutate(s,a){var n;return oe(this,zs,a),(n=k(this,Qt))==null||n.removeObserver(this),oe(this,Qt,k(this,cr).getMutationCache().build(k(this,cr),this.options)),k(this,Qt).addObserver(this),k(this,Qt).execute(s)}},cr=new WeakMap,dr=new WeakMap,Qt=new WeakMap,zs=new WeakMap,Us=new WeakSet,ii=function(){var a;const s=((a=k(this,Qt))==null?void 0:a.state)??Fu();oe(this,dr,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Qo=function(s){Ct.batch(()=>{var a,n,i,o,l,d,u,h;if(k(this,zs)&&this.hasListeners()){const c=k(this,dr).variables,m=k(this,dr).context;(s==null?void 0:s.type)==="success"?((n=(a=k(this,zs)).onSuccess)==null||n.call(a,s.data,c,m),(o=(i=k(this,zs)).onSettled)==null||o.call(i,s.data,null,c,m)):(s==null?void 0:s.type)==="error"&&((d=(l=k(this,zs)).onError)==null||d.call(l,s.error,c,m),(h=(u=k(this,zs)).onSettled)==null||h.call(u,void 0,s.error,c,m))}this.listeners.forEach(c=>{c(k(this,dr))})})},nu),Bu=x.createContext(void 0),zu=r=>{const t=x.useContext(Bu);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kp=({client:r,children:t})=>(x.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),e.jsx(Bu.Provider,{value:r,children:t})),Uu=x.createContext(!1),Cp=()=>x.useContext(Uu);Uu.Provider;function Sp(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var _p=x.createContext(Sp()),Pp=()=>x.useContext(_p);function Vu(r,t){return typeof r=="function"?r(...t):!!r}function Go(){}var Tp=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},Ep=r=>{x.useEffect(()=>{r.clearReset()},[r])},Ap=({result:r,errorResetBoundary:t,throwOnError:s,query:a})=>r.isError&&!t.isReset()&&!r.isFetching&&a&&Vu(s,[r.error,a]),Rp=r=>{r.suspense&&(r.staleTime===void 0&&(r.staleTime=1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},Ip=(r,t)=>r.isLoading&&r.isFetching&&!t,Op=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,Oc=(r,t,s)=>t.fetchOptimistic(r).catch(()=>{s.clearReset()});function Lp(r,t,s){var h,c,m,f,p;const a=zu(),n=Cp(),i=Pp(),o=a.defaultQueryOptions(r);(c=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||c.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",Rp(o),Tp(o,i),Ep(i);const l=!a.getQueryCache().get(o.queryHash),[d]=x.useState(()=>new t(a,o)),u=d.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(v=>{const y=n?Go:d.subscribe(Ct.batchCalls(v));return d.updateResult(),y},[d,n]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),Op(o,u))throw Oc(o,d,i);if(Ap({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,o,u),o.experimental_prefetchInRender&&!Qr&&Ip(u,n)){const v=l?Oc(o,d,i):(p=a.getQueryCache().get(o.queryHash))==null?void 0:p.promise;v==null||v.catch(Go).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function ct(r,t){return Lp(r,bp)}function St(r,t){const s=zu(),[a]=x.useState(()=>new Np(s,r));x.useEffect(()=>{a.setOptions(r)},[a,r]);const n=x.useSyncExternalStore(x.useCallback(o=>a.subscribe(Ct.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=x.useCallback((o,l)=>{a.mutate(o,l).catch(Go)},[a]);if(n.error&&Vu(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}async function Mp(r){if(!r.ok){const t=await r.text()||r.statusText;throw new Error(`${r.status}: ${t}`)}}async function Ir(r,t){try{console.log("API Request:",r,t);const s=await fetch(r,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});console.log("API Response status:",s.status,s.statusText);let a;try{a=await s.json(),console.log("API Response data:",a)}catch(n){throw console.error("Failed to parse response JSON:",n),new Error("Invalid response format from server")}if(!s.ok){const n=new Error((a==null?void 0:a.message)||`API request failed: ${s.statusText}`);throw n.response=a,n.status=s.status,n}return a}catch(s){throw console.error("API Request failed:",s),s instanceof TypeError&&s.message.includes("fetch")?new Error("Network connection failed. Please check your internet connection."):s}}const Dp=({on401:r})=>async({queryKey:t})=>{const s=await fetch(t.join("/"),{credentials:"include"});return r==="returnNull"&&s.status===401?null:(await Mp(s),await s.json())},mt=new vp({defaultOptions:{queries:{queryFn:Dp({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Fp=1,$p=1e6;let bo=0;function Bp(){return bo=(bo+1)%Number.MAX_SAFE_INTEGER,bo.toString()}const jo=new Map,Lc=r=>{if(jo.has(r))return;const t=setTimeout(()=>{jo.delete(r),wn({type:"REMOVE_TOAST",toastId:r})},$p);jo.set(r,t)},zp=(r,t)=>{switch(t.type){case"ADD_TOAST":return{...r,toasts:[t.toast,...r.toasts].slice(0,Fp)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Lc(s):r.toasts.forEach(a=>{Lc(a.id)}),{...r,toasts:r.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(s=>s.id!==t.toastId)}}},oi=[];let li={toasts:[]};function wn(r){li=zp(li,r),oi.forEach(t=>{t(li)})}function Up({...r}){const t=Bp(),s=n=>wn({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>wn({type:"DISMISS_TOAST",toastId:t});return wn({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:s}}function bt(){const[r,t]=x.useState(li);return x.useEffect(()=>(oi.push(t),()=>{const s=oi.indexOf(t);s>-1&&oi.splice(s,1)}),[r]),{...r,toast:Up,dismiss:s=>wn({type:"DISMISS_TOAST",toastId:s})}}var Vp="VisuallyHidden",qn=x.forwardRef((r,t)=>e.jsx(_e.span,{...r,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));qn.displayName=Vp;var qp=qn,zl="ToastProvider",[Ul,Hp,Kp]=Rl("Toast"),[qu,ik]=ks("Toast",[Kp]),[Wp,Vi]=qu(zl),Hu=r=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=r,[l,d]=x.useState(null),[u,h]=x.useState(0),c=x.useRef(!1),m=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${zl}\`. Expected non-empty \`string\`.`),e.jsx(Ul.Provider,{scope:t,children:e.jsx(Wp,{scope:t,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:x.useCallback(()=>h(f=>f+1),[]),onToastRemove:x.useCallback(()=>h(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:m,children:o})})};Hu.displayName=zl;var Ku="ToastViewport",Qp=["F8"],Zo="toast.viewportPause",Jo="toast.viewportResume",Wu=x.forwardRef((r,t)=>{const{__scopeToast:s,hotkey:a=Qp,label:n="Notifications ({hotkey})",...i}=r,o=Vi(Ku,s),l=Hp(s),d=x.useRef(null),u=x.useRef(null),h=x.useRef(null),c=x.useRef(null),m=dt(t,c,o.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;x.useEffect(()=>{const y=b=>{var j;a.length!==0&&a.every(C=>b[C]||b.code===C)&&((j=c.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),x.useEffect(()=>{const y=d.current,b=c.current;if(p&&y&&b){const w=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Zo);b.dispatchEvent(_),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Jo);b.dispatchEvent(_),o.isClosePausedRef.current=!1}},C=_=>{!y.contains(_.relatedTarget)&&j()},P=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",w),y.addEventListener("focusout",C),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",j)}}},[p,o.isClosePausedRef]);const v=x.useCallback(({tabbingDirection:y})=>{const w=l().map(j=>{const C=j.ref.current,P=[C,...o0(C)];return y==="forwards"?P:P.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return x.useEffect(()=>{const y=c.current;if(y){const b=w=>{var P,_,L;const j=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!j){const Z=document.activeElement,B=w.shiftKey;if(w.target===y&&B){(P=u.current)==null||P.focus();return}const T=v({tabbingDirection:B?"backwards":"forwards"}),O=T.findIndex(E=>E===Z);wo(T.slice(O+1))?w.preventDefault():B?(_=u.current)==null||_.focus():(L=h.current)==null||L.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,v]),e.jsxs(yg,{ref:d,role:"region","aria-label":n.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&e.jsx(Yo,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});wo(y)}}),e.jsx(Ul.Slot,{scope:s,children:e.jsx(_e.ol,{tabIndex:-1,...i,ref:m})}),p&&e.jsx(Yo,{ref:h,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});wo(y)}})]})});Wu.displayName=Ku;var Qu="ToastFocusProxy",Yo=x.forwardRef((r,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=r,i=Vi(Qu,s);return e.jsx(qn,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&a()}})});Yo.displayName=Qu;var qi="Toast",Gp="toast.swipeStart",Zp="toast.swipeMove",Jp="toast.swipeCancel",Yp="toast.swipeEnd",Gu=x.forwardRef((r,t)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=r,[l=!0,d]=gr({prop:a,defaultProp:n,onChange:i});return e.jsx(Vn,{present:s||l,children:e.jsx(t0,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:Oa(r.onPause),onResume:Oa(r.onResume),onSwipeStart:ge(r.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(r.onSwipeMove,u=>{const{x:h,y:c}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${c}px`)}),onSwipeCancel:ge(r.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(r.onSwipeEnd,u=>{const{x:h,y:c}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${c}px`),d(!1)})})})});Gu.displayName=qi;var[Xp,e0]=qu(qi,{onClose(){}}),t0=x.forwardRef((r,t)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:c,onSwipeCancel:m,onSwipeEnd:f,...p}=r,v=Vi(qi,s),[y,b]=x.useState(null),w=dt(t,E=>b(E)),j=x.useRef(null),C=x.useRef(null),P=n||v.duration,_=x.useRef(0),L=x.useRef(P),Z=x.useRef(0),{onToastAdd:B,onToastRemove:F}=v,U=Oa(()=>{var R;(y==null?void 0:y.contains(document.activeElement))&&((R=v.viewport)==null||R.focus()),o()}),T=x.useCallback(E=>{!E||E===1/0||(window.clearTimeout(Z.current),_.current=new Date().getTime(),Z.current=window.setTimeout(U,E))},[U]);x.useEffect(()=>{const E=v.viewport;if(E){const R=()=>{T(L.current),u==null||u()},z=()=>{const le=new Date().getTime()-_.current;L.current=L.current-le,window.clearTimeout(Z.current),d==null||d()};return E.addEventListener(Zo,z),E.addEventListener(Jo,R),()=>{E.removeEventListener(Zo,z),E.removeEventListener(Jo,R)}}},[v.viewport,P,d,u,T]),x.useEffect(()=>{i&&!v.isClosePausedRef.current&&T(P)},[i,P,v.isClosePausedRef,T]),x.useEffect(()=>(B(),()=>F()),[B,F]);const O=x.useMemo(()=>y?sh(y):null,[y]);return v.viewport?e.jsxs(e.Fragment,{children:[O&&e.jsx(s0,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),e.jsx(Xp,{scope:s,onClose:U,children:zi.createPortal(e.jsx(Ul.ItemSlot,{scope:s,children:e.jsx(vg,{asChild:!0,onEscapeKeyDown:ge(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||U(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:ge(r.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ge(r.onPointerDown,E=>{E.button===0&&(j.current={x:E.clientX,y:E.clientY})}),onPointerMove:ge(r.onPointerMove,E=>{if(!j.current)return;const R=E.clientX-j.current.x,z=E.clientY-j.current.y,le=!!C.current,J=["left","right"].includes(v.swipeDirection),ae=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Pe=J?ae(0,R):0,fe=J?0:ae(0,z),He=E.pointerType==="touch"?10:2,Xe={x:Pe,y:fe},et={originalEvent:E,delta:Xe};le?(C.current=Xe,ti(Zp,c,et,{discrete:!1})):Mc(Xe,v.swipeDirection,He)?(C.current=Xe,ti(Gp,h,et,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(R)>He||Math.abs(z)>He)&&(j.current=null)}),onPointerUp:ge(r.onPointerUp,E=>{const R=C.current,z=E.target;if(z.hasPointerCapture(E.pointerId)&&z.releasePointerCapture(E.pointerId),C.current=null,j.current=null,R){const le=E.currentTarget,J={originalEvent:E,delta:R};Mc(R,v.swipeDirection,v.swipeThreshold)?ti(Yp,f,J,{discrete:!0}):ti(Jp,m,J,{discrete:!0}),le.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),s0=r=>{const{__scopeToast:t,children:s,...a}=r,n=Vi(qi,t),[i,o]=x.useState(!1),[l,d]=x.useState(!1);return n0(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(iu,{asChild:!0,children:e.jsx(qn,{...a,children:i&&e.jsxs(e.Fragment,{children:[n.label," ",s]})})})},r0="ToastTitle",Zu=x.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r;return e.jsx(_e.div,{...a,ref:t})});Zu.displayName=r0;var a0="ToastDescription",Ju=x.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r;return e.jsx(_e.div,{...a,ref:t})});Ju.displayName=a0;var Yu="ToastAction",Xu=x.forwardRef((r,t)=>{const{altText:s,...a}=r;return s.trim()?e.jsx(th,{altText:s,asChild:!0,children:e.jsx(Vl,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yu}\`. Expected non-empty \`string\`.`),null)});Xu.displayName=Yu;var eh="ToastClose",Vl=x.forwardRef((r,t)=>{const{__scopeToast:s,...a}=r,n=e0(eh,s);return e.jsx(th,{asChild:!0,children:e.jsx(_e.button,{type:"button",...a,ref:t,onClick:ge(r.onClick,n.onClose)})})});Vl.displayName=eh;var th=x.forwardRef((r,t)=>{const{__scopeToast:s,altText:a,...n}=r;return e.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function sh(r){const t=[];return Array.from(r.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),i0(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...sh(a))}}),t}function ti(r,t,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:s});t&&n.addEventListener(r,t,{once:!0}),a?bg(n,i):n.dispatchEvent(i)}var Mc=(r,t,s=0)=>{const a=Math.abs(r.x),n=Math.abs(r.y),i=a>n;return t==="left"||t==="right"?i&&a>s:!i&&n>s};function n0(r=()=>{}){const t=Oa(r);cs(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function i0(r){return r.nodeType===r.ELEMENT_NODE}function o0(r){const t=[],s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function wo(r){const t=document.activeElement;return r.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var l0=Hu,rh=Wu,ah=Gu,nh=Zu,ih=Ju,oh=Xu,lh=Vl;function ch(r){var t,s,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(t=0;t<n;t++)r[t]&&(s=ch(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s);return a}function dh(){for(var r,t,s=0,a="",n=arguments.length;s<n;s++)(r=arguments[s])&&(t=ch(r))&&(a&&(a+=" "),a+=t);return a}const Dc=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Fc=dh,Ja=(r,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return Fc(r,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(u=>{const h=s==null?void 0:s[u],c=i==null?void 0:i[u];if(h===null)return null;const m=Dc(h)||Dc(c);return n[u][m]}),l=s&&Object.entries(s).reduce((u,h)=>{let[c,m]=h;return m===void 0||(u[c]=m),u},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,h)=>{let{class:c,className:m,...f}=h;return Object.entries(f).every(p=>{let[v,y]=p;return Array.isArray(y)?y.includes({...i,...l}[v]):{...i,...l}[v]===y})?[...u,c,m]:u},[]);return Fc(r,o,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uh=(...r)=>r.filter((t,s,a)=>!!t&&a.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=x.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o,...l},d)=>x.createElement("svg",{ref:d,...d0,width:t,height:t,stroke:r,strokeWidth:a?Number(s)*24/Number(t):s,className:uh("lucide",n),...l},[...o.map(([u,h])=>x.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(r,t)=>{const s=x.forwardRef(({className:a,...n},i)=>x.createElement(u0,{ref:i,iconNode:t,className:uh(`lucide-${c0(r)}`,a),...n}));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=q("Bird",[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=q("Bone",[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=q("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=q("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=q("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=q("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=q("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=q("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=q("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=q("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=q("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=q("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=q("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=q("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=q("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=q("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=q("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=q("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=q("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=q("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=q("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=q("Rabbit",[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=q("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=q("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=q("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=q("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=q("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=q("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=q("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=q("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=q("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=q("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=q("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Hl="-",q0=r=>{const t=K0(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:o=>{const l=o.split(Hl);return l[0]===""&&l.length!==1&&l.shift(),bh(l,t)||H0(o)},getConflictingClassGroupIds:(o,l)=>{const d=s[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},bh=(r,t)=>{var o;if(r.length===0)return t.classGroupId;const s=r[0],a=t.nextPart.get(s),n=a?bh(r.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=r.join(Hl);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},qc=/^\[(.+)\]$/,H0=r=>{if(qc.test(r)){const t=qc.exec(r)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},K0=r=>{const{theme:t,prefix:s}=r,a={nextPart:new Map,validators:[]};return Q0(Object.entries(r.classGroups),s).forEach(([i,o])=>{rl(o,a,i,t)}),a},rl=(r,t,s,a)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?t:Hc(t,n);i.classGroupId=s;return}if(typeof n=="function"){if(W0(n)){rl(n(a),t,s,a);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{rl(o,Hc(t,i),s,a)})})},Hc=(r,t)=>{let s=r;return t.split(Hl).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},W0=r=>r.isThemeGetter,Q0=(r,t)=>t?r.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,n]}):r,G0=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),t++,t>r&&(t=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},jh="!",Z0=r=>{const{separator:t,experimentalParseClassName:s}=r,a=t.length===1,n=t[0],i=t.length,o=l=>{const d=[];let u=0,h=0,c;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===n&&(a||l.slice(y,y+i)===t)){d.push(l.slice(h,y)),h=y+i;continue}if(b==="/"){c=y;continue}}b==="["?u++:b==="]"&&u--}const m=d.length===0?l:l.substring(h),f=m.startsWith(jh),p=f?m.substring(1):m,v=c&&c>h?c-h:void 0;return{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:o}):o},J0=r=>{if(r.length<=1)return r;const t=[];let s=[];return r.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},Y0=r=>({cache:G0(r.cacheSize),parseClassName:Z0(r),...q0(r)}),X0=/\s+/,ey=(r,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],o=r.trim().split(X0);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:h,hasImportantModifier:c,baseClassName:m,maybePostfixModifierPosition:f}=s(u);let p=!!f,v=a(p?m.substring(0,f):m);if(!v){if(!p){l=u+(l.length>0?" "+l:l);continue}if(v=a(m),!v){l=u+(l.length>0?" "+l:l);continue}p=!1}const y=J0(h).join(":"),b=c?y+jh:y,w=b+v;if(i.includes(w))continue;i.push(w);const j=n(v,p);for(let C=0;C<j.length;++C){const P=j[C];i.push(b+P)}l=u+(l.length>0?" "+l:l)}return l};function ty(){let r=0,t,s,a="";for(;r<arguments.length;)(t=arguments[r++])&&(s=wh(t))&&(a&&(a+=" "),a+=s);return a}const wh=r=>{if(typeof r=="string")return r;let t,s="";for(let a=0;a<r.length;a++)r[a]&&(t=wh(r[a]))&&(s&&(s+=" "),s+=t);return s};function sy(r,...t){let s,a,n,i=o;function o(d){const u=t.reduce((h,c)=>c(h),r());return s=Y0(u),a=s.cache.get,n=s.cache.set,i=l,l(d)}function l(d){const u=a(d);if(u)return u;const h=ey(d,s);return n(d,h),h}return function(){return i(ty.apply(null,arguments))}}const at=r=>{const t=s=>s[r]||[];return t.isThemeGetter=!0,t},Nh=/^\[(?:([a-z-]+):)?(.+)\]$/i,ry=/^\d+\/\d+$/,ay=new Set(["px","full","screen"]),ny=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iy=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ly=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cy=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=r=>ba(r)||ay.has(r)||ry.test(r),Ws=r=>Ya(r,"length",py),ba=r=>!!r&&!Number.isNaN(Number(r)),Co=r=>Ya(r,"number",ba),ln=r=>!!r&&Number.isInteger(Number(r)),dy=r=>r.endsWith("%")&&ba(r.slice(0,-1)),Te=r=>Nh.test(r),Qs=r=>ny.test(r),uy=new Set(["length","size","percentage"]),hy=r=>Ya(r,uy,kh),my=r=>Ya(r,"position",kh),xy=new Set(["image","url"]),fy=r=>Ya(r,xy,vy),gy=r=>Ya(r,"",yy),cn=()=>!0,Ya=(r,t,s)=>{const a=Nh.exec(r);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},py=r=>iy.test(r)&&!oy.test(r),kh=()=>!1,yy=r=>ly.test(r),vy=r=>cy.test(r),by=()=>{const r=at("colors"),t=at("spacing"),s=at("blur"),a=at("brightness"),n=at("borderColor"),i=at("borderRadius"),o=at("borderSpacing"),l=at("borderWidth"),d=at("contrast"),u=at("grayscale"),h=at("hueRotate"),c=at("invert"),m=at("gap"),f=at("gradientColorStops"),p=at("gradientColorStopPositions"),v=at("inset"),y=at("margin"),b=at("opacity"),w=at("padding"),j=at("saturate"),C=at("scale"),P=at("sepia"),_=at("skew"),L=at("space"),Z=at("translate"),B=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Te,t],T=()=>[Te,t],O=()=>["",Os,Ws],E=()=>["auto",ba,Te],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Te],Pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[ba,Te];return{cacheSize:500,separator:":",theme:{colors:[cn],spacing:[Os,Ws],blur:["none","",Qs,Te],brightness:fe(),borderColor:[r],borderRadius:["none","","full",Qs,Te],borderSpacing:T(),borderWidth:O(),contrast:fe(),grayscale:ae(),hueRotate:fe(),invert:ae(),gap:T(),gradientColorStops:[r],gradientColorStopPositions:[dy,Ws],inset:U(),margin:U(),opacity:fe(),padding:T(),saturate:fe(),scale:fe(),sepia:ae(),skew:fe(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[Qs]}],"break-after":[{"break-after":Pe()}],"break-before":[{"break-before":Pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),Te]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ln,Te]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",ln,Te]}],"grid-cols":[{"grid-cols":[cn]}],"col-start-end":[{col:["auto",{span:["full",ln,Te]},Te]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[cn]}],"row-start-end":[{row:["auto",{span:[ln,Te]},Te]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,t]}],"min-w":[{"min-w":[Te,t,"min","max","fit"]}],"max-w":[{"max-w":[Te,t,"none","full","min","max","fit","prose",{screen:[Qs]},Qs]}],h:[{h:[Te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qs,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Co]}],"font-family":[{font:[cn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ba,Co]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Os,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Os,Ws]}],"underline-offset":[{"underline-offset":["auto",Os,Te]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),my]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fy]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Os,Te]}],"outline-w":[{outline:[Os,Ws]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Os,Ws]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Qs,gy]}],"shadow-color":[{shadow:[cn]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Qs,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[c]}],saturate:[{saturate:[j]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[c]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ln,Te]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Os,Ws,Co]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jy=sy(by);function X(...r){return jy(dh(r))}const wy=l0,Ch=x.forwardRef(({className:r,...t},s)=>e.jsx(rh,{ref:s,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...t}));Ch.displayName=rh.displayName;const Ny=Ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sh=x.forwardRef(({className:r,variant:t,...s},a)=>e.jsx(ah,{ref:a,className:X(Ny({variant:t}),r),...s}));Sh.displayName=ah.displayName;const ky=x.forwardRef(({className:r,...t},s)=>e.jsx(oh,{ref:s,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...t}));ky.displayName=oh.displayName;const _h=x.forwardRef(({className:r,...t},s)=>e.jsx(lh,{ref:s,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...t,children:e.jsx(Vt,{className:"h-4 w-4"})}));_h.displayName=lh.displayName;const Ph=x.forwardRef(({className:r,...t},s)=>e.jsx(nh,{ref:s,className:X("text-sm font-semibold",r),...t}));Ph.displayName=nh.displayName;const Th=x.forwardRef(({className:r,...t},s)=>e.jsx(ih,{ref:s,className:X("text-sm opacity-90",r),...t}));Th.displayName=ih.displayName;function Cy(){const{toasts:r}=bt();return e.jsxs(wy,{children:[r.map(function({id:t,title:s,description:a,action:n,...i}){return e.jsxs(Sh,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Ph,{children:s}),a&&e.jsx(Th,{children:a})]}),n,e.jsx(_h,{})]},t)}),e.jsx(Ch,{})]})}var[Qi,ok]=ks("Tooltip",[Ri]),Kl=Ri(),Eh="TooltipProvider",Sy=700,Kc="tooltip.open",[_y,Ah]=Qi(Eh),Rh=r=>{const{__scopeTooltip:t,delayDuration:s=Sy,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=r,o=x.useRef(!0),l=x.useRef(!1),d=x.useRef(0);return x.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),e.jsx(_y,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:n,children:i})};Rh.displayName=Eh;var Ih="Tooltip",[lk,Gi]=Qi(Ih),al="TooltipTrigger",Py=x.forwardRef((r,t)=>{const{__scopeTooltip:s,...a}=r,n=Gi(al,s),i=Ah(al,s),o=Kl(s),l=x.useRef(null),d=dt(t,l,n.onTriggerChange),u=x.useRef(!1),h=x.useRef(!1),c=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",c),[c]),e.jsx(ou,{asChild:!0,...o,children:e.jsx(_e.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:d,onPointerMove:ge(r.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(r.onPointerLeave,()=>{n.onTriggerLeave(),h.current=!1}),onPointerDown:ge(r.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",c,{once:!0})}),onFocus:ge(r.onFocus,()=>{u.current||n.onOpen()}),onBlur:ge(r.onBlur,n.onClose),onClick:ge(r.onClick,n.onClose)})})});Py.displayName=al;var Ty="TooltipPortal",[ck,Ey]=Qi(Ty,{forceMount:void 0}),Ua="TooltipContent",Oh=x.forwardRef((r,t)=>{const s=Ey(Ua,r.__scopeTooltip),{forceMount:a=s.forceMount,side:n="top",...i}=r,o=Gi(Ua,r.__scopeTooltip);return e.jsx(Vn,{present:a||o.open,children:o.disableHoverableContent?e.jsx(Lh,{side:n,...i,ref:t}):e.jsx(Ay,{side:n,...i,ref:t})})}),Ay=x.forwardRef((r,t)=>{const s=Gi(Ua,r.__scopeTooltip),a=Ah(Ua,r.__scopeTooltip),n=x.useRef(null),i=dt(t,n),[o,l]=x.useState(null),{trigger:d,onClose:u}=s,h=n.current,{onPointerInTransitChange:c}=a,m=x.useCallback(()=>{l(null),c(!1)},[c]),f=x.useCallback((p,v)=>{const y=p.currentTarget,b={x:p.clientX,y:p.clientY},w=My(b,y.getBoundingClientRect()),j=Dy(b,w),C=Fy(v.getBoundingClientRect()),P=By([...j,...C]);l(P),c(!0)},[c]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(d&&h){const p=y=>f(y,h),v=y=>f(y,d);return d.addEventListener("pointerleave",p),h.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",p),h.removeEventListener("pointerleave",v)}}},[d,h,f,m]),x.useEffect(()=>{if(o){const p=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},w=(d==null?void 0:d.contains(y))||(h==null?void 0:h.contains(y)),j=!$y(b,o);w?m():j&&(m(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[d,h,o,u,m]),e.jsx(Lh,{...r,ref:i})}),[Ry,Iy]=Qi(Ih,{isInside:!1}),Oy=jg("TooltipContent"),Lh=x.forwardRef((r,t)=>{const{__scopeTooltip:s,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=r,d=Gi(Ua,s),u=Kl(s),{onClose:h}=d;return x.useEffect(()=>(document.addEventListener(Kc,h),()=>document.removeEventListener(Kc,h)),[h]),x.useEffect(()=>{if(d.trigger){const c=m=>{const f=m.target;f!=null&&f.contains(d.trigger)&&h()};return window.addEventListener("scroll",c,{capture:!0}),()=>window.removeEventListener("scroll",c,{capture:!0})}},[d.trigger,h]),e.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c=>c.preventDefault(),onDismiss:h,children:e.jsxs(cu,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Oy,{children:a}),e.jsx(Ry,{scope:s,isInside:!0,children:e.jsx(qp,{id:d.contentId,role:"tooltip",children:n||a})})]})})});Oh.displayName=Ua;var Mh="TooltipArrow",Ly=x.forwardRef((r,t)=>{const{__scopeTooltip:s,...a}=r,n=Kl(s);return Iy(Mh,s).isInside?null:e.jsx(du,{...n,...a,ref:t})});Ly.displayName=Mh;function My(r,t){const s=Math.abs(t.top-r.y),a=Math.abs(t.bottom-r.y),n=Math.abs(t.right-r.x),i=Math.abs(t.left-r.x);switch(Math.min(s,a,n,i)){case i:return"left";case n:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Dy(r,t,s=5){const a=[];switch(t){case"top":a.push({x:r.x-s,y:r.y+s},{x:r.x+s,y:r.y+s});break;case"bottom":a.push({x:r.x-s,y:r.y-s},{x:r.x+s,y:r.y-s});break;case"left":a.push({x:r.x+s,y:r.y-s},{x:r.x+s,y:r.y+s});break;case"right":a.push({x:r.x-s,y:r.y-s},{x:r.x-s,y:r.y+s});break}return a}function Fy(r){const{top:t,right:s,bottom:a,left:n}=r;return[{x:n,y:t},{x:s,y:t},{x:s,y:a},{x:n,y:a}]}function $y(r,t){const{x:s,y:a}=r;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,d=t[i].y,u=t[o].x,h=t[o].y;d>a!=h>a&&s<(u-l)*(a-d)/(h-d)+l&&(n=!n)}return n}function By(r){const t=r.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),zy(t)}function zy(r){if(r.length<=1)return r.slice();const t=[];for(let a=0;a<r.length;a++){const n=r[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const s=[];for(let a=r.length-1;a>=0;a--){const n=r[a];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))s.pop();else break}s.push(n)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var Uy=Rh,Dh=Oh;const Vy=Uy,qy=x.forwardRef(({className:r,sideOffset:t=4,...s},a)=>e.jsx(Dh,{ref:a,sideOffset:t,className:X("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...s}));qy.displayName=Dh.displayName;const Fh=x.createContext(void 0),dn="meow_meow_auth_user";function Hy({children:r}){const[t,s]=x.useState(null),[a,n]=x.useState(!0),[i,o]=x.useState(null),[l,d]=x.useState({total:0,supabase:0,fallback:0});x.useEffect(()=>{u()},[]);const u=async()=>{try{const f=localStorage.getItem(dn),p=localStorage.getItem("connection_stats");if(f)try{const v=JSON.parse(f);s(v),o(v.authMethod||"supabase")}catch(v){console.error("Failed to parse stored user:",v),localStorage.removeItem(dn)}if(p)try{d(JSON.parse(p))}catch(v){console.error("Failed to parse connection stats:",v)}}catch(f){console.error("Auth check failed:",f)}finally{n(!1)}},h=async(f,p)=>{try{const v=parseInt(localStorage.getItem("supabase_connections")||"0");let y="supabase";v>=190&&(y="fallback",console.log("Using fallback authentication due to connection limit"));const b=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:p,authMethod:y})}),w=await b.json();if(b.ok){s(w.user),o(w.authMethod||y);const j={total:l.total+1,supabase:y==="supabase"?l.supabase+1:l.supabase,fallback:y==="fallback"?l.fallback+1:l.fallback};return d(j),localStorage.setItem("connection_stats",JSON.stringify(j)),localStorage.setItem(dn,JSON.stringify({...w.user,authMethod:y})),console.log(`User signed in via ${y}:`,w.user),{success:!0}}else return{success:!1,message:w.message}}catch{return{success:!1,message:"Network error"}}},c=()=>{s(null),localStorage.removeItem(dn),localStorage.removeItem("auth_user"),console.log("User signed out and storage cleared")},m=async f=>{if(!t)return{success:!1,message:"No user logged in"};try{const p=await fetch(`/api/auth/profile/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),v=await p.json();if(p.ok){const y={...t,...v.user};return s(y),localStorage.setItem(dn,JSON.stringify(y)),console.log("Profile updated successfully:",y),{success:!0,message:v.message}}else return{success:!1,message:v.message}}catch{return{success:!1,message:"Network error"}}};return e.jsx(Fh.Provider,{value:{user:t,signIn:h,signOut:c,updateProfile:m,loading:a,authMethod:i,connectionStats:l},children:r})}function Xa(){const r=x.useContext(Fh);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const $h=x.createContext(void 0),Wc="meow-meow-cart";function Ky(r,t){switch(t.type){case"ADD_ITEM":{const s=r.items.find(a=>a.id===t.payload.id);if(s){const a=Math.min(s.quantity+1,s.maxStock),n=r.items.map(i=>i.id===t.payload.id?{...i,quantity:a}:i);return{...r,items:n,total:sa(n),itemCount:ra(n)}}else{const a={...t.payload,quantity:1},n=[...r.items,a];return{...r,items:n,total:sa(n),itemCount:ra(n)}}}case"REMOVE_ITEM":{const s=r.items.filter(a=>a.id!==t.payload);return{...r,items:s,total:sa(s),itemCount:ra(s)}}case"UPDATE_QUANTITY":{const{id:s,quantity:a}=t.payload;if(a<=0){const i=r.items.filter(o=>o.id!==s);return{...r,items:i,total:sa(i),itemCount:ra(i)}}const n=r.items.map(i=>i.id===s?{...i,quantity:Math.min(a,i.maxStock)}:i);return{...r,items:n,total:sa(n),itemCount:ra(n)}}case"CLEAR_CART":return{items:[],total:0,itemCount:0,appliedCoupon:null};case"LOAD_CART":{const{items:s,appliedCoupon:a}=t.payload;return{items:s,total:sa(s),itemCount:ra(s),appliedCoupon:a}}case"APPLY_COUPON":return{...r,appliedCoupon:t.payload};case"REMOVE_COUPON":return{...r,appliedCoupon:null};default:return r}}function sa(r){return r.reduce((t,s)=>t+s.price*s.quantity,0)}function ra(r){return r.reduce((t,s)=>t+s.quantity,0)}function Wy({children:r}){const[t,s]=x.useReducer(Ky,{items:[],total:0,itemCount:0,appliedCoupon:null});x.useEffect(()=>{try{const m=localStorage.getItem(Wc);if(m){const f=JSON.parse(m);Array.isArray(f)?s({type:"LOAD_CART",payload:{items:f,appliedCoupon:null}}):s({type:"LOAD_CART",payload:f})}}catch(m){console.error("Failed to load cart from localStorage:",m)}},[]),x.useEffect(()=>{try{localStorage.setItem(Wc,JSON.stringify({items:t.items,appliedCoupon:t.appliedCoupon}))}catch(m){console.error("Failed to save cart to localStorage:",m)}},[t.items,t.appliedCoupon]);const c={state:t,addItem:m=>{s({type:"ADD_ITEM",payload:m})},removeItem:m=>{s({type:"REMOVE_ITEM",payload:m})},updateQuantity:(m,f)=>{s({type:"UPDATE_QUANTITY",payload:{id:m,quantity:f}})},clearCart:()=>{s({type:"CLEAR_CART"})},getItemQuantity:m=>{const f=t.items.find(p=>p.id===m);return f?f.quantity:0},applyCoupon:m=>{s({type:"APPLY_COUPON",payload:m})},removeCoupon:()=>{s({type:"REMOVE_COUPON"})},getFinalTotal:()=>t.appliedCoupon?Math.max(0,t.total-t.appliedCoupon.discount):t.total};return e.jsx($h.Provider,{value:c,children:r})}function Cs(){const r=x.useContext($h);if(r===void 0)throw new Error("useCart must be used within a CartProvider");return r}function Qy(){const[r]=qt();return x.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[r]),null}const Gy=Ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:shadow-md active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline hover:no-underline",meow:"bg-[#ffde59] text-[#26732d] hover:bg-[#ffd73e] hover:shadow-lg font-medium",meowGreen:"bg-[#26732d] text-white hover:bg-[#1e5d26] hover:shadow-lg font-medium"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=x.forwardRef(({className:r,variant:t,size:s,asChild:a=!1,...n},i)=>{const o=a?uu:"button";return e.jsx(o,{className:X(Gy({variant:t,size:s,className:r})),ref:i,...n})});S.displayName="Button";function Zy(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-b from-blue-50 to-green-50 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto text-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-10 left-10 w-16 h-10 bg-white rounded-full opacity-80"}),e.jsx("div",{className:"absolute top-5 left-20 w-12 h-8 bg-white rounded-full opacity-60"}),e.jsx("div",{className:"absolute top-8 right-20 w-20 h-12 bg-white rounded-full opacity-70"}),e.jsx("div",{className:"absolute top-2 right-10 w-14 h-9 bg-white rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-20 left-5 w-12 h-6 bg-green-400 rounded-t-full"}),e.jsx("div",{className:"absolute bottom-16 left-16 w-8 h-4 bg-green-500 rounded-t-full"}),e.jsx("div",{className:"absolute bottom-24 right-8 w-10 h-5 bg-green-400 rounded-t-full"}),e.jsx("div",{className:"absolute bottom-18 right-20 w-14 h-7 bg-green-500 rounded-t-full"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-8xl md:text-9xl font-bold text-gray-800 mb-8",children:"404"}),e.jsxs("div",{className:"relative inline-block mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-24 h-20 bg-orange-400 rounded-full mx-auto mb-2 relative",children:[e.jsx("div",{className:"absolute -top-3 left-4 w-6 h-8 bg-orange-400 rounded-t-full transform -rotate-12"}),e.jsx("div",{className:"absolute -top-3 right-4 w-6 h-8 bg-orange-400 rounded-t-full transform rotate-12"}),e.jsx("div",{className:"absolute -top-1 left-6 w-3 h-4 bg-pink-300 rounded-t-full transform -rotate-12"}),e.jsx("div",{className:"absolute -top-1 right-6 w-3 h-4 bg-pink-300 rounded-t-full transform rotate-12"}),e.jsx("div",{className:"absolute top-6 left-6 w-3 h-3 bg-black rounded-full"}),e.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-black rounded-full"}),e.jsx("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-pink-500 rounded-sm rotate-45"}),e.jsxs("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2",children:[e.jsx("div",{className:"w-1 h-2 bg-black"}),e.jsx("div",{className:"absolute top-2 -left-2 w-4 h-1 border-b-2 border-black rounded-full"})]}),e.jsx("div",{className:"absolute top-5 left-5 w-4 h-2 border-t-2 border-black rounded-full transform rotate-12"}),e.jsx("div",{className:"absolute top-5 right-5 w-4 h-2 border-t-2 border-black rounded-full transform -rotate-12"})]}),e.jsxs("div",{className:"w-20 h-16 bg-orange-400 rounded-full mx-auto relative",children:[e.jsx("div",{className:"absolute top-2 left-2 right-2 h-1 bg-orange-600 rounded"}),e.jsx("div",{className:"absolute top-6 left-3 right-3 h-1 bg-orange-600 rounded"}),e.jsx("div",{className:"absolute top-10 left-2 right-2 h-1 bg-orange-600 rounded"})]}),e.jsxs("div",{className:"flex justify-center gap-1 mt-1",children:[e.jsx("div",{className:"w-3 h-8 bg-orange-400 rounded-b-full"}),e.jsx("div",{className:"w-3 h-8 bg-orange-400 rounded-b-full"}),e.jsx("div",{className:"w-3 h-8 bg-orange-400 rounded-b-full"}),e.jsx("div",{className:"w-3 h-8 bg-orange-400 rounded-b-full"})]}),e.jsx("div",{className:"absolute -right-8 top-8 w-16 h-3 bg-orange-400 rounded-full transform rotate-45 origin-left"}),e.jsx("div",{className:"absolute -right-6 top-4 w-12 h-3 bg-orange-400 rounded-full transform rotate-12 origin-left"})]}),e.jsx("div",{className:"absolute top-4 -right-20 w-24 h-1 bg-red-500 transform rotate-12"}),e.jsx("div",{className:"absolute top-4 -right-16 w-4 h-4 bg-red-600 rounded-full"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Meow! Looks like you're lost"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The page you're looking for is not available!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Our cat seems to have knocked it off the internet shelf 🐾"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 justify-center items-center",children:[e.jsx(re,{href:"/",children:e.jsxs(S,{className:"bg-[#26732d] hover:bg-[#1e5d26] text-white px-8 py-3 rounded-lg font-semibold flex items-center gap-1",children:[e.jsx(Hi,{size:20}),"Go Home"]})}),e.jsxs(S,{variant:"outline",onClick:()=>window.history.back(),className:"border-[#26732d] text-[#26732d] hover:bg-[#26732d] hover:text-white px-8 py-3 rounded-lg font-semibold flex items-center gap-1",children:[e.jsx(Xt,{size:20}),"Go Back"]})]}),e.jsx("div",{className:"mt-12 p-4 bg-white/70 rounded-lg max-w-md mx-auto",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Fun Fact:"})," Cats spend 70% of their lives sleeping. Maybe this page is just taking a cat nap! 😴"]})})]})]})})})}const Q=x.forwardRef(({className:r,type:t,...s},a)=>e.jsx("input",{type:t,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...s}));Q.displayName="Input";const K=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t}));K.displayName="Card";const Ne=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("flex flex-col space-y-1.5 p-6",r),...t}));Ne.displayName="CardHeader";const ke=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("text-2xl font-semibold leading-none tracking-tight",r),...t}));ke.displayName="CardTitle";const as=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("text-sm text-muted-foreground",r),...t}));as.displayName="CardDescription";const te=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("p-6 pt-0",r),...t}));te.displayName="CardContent";const Jy=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("flex items-center p-6 pt-0",r),...t}));Jy.displayName="CardFooter";const Yy="modulepreload",Xy=function(r){return"/"+r},Qc={},en=function(t,s,a){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(d=>{if(d=Xy(d),d in Qc)return;Qc[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":Yy,u||(c.as="script"),c.crossOrigin="",c.href=d,l&&c.setAttribute("nonce",l),document.head.appendChild(c),u)return new Promise((m,f)=>{c.addEventListener("load",m),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ev=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>en(async()=>{const{default:a}=await Promise.resolve().then(()=>tn);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)};class Wl extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class tv extends Wl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gc extends Wl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zc extends Wl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nl;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(nl||(nl={}));var sv=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};class rv{constructor(t,{headers:s={},customFetch:a,region:n=nl.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=ev(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var a;return sv(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let l={},{region:d}=s;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const c=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h}).catch(v=>{throw new tv(v)}),m=c.headers.get("x-relay-error");if(m&&m==="true")throw new Gc(c);if(!c.ok)throw new Zc(c);let f=((a=c.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null,response:c}}catch(n){return{data:null,error:n,response:n instanceof Zc||n instanceof Gc?n.context:void 0}}})}}var Gt={},Ql={},Zi={},Hn={},Ji={},Yi={},av=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Va=av();const nv=Va.fetch,Bh=Va.fetch.bind(Va),zh=Va.Headers,iv=Va.Request,ov=Va.Response,tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:zh,Request:iv,Response:ov,default:Bh,fetch:nv},Symbol.toStringTag,{value:"Module"})),lv=Tg(tn);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});let cv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xi.default=cv;var Uh=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yi,"__esModule",{value:!0});const dv=Uh(lv),uv=Uh(Xi);let hv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let n=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,d;let u=null,h=null,c=null,m=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=b:h=JSON.parse(b))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(c=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,c=null,m=406,f="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(h=[],u=null,m=200,f="OK")}catch{i.status===404&&v===""?(m=204,f="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,f="OK"),u&&this.shouldThrowOnError)throw new uv.default(u)}return{error:u,data:h,count:c,status:m,statusText:f}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,l,d;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(d=i==null?void 0:i.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,s)}returns(){return this}overrideTypes(){return this}};Yi.default=hv;var mv=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ji,"__esModule",{value:!0});const xv=mv(Yi);let fv=class extends xv.default{select(t){let s=!1;const a=(t??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:a=s}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,s,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var l;const d=[t?"analyze":null,s?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${d};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ji.default=fv;var gv=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});const pv=gv(Ji);let yv=class extends pv.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const a=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${a})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=a===void 0?"":`(${a})`;return this.url.searchParams.append(t,`${i}fts${o}.${s}`),this}match(t){return Object.entries(t).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(t,s,a){return this.url.searchParams.append(t,`not.${s}.${a}`),this}or(t,{foreignTable:s,referencedTable:a=s}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,s,a){return this.url.searchParams.append(t,`${s}.${a}`),this}};Hn.default=yv;var vv=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zi,"__esModule",{value:!0});const un=vv(Hn);let bv=class{constructor(t,{headers:s={},schema:a,fetch:n}){this.url=t,this.headers=s,this.schema=a,this.fetch=n}select(t,{head:s=!1,count:a}={}){const n=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),a&&(this.headers.Prefer=`count=${a}`),new un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:a=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(o.length>0){const l=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const d=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new un.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const a="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new un.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",a=[];return t&&a.push(`count=${t}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Zi.default=bv;var eo={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.version=void 0;to.version="0.0.0-automated";Object.defineProperty(eo,"__esModule",{value:!0});eo.DEFAULT_HEADERS=void 0;const jv=to;eo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jv.version}`};var Vh=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ql,"__esModule",{value:!0});const wv=Vh(Zi),Nv=Vh(Hn),kv=eo;let Cv=class qh{constructor(t,{headers:s={},schema:a,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},kv.DEFAULT_HEADERS),s),this.schemaName=a,this.fetch=n}from(t){const s=new URL(`${this.url}/${t}`);return new wv.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:n=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let d;a||n?(o=a?"HEAD":"GET",Object.entries(s).filter(([h,c])=>c!==void 0).map(([h,c])=>[h,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([h,c])=>{l.searchParams.append(h,c)})):(o="POST",d=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Nv.default({method:o,url:l,headers:u,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Ql.default=Cv;var sn=ds&&ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const Hh=sn(Ql);Gt.PostgrestClient=Hh.default;const Kh=sn(Zi);Gt.PostgrestQueryBuilder=Kh.default;const Wh=sn(Hn);Gt.PostgrestFilterBuilder=Wh.default;const Qh=sn(Ji);Gt.PostgrestTransformBuilder=Qh.default;const Gh=sn(Yi);Gt.PostgrestBuilder=Gh.default;const Zh=sn(Xi);Gt.PostgrestError=Zh.default;var Sv=Gt.default={PostgrestClient:Hh.default,PostgrestQueryBuilder:Kh.default,PostgrestFilterBuilder:Wh.default,PostgrestTransformBuilder:Qh.default,PostgrestBuilder:Gh.default,PostgrestError:Zh.default};const{PostgrestClient:_v,PostgrestQueryBuilder:fk,PostgrestFilterBuilder:gk,PostgrestTransformBuilder:pk,PostgrestBuilder:yk,PostgrestError:vk}=Sv;function Pv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Tv=Pv(),Ev="2.11.15",Av=`realtime-js/${Ev}`,Rv="1.0.0",Jh=1e4,Iv=1e3;var Cn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Cn||(Cn={}));var Ot;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ot||(Ot={}));var ps;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ps||(ps={}));var il;(function(r){r.websocket="websocket"})(il||(il={}));var Or;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Or||(Or={}));class Ov{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,s,a)}_decodeBroadcast(t,s,a){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=a.decode(t.slice(o,o+n));o=o+n;const d=a.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:d,payload:u}}}class Yh{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(st||(st={}));const Jc=(r,t,s={})=>{var a;const n=(a=s.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((i,o)=>(i[o]=Lv(o,r,t,n),i),{})},Lv=(r,t,s,a)=>{const n=t.find(l=>l.name===r),i=n==null?void 0:n.type,o=s[r];return i&&!a.includes(i)?Xh(i,o):ol(o)},Xh=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return $v(t,s)}switch(r){case st.bool:return Mv(t);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Dv(t);case st.json:case st.jsonb:return Fv(t);case st.timestamp:return Bv(t);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return ol(t);default:return ol(t)}},ol=r=>r,Mv=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Dv=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Fv=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},$v=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,a=r[s];if(r[0]==="{"&&a==="}"){let i;const o=r.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Xh(t,l))}return r},Bv=r=>typeof r=="string"?r.replace(" ","T"):r,em=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class So{constructor(t,s,a={},n=Jh){this.channel=t,this.event=s,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yc;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Yc||(Yc={}));class Sn{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sn.syncState(this.state,n,i,o),this.pendingDiffs.forEach(d=>{this.state=Sn.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Sn.syncDiff(this.state,n,i,o),l())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,n){const i=this.cloneDeep(t),o=this.transformState(s),l={},d={};return this.map(i,(u,h)=>{o[u]||(d[u]=h)}),this.map(o,(u,h)=>{const c=i[u];if(c){const m=h.map(y=>y.presence_ref),f=c.map(y=>y.presence_ref),p=h.filter(y=>f.indexOf(y.presence_ref)<0),v=c.filter(y=>m.indexOf(y.presence_ref)<0);p.length>0&&(l[u]=p),v.length>0&&(d[u]=v)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:d},a,n)}static syncDiff(t,s,a,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(l,d)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(d),h.length>0){const c=t[l].map(f=>f.presence_ref),m=h.filter(f=>c.indexOf(f.presence_ref)<0);t[l].unshift(...m)}a(l,h,d)}),this.map(o,(l,d)=>{let u=t[l];if(!u)return;const h=d.map(c=>c.presence_ref);u=u.filter(c=>h.indexOf(c.presence_ref)<0),t[l]=u,n(l,u,d),u.length===0&&delete t[l]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const n=t[a];return"metas"in n?s[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[a]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xc;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Xc||(Xc={}));var ed;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ed||(ed={}));var $s;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})($s||($s={}));class Gl{constructor(t,s={config:{}},a){this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new So(this,ps.join,this.params,this.timeout),this.rejoinTimer=new Yh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Sn(this),this.broadcastEndpointURL=em(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(h=>t==null?void 0:t($s.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t($s.CLOSED));const d={},u={broadcast:i,presence:o,postgres_changes:(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(h=>h.filter))!==null&&n!==void 0?n:[],private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:h})=>{var c;if(this.socket.setAuth(),h===void 0){t==null||t($s.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,f=(c=m==null?void 0:m.length)!==null&&c!==void 0?c:0,p=[];for(let v=0;v<f;v++){const y=m[v],{filter:{event:b,schema:w,table:j,filter:C}}=y,P=h&&h[v];if(P&&P.event===b&&P.schema===w&&P.table===j&&P.filter===C)p.push(Object.assign(Object.assign({},y),{id:P.id}));else{this.unsubscribe(),this.state=Ot.errored,t==null||t($s.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t($s.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ot.errored,t==null||t($s.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($s.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this._on(t,s,a)}async send(t,s={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,d;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ot.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new So(this,ps.leave,{},t),a.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,s,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new So(this,t,s,a);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var n,i;const o=t.toLocaleLowerCase(),{close:l,error:d,leave:u,join:h}=ps;if(a&&[l,d,u,h].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,s,a);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var p,v,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,v,y,b,w,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const C=f.id,P=(p=f.filter)===null||p===void 0?void 0:p.event;return C&&((v=s.ids)===null||v===void 0?void 0:v.includes(C))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const C=(w=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return C==="*"||C===((j=s==null?void 0:s.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:v,table:y,commit_timestamp:b,type:w,errors:j}=p;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:b,eventType:w,new:{},old:{},errors:j}),this._getPayloadRecords(p))}f.callback(m,a)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Gl.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ps.close,{},t)}_onError(t){this._on(ps.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Jc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Jc(t.columns,t.old_record)),s}}const td=()=>{},zv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uv{constructor(t,s){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=td,this.ref=0,this.logger=td,this.conn=null,this.sendBuffer=[],this.serializer=new Ov,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>en(async()=>{const{default:d}=await Promise.resolve().then(()=>tn);return{default:d}},void 0).then(({default:d})=>d(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${il.websocket}`,this.httpEndpoint=em(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(a=s==null?void 0:s.params)===null||a===void 0?void 0:a.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Tv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rv}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Cn.connecting:return Or.Connecting;case Cn.open:return Or.Open;case Cn.closing:return Or.Closing;default:return Or.Closed}}isConnected(){return this.connectionState()===Or.Open}channel(t,s={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new Gl(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:a,payload:n,ref:i}=t,o=()=>{this.encode(t,l=>{var d;(d=this.conn)===null||d===void 0||d.send(l)})};this.log("push",`${s} ${a} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const n={access_token:s,version:Av};s&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(ps.access_token,{access_token:s})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Iv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:a,event:n,payload:i,ref:o}=s;a==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${a} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(a)).forEach(l=>l._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ps.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${a}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([zv],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}}class Zl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _t(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Vv extends Zl{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ll extends Zl{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var qv=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};const tm=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>en(async()=>{const{default:a}=await Promise.resolve().then(()=>tn);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},Hv=()=>qv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield en(()=>Promise.resolve().then(()=>tn),void 0)).Response:Response}),cl=r=>{if(Array.isArray(r))return r.map(s=>cl(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,a])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=cl(a)}),t};var ea=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};const _o=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Kv=(r,t,s)=>ea(void 0,void 0,void 0,function*(){const a=yield Hv();r instanceof a&&!(s!=null&&s.noResolveJson)?r.json().then(n=>{t(new Vv(_o(n),r.status||500))}).catch(n=>{t(new ll(_o(n),n))}):t(new ll(_o(r),r))}),Wv=(r,t,s,a)=>{const n={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a&&(n.body=JSON.stringify(a)),Object.assign(Object.assign({},n),s))};function Kn(r,t,s,a,n,i){return ea(this,void 0,void 0,function*(){return new Promise((o,l)=>{r(s,Wv(t,a,n,i)).then(d=>{if(!d.ok)throw d;return a!=null&&a.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>Kv(d,l,a))})})}function yi(r,t,s,a){return ea(this,void 0,void 0,function*(){return Kn(r,"GET",t,s,a)})}function Ys(r,t,s,a,n){return ea(this,void 0,void 0,function*(){return Kn(r,"POST",t,a,n,s)})}function Qv(r,t,s,a,n){return ea(this,void 0,void 0,function*(){return Kn(r,"PUT",t,a,n,s)})}function Gv(r,t,s,a){return ea(this,void 0,void 0,function*(){return Kn(r,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function sm(r,t,s,a,n){return ea(this,void 0,void 0,function*(){return Kn(r,"DELETE",t,a,n,s)})}var Kt=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};const Zv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jv{constructor(t,s={},a,n){this.url=t,this.headers=s,this.bucketId=a,this.fetch=tm(n)}uploadOrUpdate(t,s,a,n){return Kt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sd),n);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,d&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(s),h=this._getFinalPath(u),c=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield c.json();return c.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(_t(i))return{data:null,error:i};throw i}})}upload(t,s,a){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,n){return Kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let d;const u=Object.assign({upsert:sd.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",u.cacheControl),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",u.cacheControl)):(d=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const c=yield this.fetch(l.toString(),{method:"PUT",body:d,headers:h}),m=yield c.json();return c.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(d){if(_t(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,s){return Kt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ys(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}update(t,s,a){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return Kt(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}copy(t,s,a){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ys(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,a){return Kt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Ys(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,a){return Kt(this,void 0,void 0,function*(){try{const n=yield Ys(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}download(t,s){return Kt(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield yi(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(_t(l))return{data:null,error:l};throw l}})}info(t){return Kt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield yi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:cl(a),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}exists(t){return Kt(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Gv(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(_t(a)&&a instanceof ll){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});d!==""&&n.push(d);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}list(t,s,a){return Kt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Zv),s),{prefix:t||""});return{data:yield Ys(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Yv="2.7.1",Xv={"X-Client-Info":`storage-js/${Yv}`};var aa=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};class eb{constructor(t,s={},a){this.url=t,this.headers=Object.assign(Object.assign({},Xv),s),this.fetch=tm(a)}listBuckets(){return aa(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_t(t))return{data:null,error:t};throw t}})}getBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return aa(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}updateBucket(t,s){return aa(this,void 0,void 0,function*(){try{return{data:yield Qv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}})}emptyBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}deleteBucket(t){return aa(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(_t(s))return{data:null,error:s};throw s}})}}class tb extends eb{constructor(t,s={},a){super(t,s,a)}from(t){return new Jv(this.url,this.headers,t,this.fetch)}}const sb="2.52.1";let gn="";typeof Deno<"u"?gn="deno":typeof document<"u"?gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gn="react-native":gn="node";const rb={"X-Client-Info":`supabase-js-${gn}/${sb}`},ab={headers:rb},nb={schema:"public"},ib={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ob={};var lb=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};const cb=r=>{let t;return r?t=r:typeof fetch>"u"?t=Bh:t=fetch,(...s)=>t(...s)},db=()=>typeof Headers>"u"?zh:Headers,ub=(r,t,s)=>{const a=cb(s),n=db();return(i,o)=>lb(void 0,void 0,void 0,function*(){var l;const d=(l=yield t())!==null&&l!==void 0?l:r;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${d}`),a(i,Object.assign(Object.assign({},o),{headers:u}))})};var hb=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};function mb(r){return r.endsWith("/")?r:r+"/"}function xb(r,t){var s,a;const{db:n,auth:i,realtime:o,global:l}=r,{db:d,auth:u,realtime:h,global:c}=t,m={db:Object.assign(Object.assign({},d),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},c),l),{headers:Object.assign(Object.assign({},(s=c==null?void 0:c.headers)!==null&&s!==void 0?s:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>hb(this,void 0,void 0,function*(){return""})};return r.accessToken?m.accessToken=r.accessToken:delete m.accessToken,m}const rm="2.71.1",ua=30*1e3,dl=3,Po=dl*ua,fb="http://localhost:9999",gb="supabase.auth.token",pb={"X-Client-Info":`gotrue-js/${rm}`},ul="X-Supabase-Api-Version",am={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vb=10*60*1e3;class Jl extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function Ce(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class bb extends Jl{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function jb(r){return Ce(r)&&r.name==="AuthApiError"}class nm extends Jl{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class jr extends Jl{constructor(t,s,a,n){super(t,a,n),this.name=s,this.status=a}}class Js extends jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wb(r){return Ce(r)&&r.name==="AuthSessionMissingError"}class ri extends jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ai extends jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ni extends jr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nb(r){return Ce(r)&&r.name==="AuthImplicitGrantRedirectError"}class rd extends jr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hl extends jr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function To(r){return Ce(r)&&r.name==="AuthRetryableFetchError"}class ad extends jr{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class ml extends jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nd=` 	
\r=`.split(""),kb=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<nd.length;t+=1)r[nd[t].charCodeAt(0)]=-2;for(let t=0;t<vi.length;t+=1)r[vi[t].charCodeAt(0)]=t;return r})();function id(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(vi[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(vi[a]),t.queuedBits-=6}}function im(r,t,s){const a=kb[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function od(r){const t=[],s=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{_b(o,a,s)};for(let o=0;o<r.length;o+=1)im(r.charCodeAt(o),n,i);return t.join("")}function Cb(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Sb(r,t){for(let s=0;s<r.length;s+=1){let a=r.charCodeAt(s);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(r.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Cb(a,t)}}function _b(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let a=1;a<6;a+=1)if(!(r>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Pb(r){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<r.length;n+=1)im(r.charCodeAt(n),s,a);return new Uint8Array(t)}function Tb(r){const t=[];return Sb(r,s=>t.push(s)),new Uint8Array(t)}function Eb(r){const t=[],s={queue:0,queuedBits:0},a=n=>{t.push(n)};return r.forEach(n=>id(n,s,a)),id(null,s,a),t.join("")}function Ab(r){return Math.round(Date.now()/1e3)+r}function Rb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const xs=()=>typeof window<"u"&&typeof document<"u",_r={tested:!1,writable:!1},om=()=>{if(!xs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_r.tested)return _r.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),_r.tested=!0,_r.writable=!0}catch{_r.tested=!0,_r.writable=!1}return _r.writable};function Ib(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((a,n)=>{t[n]=a}),t}const lm=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...s)=>en(async()=>{const{default:a}=await Promise.resolve().then(()=>tn);return{default:a}},void 0).then(({default:a})=>a(...s)):t=fetch,(...s)=>t(...s)},Ob=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ha=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},Pr=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Gs=async(r,t)=>{await r.removeItem(t)};class so{constructor(){this.promise=new so.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}so.promiseConstructor=Promise;function Eo(r){const t=r.split(".");if(t.length!==3)throw new ml("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!yb.test(t[a]))throw new ml("JWT not in base64url format");return{header:JSON.parse(od(t[0])),payload:JSON.parse(od(t[1])),signature:Pb(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lb(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function Mb(r,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Db(r){return("0"+r.toString(16)).substr(-2)}function Fb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,Db).join("")}async function $b(r){const s=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Bb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await $b(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(r,t,s=!1){const a=Fb();let n=a;s&&(n+="/PASSWORD_RECOVERY"),await ha(r,`${t}-code-verifier`,n);const i=await Bb(a);return[i,a===i?"plain":"s256"]}const zb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ub(r){const t=r.headers.get(ul);if(!t||!t.match(zb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vb(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function qb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(r){if(!Hb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ld(r){return JSON.parse(JSON.stringify(r))}var Kb=function(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(r);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(r,a[n])&&(s[a[n]]=r[a[n]]);return s};const Er=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Wb=[502,503,504];async function cd(r){var t;if(!Ob(r))throw new hl(Er(r),0);if(Wb.includes(r.status))throw new hl(Er(r),r.status);let s;try{s=await r.json()}catch(i){throw new nm(Er(i),i)}let a;const n=Ub(r);if(n&&n.getTime()>=am["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new ad(Er(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Js}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ad(Er(s),r.status,s.weak_password.reasons);throw new bb(Er(s),r.status||500,a)}const Qb=(r,t,s,a)=>{const n={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),s))};async function Me(r,t,s,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[ul]||(i[ul]=am["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await Gb(r,t,s+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(d):{data:Object.assign({},d),error:null}}async function Gb(r,t,s,a,n,i){const o=Qb(t,a,n,i);let l;try{l=await r(s,Object.assign({},o))}catch(d){throw console.error(d),new hl(Er(d),0)}if(l.ok||await cd(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(d){await cd(d)}}function Ds(r){var t;let s=null;Xb(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=Ab(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:a},error:null}}function dd(r){const t=Ds(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function er(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Zb(r){return{data:r,error:null}}function Jb(r){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i}=r,o=Kb(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:s,hashed_token:a,redirect_to:n,verification_type:i},d=Object.assign({},o);return{data:{properties:l,user:d},error:null}}function Yb(r){return r}function Xb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ro=["global","local","others"];var ej=function(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(r);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(r,a[n])&&(s[a[n]]=r[a[n]]);return s};class tj{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=lm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=Ro[0]){if(Ro.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:er})}catch(a){if(Ce(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=ej(t,["options"]),n=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Jb,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Ce(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:er})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,n,i,o,l,d;try{const u={nextPage:null,lastPage:0,total:0},h=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Yb});if(h.error)throw h.error;const c=await h.json(),m=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(d=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&d!==void 0?d:[];return f.length>0&&(f.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(Ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ia(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:er})}catch(s){if(Ce(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ia(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:er})}catch(a){if(Ce(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){ia(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:er})}catch(a){if(Ce(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ia(t.userId);try{const{data:s,error:a}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:a}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ia(t.userId),ia(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}}function ud(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}function sj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oa={debug:!!(globalThis&&om()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rj extends cm{}async function aj(r,t,s){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await s()}finally{oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(t===0)throw oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new rj(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(oa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}sj();const nj={url:fb,storageKey:gb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hd(r,t,s){return await s()}const la={};class On{constructor(t){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=On.nextInstanceID,On.nextInstanceID+=1,this.instanceID>0&&xs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},nj),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new tj({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=lm(n.fetch),this.lock=n.lock||hd,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:xs()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=aj:this.lock=hd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:om()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ud(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ud(this.memoryStorage)),xs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=la[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=la[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){la[this.storageKey]=Object.assign(Object.assign({},la[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Ib(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),xs()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nb(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ce(s)?{error:s}:{error:new nm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,n;try{const i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ds}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,a,n;try{let i;if("email"in t){const{email:h,password:c,options:m}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await na(this.storage,this.storageKey)),i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:c,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ds})}else if("phone"in t){const{phone:h,password:c,options:m}=t;i=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:c,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ds})}else throw new ai("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const d=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:l}=t;s=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dd})}else if("phone"in t){const{phone:i,password:o,options:l}=t;s=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dd})}else throw new ai("You must provide either an email or phone number and a password");const{data:a,error:n}=s;return n?{data:{user:null,session:null},error:n}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ri}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,a,n,i,o,l,d,u,h,c,m,f;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:y,wallet:b,statement:w,options:j}=t;let C;if(xs())if(typeof b=="object")C=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))C=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const P=new URL((s=j==null?void 0:j.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in C&&C.signIn){const _=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),w?{statement:w}:null));let L;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")L=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)L=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)p=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),v=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${P.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(n=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((c=(h=j==null?void 0:j.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||c===void 0)&&c.length?["Resources",...j.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const _=await C.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:y,error:b}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Eb(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ds});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ri}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(Ce(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(s??"").split("/");try{const{data:i,error:o}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ds});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ri}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:a,token:n,access_token:i,nonce:o}=t,l=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ds}),{data:d,error:u}=l;return u?{data:{user:null,session:null},error:u}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ri}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:u})}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,a,n,i,o;try{if("email"in t){const{email:l,options:d}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await na(this.storage,this.storageKey));const{error:c}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:l,options:d}=t,{data:u,error:h}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new ai("You must provide either an email or phone number.")}catch(l){if(Ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var s,a;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ds});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,u=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:u,session:d},error:null}}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,a,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await na(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zb})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new Js;const{error:n}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:o}=await Me(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:o,error:l}=await Me(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ai("You must provide either an email or phone number and a type")}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Po:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ao()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,u,h))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:er}):await this._useSession(async s=>{var a,n,i;const{data:o,error:l}=s;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Js}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(s){if(Ce(s))return wb(s)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Js;const o=n.session;let l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=await na(this.storage,this.storageKey));const{data:u,error:h}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:o.access_token,xform:er});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(Ce(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Js;const s=Date.now()/1e3;let a=s,n=!0,i=null;const{payload:o}=Eo(t.access_token);if(o.exp&&(a=o.exp,n=a<=s),n){const{session:l,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Ce(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:o,error:l}=s;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Js;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!xs())throw new ni("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ni(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new rd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ni("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rd("No code detected.");const{data:w,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:l,expires_at:d,token_type:u}=t;if(!i||!l||!o||!u)throw new ni("No session defined in URL");const h=Math.round(Date.now()/1e3),c=parseInt(l);let m=h+c;d&&(m=parseInt(d));const f=m-h;f*1e3<=ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${c}s`);const p=m-c;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,h);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(a){if(Ce(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{error:i};const o=(a=n.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(jb(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Rb(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await na(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:a,error:n}=await this._useSession(async i=>{var o,l,d,u,h;const{data:c,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return xs()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:t.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ce(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)throw o;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Mb(async n=>(n>0&&await Lb(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ds})),(n,i)=>{const o=200*Math.pow(2,n);return i&&To(i)&&Date.now()+o-a<ua})}catch(a){if(this._debug(s,"error",a),Ce(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),xs()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await Pr(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ha(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ao()}else if(n&&!n.user&&!n.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Gs(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,n)):n.user=Ao()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Po;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Po}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),To(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new Js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new so;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Js;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(n,"error",i),Ce(i)){const o={session:null,error:i};return To(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,s)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await ha(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=ld(n);await ha(this.storage,this.storageKey,i)}else{const n=ld(s);await ha(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await Gs(this.storage,this.storageKey+"-code-verifier"),await Gs(this.storage,this.storageKey+"-user"),this.userStorage&&await Gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ua}ms, refresh threshold is ${dl} ticks`),n<=dl&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const n=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await na(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:u}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=d==null?void 0:d.totp)===null||n===void 0)&&n.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:n,error:i}=s;return i?{data:null,error:i}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a=(t==null?void 0:t.factors)||[],n=a.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=a.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:a,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,a;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Eo(n.access_token);let l=null;o.aal&&(l=o.aal);let d=l;((a=(s=n.user.factors)===null||s===void 0?void 0:s.filter(c=>c.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(l=>l.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+vb>n)return a;const{data:i,error:o}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};a=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:l,payload:d}}=Eo(a);s!=null&&s.allowExpired||Vb(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const h=qb(n.alg),c=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,c,o,Tb(`${l}.${d}`)))throw new ml("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}}}On.nextInstanceID=0;const ij=On;class oj extends ij{constructor(t){super(t)}}var lj=function(r,t,s,a){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(c){o(c)}}function d(h){try{u(a.throw(h))}catch(c){o(c)}}function u(h){h.done?i(h.value):n(h.value).then(l,d)}u((a=a.apply(r,t||[])).next())})};class cj{constructor(t,s,a){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=mb(t),d=new URL(l);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const u=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:nb,realtime:ob,auth:Object.assign(Object.assign({},ib),{storageKey:u}),global:ab},c=xb(a??{},h);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=ub(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new _v(new URL("rest/v1",d).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new rv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tb(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return lj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,storageKey:i,flowType:o,lock:l,debug:d},u,h){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oj({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:n,flowType:o,lock:l,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Uv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dj=(r,t,s)=>new cj(r,t,s);function uj(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const r=process.version.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}uj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Ns=null;try{const r="https://gcuqpomccknxydiadara.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdjdXFwb21jY2tueHlkaWFkYXJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NTA1MjcsImV4cCI6MjA3NzQyNjUyN30.EIh-JoP5SdXKYTAoLrVwm1GRZC9HmwjjZb2TZ4wHKJo";console.log("Supabase URL configured:",!!r),console.log("Supabase Key configured:",!!t),console.log("URL starts with:",r.substring(0,20)),r&&t&&(Ns=dj(r,t),console.log("Supabase client created successfully"))}catch(r){console.error("Supabase configuration error:",r),Ns=null}async function Yl(r,t=!1){if(!Ns)return console.log("Supabase not configured; using fallback authentication for OTP"),await en(async()=>{const{fallbackSignUp:s}=await import("./auth-fallback-CKbw2UE7.js");return{fallbackSignUp:s}},[]),t?(localStorage.setItem(`otp_${r}`,"123456"),{data:{message:"OTP sent successfully (Fallback mode)"},error:null}):{data:{message:"Please use sign up first (Fallback mode)"},error:null};console.log("Sending OTP to:",r,t?"(signup)":"(signin)");try{const{data:s,error:a}=await Ns.auth.signInWithOtp({email:r,options:{shouldCreateUser:t,data:t?{role:"user"}:void 0}});return console.log("OTP send response:",{data:!!s,error:a==null?void 0:a.message}),a?{data:s,error:a}:{data:{message:"OTP sent successfully"},error:null}}catch(s){return console.error("OTP send error:",s),{data:null,error:{message:"Failed to send OTP. Please try again."}}}}async function hj(r,t){if(!Ns)return console.error("Supabase client not initialized"),{data:null,error:{message:"Authentication service not configured."}};console.log("Verifying OTP for:",r);try{const{data:s,error:a}=await Ns.auth.verifyOtp({email:r,token:t,type:"email"});return console.log("OTP verification response:",{session:!!(s!=null&&s.session),user:!!(s!=null&&s.user),error:a==null?void 0:a.message}),{data:s,error:a}}catch(s){return console.error("OTP verification error:",s),{data:null,error:{message:"Invalid or expired code. Please try again."}}}}async function mj(){if(!Ns)return{error:{message:"Authentication service not configured."}};const{error:r}=await Ns.auth.signOut();return{error:r}}const dm=x.createContext(void 0);function xj({children:r}){const[t]=qt(),[s,a]=x.useState(!1),n=t==="/",i=()=>window.innerWidth<768;x.useEffect(()=>{n&&!i()?a(!0):a(!1)},[t,n]),x.useEffect(()=>{const l=()=>{n&&!i()?a(!0):i()&&a(!1)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[n]);const o=()=>a(!s);return e.jsx(dm.Provider,{value:{isVisible:s,setIsVisible:a,toggle:o,isHomePage:n},children:r})}function wr(){const r=x.useContext(dm);if(r===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return r}const md="/logo.png";function Y(){var _,L,Z,B;const[r,t]=x.useState(""),[s,a]=x.useState(!1),[n,i]=x.useState([]);x.useState(!1),x.useState(!0);const o=x.useRef(null),{user:l,signOut:d,loading:u}=Xa(),{toast:h}=bt(),{state:c}=Cs(),{toggle:m}=wr();qt();const{data:f}=ct({queryKey:["/api/announcements"],queryFn:async()=>{const F=await fetch("/api/announcements");if(!F.ok)throw new Error("Failed to fetch announcements");return F.json()},refetchInterval:3e4}),p=f==null?void 0:f[0],v=F=>{if(!F)return F;let U=F.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");return U=U.replace(/\*([^*]+)\*/g,"<strong>$1</strong>"),U},y=async()=>{d();try{const{error:F}=await mj();F&&F.message!=="Invalid session"&&h({title:"Error",description:F.message,variant:"destructive"})}catch(F){console.log("Supabase signout failed (this is normal for non-Supabase users):",F)}h({title:"Signed out successfully",description:"Come back soon!"})},{data:b=[]}=ct({queryKey:["/api/products"]}),w=[{id:"adult-food",name:"Adult Food",category:"Adult Food",brand:"Various",price:"৳1,200+",page:"Shop by Category",route:"/products?category=adult-food",keywords:["adult","food","premium","quality"]},{id:"kitten-food",name:"Kitten Food",category:"Kitten Food",brand:"Various",price:"৳800+",page:"Shop by Category",route:"/products?category=kitten-food",keywords:["kitten","food","growing","nutrition"]},{id:"collar",name:"Collar",category:"Collar",brand:"Various",price:"৳300+",page:"Shop by Category",route:"/products?category=collar",keywords:["collar","style","safety"]},{id:"clumping-cat-litter",name:"Clumping Cat Litter",category:"Clumping Cat Litter",brand:"Various",price:"৳600+",page:"Shop by Category",route:"/products?category=clumping-cat-litter",keywords:["clumping","cat","litter","easy","clean"]},{id:"cat-litter-accessories",name:"Cat Litter Accessories",category:"Cat Litter Accessories",brand:"Various",price:"৳200+",page:"Shop by Category",route:"/products?category=cat-litter-accessories",keywords:["cat","litter","accessories","complete","care"]},{id:"harness",name:"Harness",category:"Harness",brand:"Various",price:"৳500+",page:"Shop by Category",route:"/products?category=harness",keywords:["harness","secure","walking"]},{id:"cat-tick-flea-control",name:"Cat Tick & Flea Control",category:"Cat Tick & Flea Control",brand:"Various",price:"৳400+",page:"Shop by Category",route:"/products?category=cat-tick-flea-control",keywords:["cat","tick","flea","control","health","protection"]},{id:"deworming-tablet",name:"Deworming Tablet",category:"Deworming Tablet",brand:"Various",price:"৳250+",page:"Shop by Category",route:"/products?category=deworming-tablet",keywords:["deworming","tablet","wellness","care"]},{id:"cat-pouches",name:"Cat Pouches",category:"Cat Pouches",brand:"Various",price:"৳150+",page:"Shop by Category",route:"/products?category=cat-pouches",keywords:["cat","pouches","wet","food"]},{id:"sunglass",name:"Sunglass",category:"Sunglass",brand:"Various",price:"৳800+",page:"Shop by Category",route:"/products?category=sunglass",keywords:["sunglass","pet","fashion"]}],j=F=>{if(!F.trim())return[];const U=F.toLowerCase().trim(),T=[];return b.forEach(O=>{if([O.name,O.categoryName||O.category,O.brandName||O.brand,O.description||"",...O.tags||[]].join(" ").toLowerCase().includes(U)){const R=O.slug||O.id||O._id;T.push({id:O.id||O._id,name:O.name,category:O.categoryName||O.category,brand:O.brandName||O.brand,price:`৳${O.price}`,page:O.categoryName||O.category,route:`/product/${R}`,keywords:O.tags||[]})}}),w.forEach(O=>{[O.name,O.category,O.brand||"",...O.keywords].join(" ").toLowerCase().includes(U)&&T.push(O)}),T.slice(0,10)},C=F=>{const U=F.target.value;if(t(U),U.trim()){const T=j(U);i(T),a(!0)}else a(!1),i([])};x.useEffect(()=>{const F=U=>{const O=U.target.closest('[data-testid^="search-result-"]');o.current&&!o.current.contains(U.target)&&!O&&a(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const P=[{name:"Home",path:"/"},{name:"Privilege Club",path:"/privilege-club"},{name:"Cat Food",path:"/cat-food"},{name:"Dog Food",path:"/dog-food"},{name:"Cat Toys",path:"/cat-toys"},{name:"Cat Litter",path:"/cat-litter"},{name:"Bird",path:"/bird"},{name:"Rabbit",path:"/rabbit"},{name:"Reflex",path:"/brands/reflex"},{name:"Blog",path:"/blog"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-[#38603d] text-white py-1 md:py-2 text-sm overflow-hidden relative",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"md:hidden flex-1 flex justify-center items-center relative min-h-[20px] overflow-hidden",children:p&&e.jsx("div",{className:"animate-marquee whitespace-nowrap absolute inset-0 flex items-center",style:{width:"max-content"},children:e.jsxs("div",{className:"inline-flex items-center text-white text-xs font-medium",children:[e.jsx(kn,{size:10,className:"mr-1"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:v(p.text)}})]})})}),e.jsxs("div",{className:"md:hidden flex items-center gap-1",children:[e.jsx("a",{href:"https://facebook.com/meow.meow.pet.shop1",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-yellow-300 transition-colors p-1 rounded",children:e.jsx(Da,{size:12})}),e.jsx("a",{href:"#",className:"text-white hover:text-yellow-300 transition-colors p-1 rounded",children:e.jsx($a,{size:12})})]}),e.jsxs("div",{className:"hidden md:flex flex-col lg:flex-row lg:justify-between lg:items-center gap-2 w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-[#2d4f31] px-3 py-1 rounded-full text-xs",children:[e.jsx(Vs,{size:12,className:"mr-1"}),e.jsx("span",{children:"01405-045023"})]}),e.jsx(re,{href:"/contact",children:e.jsxs("div",{className:"flex items-center bg-[#2d4f31] px-3 py-1 rounded-full text-xs cursor-pointer hover:bg-[#224228] transition-colors",children:[e.jsx(za,{size:12,className:"mr-1"}),e.jsx("span",{children:"Our location"})]})}),e.jsxs("div",{className:"flex items-center bg-[#2d4f31] px-3 py-1 rounded-full text-xs cursor-pointer hover:bg-[#224228] transition-colors",children:[e.jsx(Nn,{size:12,className:"mr-1"}),e.jsx("span",{children:"Track Your Order"})]})]}),e.jsx("div",{className:"flex-1 flex justify-center items-center relative min-h-[24px] overflow-hidden",children:p&&e.jsx("div",{className:"animate-marquee whitespace-nowrap absolute inset-0 flex items-center",style:{width:"max-content"},children:e.jsxs("div",{className:"inline-flex items-center text-white text-xs font-medium",children:[e.jsx(kn,{size:12,className:"mr-2"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:v(p.text)}})]})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium text-xs",children:"Follow:"}),e.jsx("a",{href:"https://facebook.com/meow.meow.pet.shop1",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-black transition-colors p-1 rounded",children:e.jsx(Da,{size:14})}),e.jsx("a",{href:"#",className:"text-white hover:text-black transition-colors p-1 rounded",children:e.jsx($a,{size:14})})]})]})]})})}),e.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-[1000] border-b border-gray-200 transition-all duration-300 w-full",children:[e.jsx("div",{className:"container mx-auto px-4 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 md:gap-4",children:[e.jsxs("div",{className:"md:hidden flex items-center justify-between w-full",children:[e.jsx(S,{variant:"ghost",size:"sm",className:"p-2 hover:bg-gray-100",onClick:m,"data-testid":"button-mobile-menu",children:e.jsx(zc,{size:20,className:"text-gray-700"})}),e.jsxs(re,{href:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:[e.jsx("img",{src:md,alt:"Meow Meow Pet Shop Logo",className:"h-8 w-8 mr-2"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base font-bold text-[#26732d]",children:"Meow Meow"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pet Shop"})]})]}),e.jsx(re,{href:"/cart",children:e.jsxs("div",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer","data-testid":"button-cart-mobile",children:[e.jsx(Jt,{size:20,className:"text-gray-700"}),c.items.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:c.items.reduce((F,U)=>F+U.quantity,0)})]})})]}),e.jsxs("div",{className:"hidden md:flex md:flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-8 w-full",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:gap-8 w-full",children:[e.jsxs(re,{href:"/",className:"flex items-center hover:opacity-80 transition-opacity",children:[e.jsx("img",{src:md,alt:"Meow Meow Pet Shop Logo",className:"h-10 w-10 mr-2"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-[#26732d]",children:"Meow Meow"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pet Shop"})]})]}),e.jsx("div",{className:"flex-1 mt-4 lg:mt-0",ref:o,children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{type:"text",placeholder:"Search for pet food, toys, accessories...",value:r,onChange:C,className:"w-full py-2 px-4 pr-12 border-2 border-gray-200 rounded-lg focus:border-[#ffde59] focus:outline-none text-sm text-black","data-testid":"input-global-search"}),e.jsx(S,{size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-[#ffde59] text-black px-3 py-1 rounded-md hover:bg-[#ffd73e] transition-colors","data-testid":"button-search",children:e.jsx(ze,{size:14})}),s&&n.length>0&&e.jsx(K,{className:"absolute top-full left-0 right-0 mt-1 z-[9999] max-h-96 overflow-y-auto",children:e.jsx(te,{className:"p-0",children:n.map(F=>e.jsx(re,{href:F.route,onClick:U=>{U.stopPropagation(),setTimeout(()=>{t(""),a(!1)},100)},children:e.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0","data-testid":`search-result-${F.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:F.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[F.brand," • ",F.category]}),e.jsx("p",{className:"text-xs text-blue-600",children:F.page})]}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:F.price})]})})},F.id))})}),s&&n.length===0&&r.trim()&&e.jsx(K,{className:"absolute top-full left-0 right-0 mt-1 z-[9999]",children:e.jsxs(te,{className:"p-4 text-center text-gray-500 text-sm",children:['No products found for "',r,'"']})})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!u&&l?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(re,{href:l.email==="admin@meowmeowpetshop.com"?"/admin":"/dashboard",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#26732d] to-[#1d5624] flex items-center justify-center text-white font-semibold text-sm shadow-md hover:shadow-lg transition-all duration-200 cursor-pointer hover:scale-105",children:(((_=l.firstName)==null?void 0:_[0])||((L=l.name)==null?void 0:L[0])||((Z=l.email)==null?void 0:Z[0])||"U").toUpperCase()})}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-gray-800 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:[l.firstName&&l.lastName?`${l.firstName} ${l.lastName}`:l.name||((B=l.email)==null?void 0:B.split("@")[0]),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:l.email==="admin@meowmeowpetshop.com"?"Click to view admin panel":"Click to view dashboard"})]})]}),e.jsxs(S,{variant:"outline",size:"sm",onClick:y,className:"text-red-600 border-red-200 hover:bg-gray-100 hover:text-black hover:border-gray-300 transition-colors","data-testid":"button-sign-out",children:[e.jsx(mh,{size:14,className:"mr-1"}),"Sign Out"]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{href:"/sign-in",children:e.jsxs(S,{variant:"outline",size:"sm",className:"text-[#26732d] border-[#26732d] hover:bg-[#26732d] hover:text-white transition-colors","data-testid":"button-sign-in",children:[e.jsx(T0,{size:14,className:"mr-1"}),"Sign In"]})}),e.jsx(re,{href:"/sign-up",children:e.jsx(S,{size:"sm",className:"bg-[#ffde59] text-[#010000] hover:bg-[#ffd73e] hover:text-[#010000] transition-colors font-semibold","data-testid":"button-sign-up",children:"Sign Up"})})]}),e.jsx(re,{href:"/cart",children:e.jsxs("div",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer","data-testid":"button-cart",children:[e.jsx(Jt,{size:20,className:"text-gray-700"}),c.items.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:c.items.reduce((F,U)=>F+U.quantity,0)})]})})]})]})]})}),e.jsx("nav",{className:"hidden md:block border-t border-gray-100 bg-gray-50 relative z-[100]",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-6 overflow-x-auto scrollbar-hide",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(S,{variant:"ghost",className:"text-gray-700 hover:text-[#f8fbfc] font-medium flex items-center gap-1 bg-gray-50",onClick:m,"data-testid":"button-categories-toggle",children:[e.jsx(zc,{size:16}),"Categories"]})}),P.map(F=>e.jsx("div",{className:"relative group",children:e.jsx(re,{href:F.path,children:e.jsx(S,{variant:"ghost",className:"text-gray-700 hover:text-[#f8fbfc] font-medium","data-testid":`nav-${F.name.toLowerCase().replace(/\s+/g,"-")}`,children:F.name})})},F.name))]})})}),e.jsx("div",{className:"md:hidden border-t border-gray-100 bg-white px-4 py-3",ref:o,children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{type:"text",placeholder:"What can we help you find?",value:r,onChange:C,className:"w-full py-2 px-4 pr-12 border-2 border-gray-200 rounded-lg focus:border-[#ffde59] focus:outline-none text-sm text-black","data-testid":"input-mobile-search"}),e.jsx(S,{size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-[#ffde59] text-black px-3 py-1 rounded-md hover:bg-[#ffd73e] transition-colors","data-testid":"button-mobile-search",children:e.jsx(ze,{size:14})}),s&&n.length>0&&e.jsx(K,{className:"absolute top-full left-0 right-0 mt-1 z-[9999] max-h-96 overflow-y-auto",children:e.jsx(te,{className:"p-0",children:n.map(F=>e.jsx(re,{href:F.route,onClick:U=>{U.stopPropagation(),setTimeout(()=>{t(""),a(!1)},100)},children:e.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0","data-testid":`search-result-${F.id}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:F.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[F.brand," • ",F.category]}),e.jsx("p",{className:"text-xs text-blue-600",children:F.page})]}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:F.price})]})})},F.id))})}),s&&n.length===0&&r.trim()&&e.jsx(K,{className:"absolute top-full left-0 right-0 mt-1 z-[9999]",children:e.jsxs(te,{className:"p-4 text-center text-gray-500 text-sm",children:['No products found for "',r,'"']})})]})}),e.jsx("div",{className:"md:hidden bg-gray-50 border-t border-gray-100 px-2 py-2",children:e.jsxs("div",{className:"flex items-center justify-between overflow-x-auto scrollbar-hide",children:[e.jsx(re,{href:"/cat-food",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Cat Food"}),e.jsx(re,{href:"/dog-food",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Dog Food"}),e.jsx(re,{href:"/cat-toys",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Cat Toys"}),e.jsx(re,{href:"/cat-litter",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Cat Litter"}),e.jsx(re,{href:"/cat-accessories",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Cat Accessories"}),e.jsx(re,{href:"/rabbit",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Rabbit"}),e.jsx(re,{href:"/bird",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Bird"}),e.jsx(re,{href:"/brands/reflex",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Reflex"}),e.jsx(re,{href:"/blog",className:"flex-shrink-0 px-3 py-1 text-xs font-medium text-gray-700 hover:text-[#26732d] hover:bg-white rounded transition-colors",children:"Blog"})]})})]})]})}const fj="/logo.png";function gj(){return e.jsx("footer",{className:"md:hidden meow-green text-white py-4 mt-8 pb-4",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-left mb-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("img",{src:fj,alt:"Meow Meow Pet Shop Logo",className:"h-8 w-8 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-meow-yellow",children:"Meow Meow"}),e.jsx("p",{className:"text-xs text-gray-300",children:"Pet Shop"})]})]}),e.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:"Your trusted partner for premium pet food and accessories in Savar, Bangladesh."})]}),e.jsxs("div",{className:"text-left space-y-1 mb-3",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-300",children:[e.jsx(Vs,{size:12,className:"mr-1 text-meow-yellow"}),e.jsx("span",{children:"01405-045023"})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-300",children:[e.jsx(yr,{size:12,className:"mr-1 text-meow-yellow"}),e.jsx("span",{children:"meowmeowpetshop1@gmail.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-meow-yellow mb-2",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:e.jsx(re,{href:"/contact",className:"text-gray-300 hover:text-meow-yellow",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(re,{href:"/about",className:"text-gray-300 hover:text-meow-yellow",children:"About Us"})}),e.jsx("li",{children:e.jsx(re,{href:"/track-order",className:"text-gray-300 hover:text-meow-yellow",children:"Track Order"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-meow-yellow mb-2",children:"Policies"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:e.jsx(re,{href:"/privacy",className:"text-gray-300 hover:text-meow-yellow",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(re,{href:"/terms",className:"text-gray-300 hover:text-meow-yellow",children:"Terms & Conditions"})}),e.jsx("li",{children:e.jsx(re,{href:"/return-policy",className:"text-gray-300 hover:text-meow-yellow",children:"Return Policy"})})]})]})]}),e.jsxs("div",{className:"text-center border-t border-gray-600 pt-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"© 2025 Meow Meow Pet Shop. All rights reserved."}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 mb-8",children:["Powered By: ",e.jsx("a",{href:"https://znforge.com",target:"_blank",rel:"noopener noreferrer",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:"ZnForge"})]})]})]})})}const pj="/logo.png";function pe(){return e.jsxs(e.Fragment,{children:[e.jsx(gj,{}),e.jsx("footer",{className:"hidden md:block meow-green text-white py-12 relative z-40 w-full overflow-hidden",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-6",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:pj,alt:"Meow Meow Pet Shop Logo",className:"h-12 w-12 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-meow-yellow",children:"Meow Meow"}),e.jsx("p",{className:"text-sm",children:"Pet Shop"})]})]}),e.jsx("p",{className:"text-gray-300 mb-4 text-sm leading-relaxed",children:"Your trusted partner for premium pet food and accessories in Savar, Bangladesh. We care for your pets like family."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://facebook.com/meow.meow.pet.shop1",target:"_blank",rel:"noopener noreferrer",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:e.jsx(Da,{size:20})}),e.jsx("a",{href:"#",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:e.jsx($a,{size:20})}),e.jsx("a",{href:"#",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:e.jsx(vh,{size:20})}),e.jsx("a",{href:"https://wa.me/8801838511583",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:e.jsx(Zt,{size:20})})]})]}),e.jsxs("div",{className:"min-w-0 lg:pl-4",children:[e.jsx("h4",{className:"font-bold text-meow-yellow mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Cat Food"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Dog Food"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Toys & Accessories"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Grooming"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Health Care"})})]})]}),e.jsxs("div",{className:"min-w-0 lg:pl-2",children:[e.jsx("h4",{className:"font-bold text-meow-yellow mb-4",children:"Policies"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Return Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Shipping Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Quality Guarantee"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"Helpline"})})]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-bold text-meow-yellow mb-4",children:"Contact Info"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(mr,{size:16,className:"mr-2 text-meow-yellow flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-300 text-sm break-words",children:"Savar, Dhaka, Bangladesh"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vs,{size:16,className:"mr-2 text-meow-yellow flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"01405-045023"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(yr,{size:16,className:"mr-2 text-meow-yellow flex-shrink-0"}),e.jsx("a",{href:"mailto:meowmeowpetshop1@gmail.com",className:"text-gray-300 hover:text-meow-yellow transition-colors text-sm",children:"meowmeowpetshop1@gmail.com"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(pr,{size:16,className:"mr-2 text-meow-yellow flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Daily: 9 AM - 9 PM"})]})]})]})]}),e.jsx("div",{className:"mt-8 pt-8",children:e.jsxs("div",{className:"text-center text-gray-400 text-sm pt-4",children:[e.jsx("p",{children:"© 2025 Meow Meow Pet Shop. All rights reserved."}),e.jsxs("p",{className:"mt-1 mb-8",children:["Powered By: ",e.jsx("a",{href:"https://znforge.com",target:"_blank",rel:"noopener noreferrer",className:"text-meow-yellow hover:text-yellow-300 transition-colors",children:"ZnForge"})]})]})})]})})]})}const yj="/logo.png";function Je(){const{isVisible:r,setIsVisible:t,isHomePage:s}=wr(),a=[{label:"Cat Food",href:"/cat-food"},{label:"Dog Food",href:"/dog-food"},{label:"Cat Toys",href:"/cat-toys"},{label:"Cat Litter",href:"/cat-litter"},{label:"Cat Care & Health",href:"/cat-care"},{label:"Clothing, Beds & Carrier",href:"/clothing-beds-carrier"},{label:"Cat Accessories",href:"/cat-accessories"},{label:"Dog Health & Accessories",href:"/dog-accessories"},{label:"Rabbit Food & Accessories",href:"/rabbit"},{label:"Bird Food & Accessories",href:"/bird"}],n=[{icon:Ma,label:"Cat Food",href:"/cat-food",hasSubCategories:!0},{icon:fi,label:"Dog Food",href:"/dog-food",hasSubCategories:!0},{icon:N0,label:"Cat Toys",href:"/cat-toys",hasSubCategories:!1},{icon:At,label:"Cat Litter",href:"/cat-litter",hasSubCategories:!0},{icon:F0,label:"Cat Care & Health",href:"/cat-care",hasSubCategories:!1},{icon:gh,label:"Clothing, Beds & Carrier",href:"/clothing-beds-carrier",hasSubCategories:!0},{icon:k0,label:"Cat Accessories",href:"/cat-accessories",hasSubCategories:!0},{icon:x0,label:"Dog Health & Accessories",href:"/dog-accessories",hasSubCategories:!0},{icon:I0,label:"Rabbit Food & Accessories",href:"/rabbit",hasSubCategories:!0},{icon:m0,label:"Bird Food & Accessories",href:"/bird",hasSubCategories:!0}],i=()=>{t(!1)},o=()=>{s||t(!1)},l=d=>{d.stopPropagation()};return r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[1100]",onClick:o}),e.jsx("div",{className:X("fixed left-0 top-0 w-80 max-w-[85vw] h-full bg-white shadow-2xl z-[1101] transform transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full"),onClick:l,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:yj,alt:"Meow Meow Logo",className:"w-8 h-8"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Browse Menu"})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","data-testid":"close-sidebar-button",children:e.jsx(Vt,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Categories"})}),e.jsx("nav",{className:"space-y-0",children:a.map(d=>e.jsx(re,{href:d.href,onClick:i,children:e.jsx("div",{className:"flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 border-b border-gray-50 transition-colors cursor-pointer",children:e.jsx("span",{className:"text-sm font-medium",children:d.label})})},d.label))})]})}),e.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Our Hotline"}),e.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Live For App Up"}),e.jsx("div",{className:"text-sm text-gray-600",children:"01 4050-45-023"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Follow Us"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("a",{href:"https://facebook.com/meow.meow.pet.shop1",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(Da,{size:16,className:"text-gray-600"})}),e.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx($a,{size:16,className:"text-gray-600"})}),e.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(yh,{size:16,className:"text-gray-600"})}),e.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(vh,{size:16,className:"text-gray-600"})}),e.jsx("a",{href:"#",className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:e.jsx(_0,{size:16,className:"text-gray-600"})})]})]})]})]})})]}),e.jsxs("div",{className:"hidden md:block",children:[!s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:o}),e.jsx("div",{className:X("fixed left-0 top-[120px] w-80 bg-white shadow-lg border-r border-gray-200 h-[calc(100vh-120px)] overflow-y-scroll scrollbar-hide flex-shrink-0",s?"z-10":"z-50"),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Categories"}),e.jsx("nav",{className:"space-y-1",children:n.map(d=>{const u=d.icon;return e.jsxs(re,{href:d.href,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 hover:text-[#26732d] rounded-lg transition-colors group",children:[e.jsx(u,{className:"w-5 h-5 mr-3 text-gray-500 group-hover:text-[#26732d]"}),e.jsx("span",{className:"font-medium",children:d.label}),d.hasSubCategories&&e.jsx(Xo,{className:"w-4 h-4 ml-auto text-gray-400 group-hover:text-[#26732d]"})]},d.label)})})]})})]})]}):null}function vj(){return e.jsx("section",{className:"hero-banner-wrapper",children:e.jsx("div",{className:"hero-banner-content",children:e.jsx("img",{src:"/Banner_Reflex.png",alt:"Reflex High Quality - আর্ডার করলেই পেয়ে যাচ্ছেন আকর্ষণীয় GIFT - Shop Now",loading:"eager",onLoad:()=>console.log("Banner loaded successfully"),onError:r=>{console.error("Banner failed to load:",r),console.log("Trying fallback image path...");const t=r.currentTarget;t.src="/Banner_Reflex.webp"}})})})}function bj(){const r=[{id:"adult-food",name:"Adult Food",icon:Ma,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/adult-food-2-1747499026.png",count:"Premium Quality",color:"bg-purple-100 text-purple-600"},{id:"kitten-food",name:"Kitten Food",icon:Ma,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/kitten-food-2-1747508016.png",count:"Growing Nutrition",color:"bg-pink-100 text-pink-600"},{id:"collar",name:"Collar",icon:gh,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/collar-1747508281.png",count:"Style & Safety",color:"bg-blue-100 text-blue-600"},{id:"clumping-cat-litter",name:"Clumping Cat Litter",icon:Fa,image:"https://mewmewshopbd.com/uploads/category/2024/1718325625.png",count:"Easy Clean",color:"bg-gray-100 text-gray-600"},{id:"cat-litter-accessories",name:"Cat Litter Accessories",icon:us,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/cat-litter-accessaries-1747508179.png",count:"Complete Care",color:"bg-cyan-100 text-cyan-600"},{id:"harness",name:"Harness",icon:Nn,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/harness-2-1747508347.png",count:"Secure Walking",color:"bg-red-100 text-red-600"},{id:"cat-tick-flea-control",name:"Cat Tick & Flea Control",icon:Vc,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/cat-tick-and-flea-control-1747508541.png",count:"Health Protection",color:"bg-green-100 text-green-600"},{id:"deworming-tablet",name:"Deworming Tablet",icon:Vc,image:"https://mewmewshopbd.com/uploads/category/2024/1719451524.png",count:"Wellness Care",color:"bg-emerald-100 text-emerald-600"},{id:"cat-pouches",name:"Cat Pouches",icon:Fa,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/pouches-1-1747508038.png",count:"Wet Food",color:"bg-orange-100 text-orange-600"},{id:"sunglass",name:"Sunglass",icon:C0,image:"https://media.mewmewshopbd.com/uploads/media-manager/2025/05/sunglass-1747508365.png",count:"Pet Fashion",color:"bg-yellow-100 text-yellow-600"}];return e.jsx("section",{className:"section-spacing bg-white",children:e.jsxs("div",{className:"responsive-container",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-center text-[#26732d] flex items-center justify-center gap-2 animate-fade-in",children:[e.jsx(Wi,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"SHOP BY CATEGORY"]})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 md:hidden px-4",children:r.slice(0,9).map((t,s)=>(t.icon,e.jsx(re,{href:`/products?subcategory=${t.id}`,className:"group cursor-pointer hover-lift animate-fade-in block",style:{animationDelay:`${s*.1}s`},"data-testid":`link-category-${t.id}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden h-44 flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-50 p-4 flex-1 flex items-center justify-center",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-contain transition-transform duration-500 group-hover:scale-110 max-h-20",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"p-3 text-center bg-white",children:e.jsx("h3",{className:"text-sm font-bold text-gray-800 leading-tight",children:t.name})})]})},t.id)))}),e.jsx("div",{className:"hidden md:grid md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:r.map((t,s)=>(t.icon,e.jsx(re,{href:`/products?subcategory=${t.id}`,className:"group cursor-pointer hover-lift animate-fade-in block",style:{animationDelay:`${s*.1}s`},"data-testid":`link-category-${t.id}`,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-50 rounded-t-xl p-4 h-32 sm:h-40 md:h-48 flex-shrink-0",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-3 sm:p-4 text-center flex-grow flex flex-col justify-center min-h-[80px]",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-800 mb-1 leading-tight",children:t.name}),e.jsx("p",{className:"text-xs text-gray-600",children:t.count})]})]})},t.id)))})]})})}function ta({product:r}){var y;const{addItem:t,state:s}=Cs(),{toast:a}=bt(),n=r.slug||"product",i=((y=r.id)==null?void 0:y.toString())??r._id,o=s.items.some(b=>b.id===i),l=!1,d=b=>{var j;b.preventDefault(),b.stopPropagation();const w=((j=r.id)==null?void 0:j.toString())??r._id;w&&(t({id:w,name:r.name,price:typeof r.price=="string"?parseFloat(r.price):r.price,image:r.image,maxStock:r.stock||100}),a({title:"Added to Cart",description:`${r.name} has been added to your cart.`}))},u=b=>{b.preventDefault(),b.stopPropagation()},h=b=>{switch(b){case"red":return"bg-red-500 text-white";case"blue":return"bg-blue-500 text-white";case"yellow":return"bg-yellow-500 text-white";case"green":return"bg-green-500 text-white";case"purple":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},c=b=>{const w=b||5;return e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5},(j,C)=>e.jsx(Yt,{size:10,className:C<w?"text-yellow-400 fill-current":"text-gray-300"},C)),r.reviews!==void 0&&e.jsxs("span",{className:"text-gray-600 text-xs ml-1",children:["(",r.reviews,")"]})]})},m=r.oldPrice||r.originalPrice,f=typeof r.price=="string"?parseFloat(r.price):r.price,p=typeof m=="string"?parseFloat(m):m,v=p&&p>f;return e.jsx(re,{href:`/product/${n}`,"data-testid":`product-link-${n}`,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 relative overflow-hidden group border border-gray-100 flex flex-col w-[140px] h-[240px] cursor-pointer",children:[r.discount&&e.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-bold bg-red-500 text-white z-10",children:r.discount}),v&&!r.discount&&e.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-bold bg-red-500 text-white z-10",children:["-৳",Math.round(p-f).toLocaleString()]}),r.badge&&!v&&e.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-bold ${h(r.badgeColor)} z-10`,children:r.badge}),e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx("button",{onClick:u,className:"bg-white/80 backdrop-blur-sm p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-all duration-200 shadow-sm hover:shadow-md hover:bg-white hover:bg-opacity-100 active:scale-95","data-testid":"like-button",children:e.jsx(us,{size:14})})}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-t-2xl h-24 flex items-center justify-center flex-shrink-0",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2 transition-transform duration-500 group-hover:scale-105",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"px-2 pt-1.5 pb-1.5 flex flex-col flex-1",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h4",{className:"font-semibold text-xs text-gray-900 group-hover:text-[#26732d] transition-colors line-clamp-2 leading-tight text-left",children:r.name}),e.jsx("div",{className:"flex items-center justify-start",children:c(r.rating)}),e.jsx("div",{className:"text-left",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("span",{className:"text-sm font-bold text-[#26732d]",children:["৳",typeof r.price=="string"?r.price:r.price.toLocaleString()]}),m&&e.jsxs("span",{className:"text-xs text-gray-500 line-through",children:["৳",typeof m=="string"?m:m.toLocaleString()]})]})})]}),e.jsx("div",{className:"mt-1",children:e.jsx(S,{variant:o?"default":"outline",size:"sm",className:X("w-full rounded-full py-1.5 text-xs transition-all duration-200 border-2",o?"bg-[#26732d] border-[#26732d] text-white hover:bg-[#1e5d26]":"border-gray-200 text-gray-700 hover:border-[#26732d] hover:text-[#26732d] hover:bg-[#26732d]/5"),disabled:r.stock===0||r.stockStatus==="Out of Stock"||l,onClick:d,"data-testid":`add-to-cart-${n}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{size:14,className:"mr-1"}),"Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{size:14,className:"mr-1"}),"Add to Cart"]})})})]})]})})}function jj(){const r=x.useRef(null),t=x.useRef(null),s=x.useRef(!1),{data:a=[],isLoading:n}=ct({queryKey:["/api/products"]}),i=a.filter(o=>o.isOnSale);return x.useEffect(()=>{const o=r.current;if(!o||i.length===0||s.current)return;const l=()=>{t.current=setInterval(()=>{if(s.current){t.current&&clearInterval(t.current);return}const u=o.scrollWidth-o.clientWidth;o.scrollLeft>=u?o.scrollTo({left:0,behavior:"smooth"}):o.scrollBy({left:200,behavior:"smooth"})},3e3)},d=()=>{s.current=!0,t.current&&(clearInterval(t.current),t.current=null)};return o.addEventListener("touchstart",d),o.addEventListener("mousedown",d),o.addEventListener("wheel",d),l(),()=>{t.current&&clearInterval(t.current),o.removeEventListener("touchstart",d),o.removeEventListener("mousedown",d),o.removeEventListener("wheel",d)}},[i.length]),n?e.jsx("section",{className:"section-spacing bg-red-50",children:e.jsxs("div",{className:"responsive-container",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 bg-red-100 px-6 sm:px-8 py-3 rounded-lg mb-6 w-full max-w-md mx-auto border-2 border-red-200 animate-scale-up",children:[e.jsx(gi,{className:"text-red-600 md:w-8 md:h-8",size:20}),e.jsx("span",{className:"text-red-600 font-bold text-lg md:text-3xl",children:"FLASH SALE"}),e.jsx("span",{className:"text-sm text-red-600 font-medium hidden sm:inline",children:"Limited Time Offers"})]})}),e.jsx("div",{className:"flex gap-4 overflow-x-auto scrollbar-hide pb-1",style:{width:"max-content"},children:[1,2,3].map(o=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md h-[320px] w-[160px] animate-pulse flex-shrink-0",children:[e.jsx("div",{className:"bg-gray-200 h-28 rounded-t-lg"}),e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsx("div",{className:"bg-gray-200 h-2 rounded"}),e.jsx("div",{className:"bg-gray-200 h-2 w-3/4 rounded"})]})]},o))})]})}):i.length===0?null:e.jsx("section",{className:"section-spacing bg-red-50",children:e.jsxs("div",{className:"responsive-container",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 bg-red-100 px-6 sm:px-8 py-3 rounded-lg mb-6 w-full max-w-md mx-auto border-2 border-red-200 animate-scale-up",children:[e.jsx(gi,{className:"text-red-600 md:w-8 md:h-8",size:20}),e.jsx("span",{className:"text-red-600 font-bold text-lg md:text-3xl",children:"FLASH SALE"}),e.jsx("span",{className:"text-sm text-red-600 font-medium hidden sm:inline",children:"Limited Time Offers"})]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("a",{href:"/flash-sale-products",className:"inline-flex items-center gap-2 text-red-600 hover:text-red-700 font-medium text-sm md:text-lg transition-colors",children:["More Flash Products",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})})]}),e.jsx("div",{ref:r,className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:i.slice(0,15).map((o,l)=>e.jsx("div",{className:"flex-shrink-0 animate-fade-in",style:{animationDelay:`${l*.1}s`},children:e.jsx(ta,{product:o})},o.id))})})]})})}function wj({products:r}){const t=x.useRef(null),s=x.useRef(null),a=x.useRef(!1);return x.useEffect(()=>{const n=t.current;if(!n||r.length===0||a.current)return;const i=()=>{s.current=setInterval(()=>{if(a.current){s.current&&clearInterval(s.current);return}const l=n.scrollWidth-n.clientWidth;n.scrollLeft>=l?n.scrollTo({left:0,behavior:"smooth"}):n.scrollBy({left:200,behavior:"smooth"})},3e3)},o=()=>{a.current=!0,s.current&&(clearInterval(s.current),s.current=null)};return n.addEventListener("touchstart",o),n.addEventListener("mousedown",o),n.addEventListener("wheel",o),i(),()=>{s.current&&clearInterval(s.current),n.removeEventListener("touchstart",o),n.removeEventListener("mousedown",o),n.removeEventListener("wheel",o)}},[r.length]),r.length===0?null:e.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:r.slice(0,15).map(n=>e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ta,{product:n})},n.id||n._id))})})}function Nj(){const{data:r=[],isLoading:t}=ct({queryKey:["/api/products"]}),s=["cat-food","cat-toys","cat-litter","cat-care","cat-accessories"],a=r.filter(n=>n.isBestseller&&s.includes(n.category));return e.jsx("section",{className:"section-spacing bg-gray-50",children:e.jsxs("div",{className:"responsive-container",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-[#26732d] mb-4 flex items-center justify-center gap-2",children:[e.jsx(Ma,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"BESTSELLERS FOR CATS"]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("a",{href:"/cat-best-seller",className:"inline-flex items-center gap-2 text-[#26732d] hover:text-[#1d5a22] font-medium text-sm md:text-lg transition-colors",children:["More Cat Products",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})})]}),t?e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:[1,2,3].map(n=>e.jsxs("div",{className:"flex-shrink-0 w-64 bg-white rounded-lg shadow-md h-80 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"})]})]},n))})}):a.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"No bestselling cat products available."})}):e.jsx(wj,{products:a.slice(0,15)})]})})}function kj({products:r}){const t=x.useRef(null),s=x.useRef(null),a=x.useRef(!1);return x.useEffect(()=>{const n=t.current;if(!n||r.length===0||a.current)return;const i=()=>{s.current=setInterval(()=>{if(a.current){s.current&&clearInterval(s.current);return}const l=n.scrollWidth-n.clientWidth;n.scrollLeft>=l?n.scrollTo({left:0,behavior:"smooth"}):n.scrollBy({left:200,behavior:"smooth"})},3e3)},o=()=>{a.current=!0,s.current&&(clearInterval(s.current),s.current=null)};return n.addEventListener("touchstart",o),n.addEventListener("mousedown",o),n.addEventListener("wheel",o),i(),()=>{s.current&&clearInterval(s.current),n.removeEventListener("touchstart",o),n.removeEventListener("mousedown",o),n.removeEventListener("wheel",o)}},[r.length]),r.length===0?null:e.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:r.slice(0,15).map(n=>e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ta,{product:n})},n.id||n._id))})})}function Cj(){const{data:r=[],isLoading:t}=ct({queryKey:["/api/products"]}),s=["dog-food","dog-accessories"],a=r.filter(n=>n.isBestseller&&s.includes(n.category));return e.jsx("section",{className:"section-spacing bg-white",children:e.jsxs("div",{className:"responsive-container",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-[#26732d] mb-4 flex items-center justify-center gap-2",children:[e.jsx(fi,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"BESTSELLERS FOR DOGS"]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("a",{href:"/dog-best-seller",className:"inline-flex items-center gap-2 text-[#26732d] hover:text-[#1d5a22] font-medium text-sm md:text-lg transition-colors",rel:"prefetch",children:["More Dog Products",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})})]}),t?e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:[1,2,3].map(n=>e.jsxs("div",{className:"flex-shrink-0 w-[160px] h-[320px] bg-white rounded-lg shadow-md animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"})]})]},n))})}):a.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600",children:"No bestselling dog products available."})}):e.jsx(kj,{products:a.slice(0,15)})]})})}const Sj=Ja("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:r,variant:t,...s}){return e.jsx("div",{className:X(Sj({variant:t}),r),...s})}function _j(){const[r,t]=x.useState({}),{addItem:s,getItemQuantity:a}=Cs(),{toast:n}=bt(),i=x.useRef(null),o=x.useRef(null),l=x.useRef(!1),{data:d=[],isLoading:u}=ct({queryKey:["/api/repack-products"]});x.useEffect(()=>{const p=i.current;if(!p||d.length===0||l.current)return;const v=()=>{o.current=setInterval(()=>{if(l.current){o.current&&clearInterval(o.current);return}const b=p.scrollWidth-p.clientWidth;p.scrollLeft>=b?p.scrollTo({left:0,behavior:"smooth"}):p.scrollBy({left:200,behavior:"smooth"})},3e3)},y=()=>{l.current=!0,o.current&&(clearInterval(o.current),o.current=null)};return p.addEventListener("touchstart",y),p.addEventListener("mousedown",y),p.addEventListener("wheel",y),v(),()=>{o.current&&clearInterval(o.current),p.removeEventListener("touchstart",y),p.removeEventListener("mousedown",y),p.removeEventListener("wheel",y)}},[d.length]);const h=p=>{t(v=>({...v,[p]:!v[p]}))},c=p=>p!=null&&p.includes("combo-deal")?"COMBO DEAL":p!=null&&p.includes("bulk-save")?"BULK SAVE":"REPACK",m=(p,v)=>!v||v<=p?0:Math.round((v-p)/v*100),f=p=>{const v=p.id||p._id,y=p.stockQuantity||p.stock||0;if(y===0){n({title:"Out of Stock",description:"This item is currently out of stock.",variant:"destructive"});return}s({id:v,name:p.name,price:p.price,image:p.image,maxStock:y}),n({title:"Added to Cart",description:`${p.name} added to your cart.`})};return u?e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-[#26732d] flex items-center justify-center gap-2",children:[e.jsx(At,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"REPACK FOOD"]})}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide pb-2",children:e.jsx("div",{className:"flex gap-4 min-w-max px-4",children:[1,2,3].map(p=>e.jsxs("div",{className:"flex-shrink-0 w-52 bg-white rounded-2xl shadow-md h-[320px] animate-pulse border border-gray-100",children:[e.jsx("div",{className:"bg-gray-200 h-32 rounded-t-2xl"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded w-3/4"}),e.jsx("div",{className:"bg-gray-200 h-3 rounded w-full"}),e.jsx("div",{className:"bg-gray-200 h-6 rounded w-1/2"})]})]},p))})})]})}):e.jsx("section",{className:"py-12",style:{backgroundColor:"#f8fbfc"},children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-[#26732d] flex items-center justify-center gap-2",children:[e.jsx(At,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"REPACK FOOD"]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("a",{href:"/repack-products",className:"inline-flex items-center gap-2 text-[#26732d] hover:text-[#1e5d26] font-medium text-sm md:text-lg transition-colors",children:["More Repacks",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})})]}),e.jsx("div",{ref:i,className:"overflow-x-auto scrollbar-hide pb-2",children:e.jsx("div",{className:"flex gap-4 min-w-max px-4",children:d.slice(0,8).map(p=>{var _,L;const v=p.id||p._id,y=m(p.price,p.originalPrice),b=c(p.tags),w=p.stockQuantity||p.stock||0,C=a(v)>0,P=r[v];return e.jsx(re,{href:`/product/${p.slug||"product"}`,children:e.jsxs(K,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1 relative overflow-hidden bg-white border border-gray-100 rounded-2xl flex-shrink-0 w-52 cursor-pointer",children:[y>0&&e.jsxs(he,{className:"absolute top-3 left-3 z-10 bg-pink-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:["-",y,"%"]}),!y&&e.jsxs(he,{className:"absolute top-3 left-3 z-10 bg-yellow-400 text-[#26732d] text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(At,{size:12}),b]}),e.jsx(S,{variant:"ghost",size:"sm",className:"absolute top-3 right-3 z-10 bg-white/80 backdrop-blur-sm hover:bg-white p-2 rounded-full shadow-sm",onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),h(v)},children:e.jsx(us,{size:16,className:X("transition-colors",P?"text-red-500 fill-current":"text-gray-400 hover:text-red-500")})}),e.jsxs("div",{className:"relative overflow-hidden bg-gray-50 rounded-t-2xl p-4",children:[e.jsx("img",{src:p.image,alt:p.name,className:"w-full h-32 object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(te,{className:"p-3 space-y-2",children:[e.jsx("div",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Repack Food"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight line-clamp-2 group-hover:text-[#26732d] transition-colors min-h-[2.5rem]",children:p.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg font-bold text-[#26732d]",children:["৳",(_=p.price)==null?void 0:_.toLocaleString()]}),p.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["৳",(L=p.originalPrice)==null?void 0:L.toLocaleString()]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:w>0?e.jsx("span",{className:X("font-medium",w<10?"text-orange-600":"text-green-600"),children:w<10?`Only ${w} left`:`${w} available`}):e.jsx("span",{className:"text-red-600 font-medium",children:"Out of Stock"})})]}),e.jsx(S,{variant:C?"default":"outline",size:"sm",className:X("w-full rounded-full py-2 transition-all duration-200 border-2",C?"bg-[#26732d] border-[#26732d] text-white hover:bg-[#1e5d26]":"border-gray-200 text-gray-700 hover:border-[#26732d] hover:text-[#26732d] hover:bg-[#26732d]/5"),disabled:w===0,onClick:Z=>{Z.preventDefault(),Z.stopPropagation(),f(p)},children:w===0?"Out of Stock":C?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{size:16,className:"mr-1"}),"Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{size:16,className:"mr-1"}),"Add to Cart"]})})]})]})},v)})})})]})})}function Pj(){const r=[{name:"NEKKO",slug:"nekko",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452121.svg"},{name:"PURINA",slug:"purina",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452544.png"},{name:"ONE",slug:"one",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452560.svg"},{name:"Reflex",slug:"reflex",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452600.svg"},{name:"Reflex Plus",slug:"reflex-plus",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452616.png"},{name:"ROYAL CANIN",slug:"royal-canin",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452634.png"},{name:"Sheba",slug:"sheba",logo:"https://mewmewshopbd.com/uploads/brand/2024/1719452653.svg"}];return e.jsx("section",{className:"py-8 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"mb-6 text-center px-4",children:e.jsxs("h3",{className:"text-lg md:text-3xl font-bold text-[#26732d] flex items-center justify-center gap-2",children:[e.jsx(h0,{size:20,className:"md:w-8 md:h-8"}),"FEATURED BRANDS"]})}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide pb-2",children:e.jsx("div",{className:"flex justify-center items-center gap-4 md:gap-6 lg:gap-8 min-w-max px-4",children:r.map((t,s)=>e.jsx(re,{href:t.slug.startsWith("/")?t.slug:`/brands/${t.slug}`,className:"flex-shrink-0 cursor-pointer hover:opacity-80 transition-all duration-300 group hover:scale-105",children:e.jsx("div",{className:"w-20 h-16 sm:w-24 sm:h-18 md:w-28 md:h-20 lg:w-32 lg:h-22 bg-white rounded-lg overflow-hidden shadow-sm border border-gray-100 group-hover:shadow-md transition-shadow",children:e.jsx("img",{src:t.logo,alt:`${t.name} logo`,className:"w-full h-full object-contain p-2",style:{imageRendering:"auto"},onError:a=>{const n=a.target;n.src=`https://via.placeholder.com/150x100/f3f4f6/374151?text=${encodeURIComponent(t.name)}`}})})},s))})})]})})}function Tj({products:r}){const t=x.useRef(null),s=x.useRef(null),a=x.useRef(!1);return x.useEffect(()=>{const n=t.current;if(!n||r.length===0||a.current)return;const i=()=>{s.current=setInterval(()=>{if(a.current){s.current&&clearInterval(s.current);return}const l=n.scrollWidth-n.clientWidth;n.scrollLeft>=l?n.scrollTo({left:0,behavior:"smooth"}):n.scrollBy({left:200,behavior:"smooth"})},3e3)},o=()=>{a.current=!0,s.current&&(clearInterval(s.current),s.current=null)};return n.addEventListener("touchstart",o),n.addEventListener("mousedown",o),n.addEventListener("wheel",o),i(),()=>{s.current&&clearInterval(s.current),n.removeEventListener("touchstart",o),n.removeEventListener("mousedown",o),n.removeEventListener("wheel",o)}},[r.length]),r.length===0?null:e.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:r.slice(0,15).map(n=>e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsxs("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1 z-10",children:[e.jsx(Wr,{size:12}),"JUST IN"]}),e.jsx(ta,{product:n})]},n.id||n._id))})})}function Ej(){const{data:r=[],isLoading:t}=ct({queryKey:["/api/products"]}),s=r.filter(a=>a.isNew);return t?e.jsx("section",{className:"py-12 bg-[#f0f8ff]",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("h2",{className:"text-lg font-bold text-[#26732d] mb-4 flex items-center justify-center gap-2",children:[e.jsx(Wr,{size:20,className:"text-[#26732d]"}),"NEWLY LAUNCHED"]})}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-4 pb-1",style:{width:"max-content"},children:[1,2,3,4].map(a=>e.jsxs("div",{className:"flex-shrink-0 w-[160px] h-[320px] bg-white rounded-lg shadow-md animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"})]})]},a))})})]})}):s.length===0?null:e.jsx("section",{className:"py-12 bg-[#f0f8ff]",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-[#26732d] mb-4 flex items-center justify-center gap-2",children:[e.jsx(Wr,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"NEWLY LAUNCHED"]}),e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("a",{href:"/newly-launched",className:"inline-flex items-center gap-2 text-[#26732d] hover:text-[#1d5a22] font-medium text-sm md:text-lg transition-colors",children:["More New Products",e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})})]}),e.jsx(Tj,{products:s.slice(0,15)})]})})}const Aj="/logo.png";function Rj(){return e.jsx("section",{className:"py-6 bg-gradient-to-r from-purple-600 to-purple-800",children:e.jsx("div",{className:"responsive-container",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center max-w-3xl mx-auto shadow-2xl animate-scale-up",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx("img",{src:Aj,alt:"Privilege Meow Club",className:"h-10 w-10 mr-3"}),e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[#26732d]",children:"Privilege Meow Club"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Exclusive Membership Program"})]}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsxs("div",{className:"text-center animate-fade-in",children:[e.jsx("div",{className:"bg-[#ffde59] w-8 h-8 rounded-full flex items-center justify-center mx-auto mb-1 hover:scale-110 transition-transform duration-300",children:e.jsx(A0,{size:14,className:"text-[#26732d]"})}),e.jsx("h4",{className:"font-bold text-[#26732d] text-[11px]",children:"15% Discount"}),e.jsx("p",{className:"text-[9px] text-gray-600",children:"On all purchases"})]}),e.jsxs("div",{className:"text-center animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsx("div",{className:"bg-[#ffde59] w-8 h-8 rounded-full flex items-center justify-center mx-auto mb-1 hover:scale-110 transition-transform duration-300",children:e.jsx(za,{size:14,className:"text-[#26732d]"})}),e.jsx("h4",{className:"font-bold text-[#26732d] text-[11px]",children:"Free Delivery"}),e.jsx("p",{className:"text-[9px] text-gray-600",children:"On orders above ৳1000"})]}),e.jsxs("div",{className:"text-center animate-fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("div",{className:"bg-[#ffde59] w-8 h-8 rounded-full flex items-center justify-center mx-auto mb-1 hover:scale-110 transition-transform duration-300",children:e.jsx(Yt,{size:14,className:"text-[#26732d]"})}),e.jsx("h4",{className:"font-bold text-[#26732d] text-[11px]",children:"Priority Support"}),e.jsx("p",{className:"text-[9px] text-gray-600",children:"24/7 dedicated support"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"bg-[#26732d] text-white px-4 py-3 rounded-lg animate-scale-up text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"৳5,000"}),e.jsx("div",{className:"text-xs",children:"Lifetime"})]}),e.jsx(re,{href:"/privilege-club",children:e.jsx(S,{variant:"meow",size:"lg",className:"px-6 py-3 rounded-lg text-sm btn-bounce whitespace-nowrap",children:"Join Club"})})]})]})})})}function Ij(){const[r,t]=x.useState([]),[s,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const o=await(await fetch("/api/blog/published")).json();t(o.slice(0,3))}catch(i){console.error("Error fetching blog posts:",i),t([])}finally{a(!1)}})()},[]),s?e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold mb-4 flex items-center justify-center gap-2",style:{color:"#26732d"},children:[e.jsx(va,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"LATEST PET CARE TIPS"]}),e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})]})})}):r.length===0?e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold mb-4 flex items-center justify-center gap-2",style:{color:"#26732d"},children:[e.jsx(va,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"LATEST PET CARE TIPS"]}),e.jsx("p",{className:"text-gray-600",children:"No blog posts available at the moment."})]})})}):e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-center text-[#26732d] flex items-center justify-center gap-2 mb-6",children:[e.jsx(f0,{size:20,className:"md:w-8 md:h-8"}),"LATEST PET CARE TIPS"]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto text-sm sm:text-base px-4",children:"Stay informed with expert advice and insights to keep your pets healthy and happy."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 mb-8",children:r.map((n,i)=>e.jsxs(K,{className:`group hover:shadow-lg transition-all duration-300 overflow-hidden ${i===2?"hidden md:block":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image||"/api/placeholder/400/200",alt:n.title,className:"w-full h-36 sm:h-40 md:h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx(he,{className:"absolute top-2 left-2 sm:top-4 sm:left-4 bg-indigo-600 text-xs",children:n.category||"General"})]}),e.jsxs(te,{className:"p-3 sm:p-4 md:p-6",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-xl font-bold mb-2 line-clamp-2 group-hover:text-indigo-600 transition-colors leading-tight",children:n.title}),e.jsx("p",{className:"text-gray-600 mb-3 sm:mb-4 line-clamp-2 text-xs sm:text-sm md:text-base",children:n.excerpt||n.content.substring(0,100)+"..."}),e.jsxs("div",{className:"flex flex-col gap-2 mb-3 sm:mb-4 text-xs sm:text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"truncate",children:n.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"text-xs",children:new Date(n.publishedAt||n.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})})]})]}),e.jsx(re,{href:`/blog/${n.slug}`,children:e.jsxs(S,{variant:"outline",className:"w-full group text-xs sm:text-sm py-2 h-auto",size:"sm",children:["Read More",e.jsx($c,{className:"ml-1 sm:ml-2 h-3 w-3 sm:h-4 sm:w-4 group-hover:translate-x-1 transition-transform"})]})})]})]},n._id))}),e.jsx("div",{className:"text-center px-4",children:e.jsx(re,{href:"/blog",children:e.jsxs(S,{size:"lg",className:"group text-sm sm:text-base",children:[e.jsx(va,{className:"mr-1 sm:mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"View All Articles",e.jsx($c,{className:"ml-1 sm:ml-2 h-3 w-3 sm:h-4 sm:w-4 group-hover:translate-x-1 transition-transform"})]})})})]})})}function Oj(){const r=[{id:1,name:"Sarah Rahman",role:"Cat Parent, Savar",image:"https://images.unsplash.com/photo-1596854407944-bf87f6fdd49e?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150&q=80",text:"Meow Meow Pet Shop has the best quality pet food in Savar! My cat Luna loves their premium kibble and the delivery is always on time. Highly recommended!",rating:5},{id:2,name:"Ahmed Hassan",role:"Dog Parent, Savar",image:"https://images.unsplash.com/photo-1543466835-00a7907e9de1?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150&q=80",text:"Amazing service and products! I've been buying dog food and toys from here for 2 years. The staff is knowledgeable and always helps me choose the right products for Max.",rating:5},{id:3,name:"Maria Sultana",role:"Professional Groomer, Dhaka",image:"https://images.unsplash.com/photo-1552728089-57bdde30beb3?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&h=150&q=80",text:"As a professional pet groomer, I only recommend the best. Meow Meow Pet Shop has excellent grooming supplies and their bulk pricing helps my business. Great quality!",rating:5}],t=s=>Array.from({length:5},(a,n)=>e.jsx(Yt,{size:16,className:n<s?"text-yellow-500 fill-current":"text-gray-300"},n));return e.jsx("section",{className:"pt-12 md:pt-16 pb-6 md:pb-8 bg-gray-50",children:e.jsxs("div",{className:"responsive-container",children:[e.jsxs("h2",{className:"text-lg md:text-3xl font-bold text-center text-[#26732d] flex items-center justify-center gap-2 mb-8",children:[e.jsx(Zt,{size:20,className:"text-[#26732d] md:w-8 md:h-8"}),"WHAT OUR CUSTOMERS SAY"]}),e.jsx("div",{className:"lg:hidden overflow-x-auto",children:e.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"max-content"},children:r.map((s,a)=>e.jsxs("div",{className:"flex-shrink-0 w-72 sm:w-80 flex flex-col items-center text-center bg-white rounded-xl p-4 sm:p-6 hover-lift animate-fade-in",style:{animationDelay:`${a*.1}s`},children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full mb-3 sm:mb-4 object-cover object-center border-4 border-[#ffde59] hover:scale-110 transition-transform duration-300",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"flex justify-center mb-2 sm:mb-3",children:t(s.rating)}),e.jsxs("p",{className:"text-gray-700 mb-3 sm:mb-4 italic text-xs sm:text-sm leading-relaxed line-clamp-3",children:['"',s.text,'"']}),e.jsx("div",{className:"font-bold text-[#26732d] text-sm sm:text-lg",children:s.name}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:s.role})]},s.id))})}),e.jsx("div",{className:"hidden lg:grid lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map((s,a)=>e.jsxs("div",{className:"flex flex-col items-center text-center bg-white rounded-xl p-6 hover-lift animate-fade-in",style:{animationDelay:`${a*.1}s`},children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 rounded-full mb-4 object-cover object-center border-4 border-[#ffde59] hover:scale-110 transition-transform duration-300",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"flex justify-center mb-3",children:t(s.rating)}),e.jsxs("p",{className:"text-gray-700 mb-4 italic text-sm leading-relaxed",children:['"',s.text,'"']}),e.jsx("div",{className:"font-bold text-[#26732d] text-lg",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.role})]},s.id))})]})})}function Lj(){const{isVisible:r}=wr();return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsxs("main",{className:`transition-all duration-300 ${r?"md:ml-80":"md:ml-0"} overflow-x-hidden pb-20 md:pb-0`,children:[e.jsx(vj,{}),e.jsxs("div",{className:"px-4 lg:px-6 space-y-8 md:space-y-12",children:[e.jsx(bj,{}),e.jsx(jj,{}),e.jsx(Nj,{}),e.jsx(Cj,{}),e.jsx(_j,{}),e.jsx(Pj,{}),e.jsx(Ej,{}),e.jsx(Rj,{}),e.jsx(Ij,{}),e.jsx(Oj,{})]})]}),e.jsx("div",{className:"relative z-30 w-full",children:e.jsx(pe,{})})]})}function bi(r,[t,s]){return Math.min(s,Math.max(t,r))}function Wn(r){const t=x.useRef({value:r,previous:r});return x.useMemo(()=>(t.current.value!==r&&(t.current.previous=t.current.value,t.current.value=r),t.current.previous),[r])}var Mj=[" ","Enter","ArrowUp","ArrowDown"],Dj=[" ","Enter"],Qn="Select",[ro,ao,Fj]=Rl(Qn),[rn,bk]=ks(Qn,[Fj,Ri]),no=Ri(),[$j,Nr]=rn(Qn),[Bj,zj]=rn(Qn),um=r=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:c,disabled:m,required:f,form:p}=r,v=no(t),[y,b]=x.useState(null),[w,j]=x.useState(null),[C,P]=x.useState(!1),_=Oi(u),[L=!1,Z]=gr({prop:a,defaultProp:n,onChange:i}),[B,F]=gr({prop:o,defaultProp:l,onChange:d}),U=x.useRef(null),T=y?p||!!y.closest("form"):!0,[O,E]=x.useState(new Set),R=Array.from(O).map(z=>z.props.value).join(";");return e.jsx(_g,{...v,children:e.jsxs($j,{required:f,scope:t,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:Ii(),value:B,onValueChange:F,open:L,onOpenChange:Z,dir:_,triggerPointerDownPosRef:U,disabled:m,children:[e.jsx(ro.Provider,{scope:t,children:e.jsx(Bj,{scope:r.__scopeSelect,onNativeOptionAdd:x.useCallback(z=>{E(le=>new Set(le).add(z))},[]),onNativeOptionRemove:x.useCallback(z=>{E(le=>{const J=new Set(le);return J.delete(z),J})},[]),children:s})}),T?e.jsxs(Mm,{"aria-hidden":!0,required:f,tabIndex:-1,name:h,autoComplete:c,value:B,onChange:z=>F(z.target.value),disabled:m,form:p,children:[B===void 0?e.jsx("option",{value:""}):null,Array.from(O)]},R):null]})})};um.displayName=Qn;var hm="SelectTrigger",mm=x.forwardRef((r,t)=>{const{__scopeSelect:s,disabled:a=!1,...n}=r,i=no(s),o=Nr(hm,s),l=o.disabled||a,d=dt(t,o.onTriggerChange),u=ao(s),h=x.useRef("touch"),[c,m,f]=Dm(v=>{const y=u().filter(j=>!j.disabled),b=y.find(j=>j.value===o.value),w=Fm(y,v,b);w!==void 0&&o.onValueChange(w.value)}),p=v=>{l||(o.onOpenChange(!0),f()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(ou,{asChild:!0,...i,children:e.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Lm(o.value)?"":void 0,...n,ref:d,onClick:ge(n.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&p(v)}),onPointerDown:ge(n.onPointerDown,v=>{h.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(p(v),v.preventDefault())}),onKeyDown:ge(n.onKeyDown,v=>{const y=c.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&Mj.includes(v.key)&&(p(),v.preventDefault())})})})});mm.displayName=hm;var xm="SelectValue",fm=x.forwardRef((r,t)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=r,d=Nr(xm,s),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,c=dt(t,d.onValueNodeChange);return cs(()=>{u(h)},[u,h]),e.jsx(_e.span,{...l,ref:c,style:{pointerEvents:"none"},children:Lm(d.value)?e.jsx(e.Fragment,{children:o}):i})});fm.displayName=xm;var Uj="SelectIcon",gm=x.forwardRef((r,t)=>{const{__scopeSelect:s,children:a,...n}=r;return e.jsx(_e.span,{"aria-hidden":!0,...n,ref:t,children:a||"▼"})});gm.displayName=Uj;var Vj="SelectPortal",pm=r=>e.jsx(iu,{asChild:!0,...r});pm.displayName=Vj;var Jr="SelectContent",ym=x.forwardRef((r,t)=>{const s=Nr(Jr,r.__scopeSelect),[a,n]=x.useState();if(cs(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?zi.createPortal(e.jsx(vm,{scope:r.__scopeSelect,children:e.jsx(ro.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),i):null}return e.jsx(bm,{...r,ref:t})});ym.displayName=Jr;var fs=10,[vm,kr]=rn(Jr),qj="SelectContentImpl",Hj=Sg("SelectContent.RemoveScroll"),bm=x.forwardRef((r,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:c,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:v,avoidCollisions:y,...b}=r,w=Nr(Jr,s),[j,C]=x.useState(null),[P,_]=x.useState(null),L=dt(t,W=>C(W)),[Z,B]=x.useState(null),[F,U]=x.useState(null),T=ao(s),[O,E]=x.useState(!1),R=x.useRef(!1);x.useEffect(()=>{if(j)return wg(j)},[j]),Ng();const z=x.useCallback(W=>{const[We,...ut]=T().map($e=>$e.ref.current),[Ve]=ut.slice(-1),ye=document.activeElement;for(const $e of W)if($e===ye||($e==null||$e.scrollIntoView({block:"nearest"}),$e===We&&P&&(P.scrollTop=0),$e===Ve&&P&&(P.scrollTop=P.scrollHeight),$e==null||$e.focus(),document.activeElement!==ye))return},[T,P]),le=x.useCallback(()=>z([Z,j]),[z,Z,j]);x.useEffect(()=>{O&&le()},[O,le]);const{onOpenChange:J,triggerPointerDownPosRef:ae}=w;x.useEffect(()=>{if(j){let W={x:0,y:0};const We=Ve=>{var ye,$e;W={x:Math.abs(Math.round(Ve.pageX)-(((ye=ae.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(Ve.pageY)-((($e=ae.current)==null?void 0:$e.y)??0))}},ut=Ve=>{W.x<=10&&W.y<=10?Ve.preventDefault():j.contains(Ve.target)||J(!1),document.removeEventListener("pointermove",We),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",ut,{capture:!0})}}},[j,J,ae]),x.useEffect(()=>{const W=()=>J(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[J]);const[Pe,fe]=Dm(W=>{const We=T().filter(ye=>!ye.disabled),ut=We.find(ye=>ye.ref.current===document.activeElement),Ve=Fm(We,W,ut);Ve&&setTimeout(()=>Ve.ref.current.focus())}),He=x.useCallback((W,We,ut)=>{const Ve=!R.current&&!ut;(w.value!==void 0&&w.value===We||Ve)&&(B(W),Ve&&(R.current=!0))},[w.value]),Xe=x.useCallback(()=>j==null?void 0:j.focus(),[j]),et=x.useCallback((W,We,ut)=>{const Ve=!R.current&&!ut;(w.value!==void 0&&w.value===We||Ve)&&U(W)},[w.value]),it=a==="popper"?xl:jm,ee=it===xl?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:c,collisionBoundary:m,collisionPadding:f,sticky:p,hideWhenDetached:v,avoidCollisions:y}:{};return e.jsx(vm,{scope:s,content:j,viewport:P,onViewportChange:_,itemRefCallback:He,selectedItem:Z,onItemLeave:Xe,itemTextRefCallback:et,focusSelectedItem:le,selectedItemText:F,position:a,isPositioned:O,searchRef:Pe,children:e.jsx(kg,{as:Hj,allowPinchZoom:!0,children:e.jsx(Cg,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ge(n,W=>{var We;(We=w.trigger)==null||We.focus({preventScroll:!0}),W.preventDefault()}),children:e.jsx(lu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(it,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...b,...ee,onPlaced:()=>E(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ge(b.onKeyDown,W=>{const We=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!We&&W.key.length===1&&fe(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let Ve=T().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(W.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ye=W.target,$e=Ve.indexOf(ye);Ve=Ve.slice($e+1)}setTimeout(()=>z(Ve)),W.preventDefault()}})})})})})})});bm.displayName=qj;var Kj="SelectItemAlignedPosition",jm=x.forwardRef((r,t)=>{const{__scopeSelect:s,onPlaced:a,...n}=r,i=Nr(Jr,s),o=kr(Jr,s),[l,d]=x.useState(null),[u,h]=x.useState(null),c=dt(t,L=>h(L)),m=ao(s),f=x.useRef(!1),p=x.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,j=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&y&&b){const L=i.trigger.getBoundingClientRect(),Z=u.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),F=b.getBoundingClientRect();if(i.dir!=="rtl"){const ye=F.left-Z.left,$e=B.left-ye,is=L.left-$e,ue=L.width+is,me=Math.max(ue,Z.width),rt=window.innerWidth-fs,jt=bi($e,[fs,Math.max(fs,rt-me)]);l.style.minWidth=ue+"px",l.style.left=jt+"px"}else{const ye=Z.right-F.right,$e=window.innerWidth-B.right-ye,is=window.innerWidth-L.right-$e,ue=L.width+is,me=Math.max(ue,Z.width),rt=window.innerWidth-fs,jt=bi($e,[fs,Math.max(fs,rt-me)]);l.style.minWidth=ue+"px",l.style.right=jt+"px"}const U=m(),T=window.innerHeight-fs*2,O=v.scrollHeight,E=window.getComputedStyle(u),R=parseInt(E.borderTopWidth,10),z=parseInt(E.paddingTop,10),le=parseInt(E.borderBottomWidth,10),J=parseInt(E.paddingBottom,10),ae=R+z+O+J+le,Pe=Math.min(y.offsetHeight*5,ae),fe=window.getComputedStyle(v),He=parseInt(fe.paddingTop,10),Xe=parseInt(fe.paddingBottom,10),et=L.top+L.height/2-fs,it=T-et,ee=y.offsetHeight/2,W=y.offsetTop+ee,We=R+z+W,ut=ae-We;if(We<=et){const ye=U.length>0&&y===U[U.length-1].ref.current;l.style.bottom="0px";const $e=u.clientHeight-v.offsetTop-v.offsetHeight,is=Math.max(it,ee+(ye?Xe:0)+$e+le),ue=We+is;l.style.height=ue+"px"}else{const ye=U.length>0&&y===U[0].ref.current;l.style.top="0px";const is=Math.max(et,R+v.offsetTop+(ye?He:0)+ee)+ut;l.style.height=is+"px",v.scrollTop=We-et+v.offsetTop}l.style.margin=`${fs}px 0`,l.style.minHeight=Pe+"px",l.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,y,b,i.dir,a]);cs(()=>j(),[j]);const[C,P]=x.useState();cs(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(L=>{L&&p.current===!0&&(j(),w==null||w(),p.current=!1)},[j,w]);return e.jsx(Qj,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:_,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:e.jsx(_e.div,{...n,ref:c,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});jm.displayName=Kj;var Wj="SelectPopperPosition",xl=x.forwardRef((r,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=fs,...i}=r,o=no(s);return e.jsx(cu,{...o,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xl.displayName=Wj;var[Qj,Xl]=rn(Jr,{}),fl="SelectViewport",wm=x.forwardRef((r,t)=>{const{__scopeSelect:s,nonce:a,...n}=r,i=kr(fl,s),o=Xl(fl,s),l=dt(t,i.onViewportChange),d=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(ro.Slot,{scope:s,children:e.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ge(n.onScroll,u=>{const h=u.currentTarget,{contentWrapper:c,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&c){const f=Math.abs(d.current-h.scrollTop);if(f>0){const p=window.innerHeight-fs*2,v=parseFloat(c.style.minHeight),y=parseFloat(c.style.height),b=Math.max(v,y);if(b<p){const w=b+f,j=Math.min(p,w),C=w-j;c.style.height=j+"px",c.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,c.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});wm.displayName=fl;var Nm="SelectGroup",[Gj,Zj]=rn(Nm),Jj=x.forwardRef((r,t)=>{const{__scopeSelect:s,...a}=r,n=Ii();return e.jsx(Gj,{scope:s,id:n,children:e.jsx(_e.div,{role:"group","aria-labelledby":n,...a,ref:t})})});Jj.displayName=Nm;var km="SelectLabel",Cm=x.forwardRef((r,t)=>{const{__scopeSelect:s,...a}=r,n=Zj(km,s);return e.jsx(_e.div,{id:n.id,...a,ref:t})});Cm.displayName=km;var ji="SelectItem",[Yj,Sm]=rn(ji),_m=x.forwardRef((r,t)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=r,l=Nr(ji,s),d=kr(ji,s),u=l.value===a,[h,c]=x.useState(i??""),[m,f]=x.useState(!1),p=dt(t,w=>{var j;return(j=d.itemRefCallback)==null?void 0:j.call(d,w,a,n)}),v=Ii(),y=x.useRef("touch"),b=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Yj,{scope:s,value:a,disabled:n,textId:v,isSelected:u,onItemTextChange:x.useCallback(w=>{c(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:e.jsx(ro.ItemSlot,{scope:s,value:a,disabled:n,textValue:h,children:e.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:p,onFocus:ge(o.onFocus,()=>f(!0)),onBlur:ge(o.onBlur,()=>f(!1)),onClick:ge(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ge(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ge(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ge(o.onPointerMove,w=>{var j;y.current=w.pointerType,n?(j=d.onItemLeave)==null||j.call(d):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=d.onItemLeave)==null||j.call(d))}),onKeyDown:ge(o.onKeyDown,w=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(Dj.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});_m.displayName=ji;var pn="SelectItemText",Pm=x.forwardRef((r,t)=>{const{__scopeSelect:s,className:a,style:n,...i}=r,o=Nr(pn,s),l=kr(pn,s),d=Sm(pn,s),u=zj(pn,s),[h,c]=x.useState(null),m=dt(t,b=>c(b),d.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,d.value,d.disabled)}),f=h==null?void 0:h.textContent,p=x.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return cs(()=>(v(p),()=>y(p)),[v,y,p]),e.jsxs(e.Fragment,{children:[e.jsx(_e.span,{id:d.textId,...i,ref:m}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zi.createPortal(i.children,o.valueNode):null]})});Pm.displayName=pn;var Tm="SelectItemIndicator",Em=x.forwardRef((r,t)=>{const{__scopeSelect:s,...a}=r;return Sm(Tm,s).isSelected?e.jsx(_e.span,{"aria-hidden":!0,...a,ref:t}):null});Em.displayName=Tm;var gl="SelectScrollUpButton",Am=x.forwardRef((r,t)=>{const s=kr(gl,r.__scopeSelect),a=Xl(gl,r.__scopeSelect),[n,i]=x.useState(!1),o=dt(t,a.onScrollButtonChange);return cs(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(Im,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Am.displayName=gl;var pl="SelectScrollDownButton",Rm=x.forwardRef((r,t)=>{const s=kr(pl,r.__scopeSelect),a=Xl(pl,r.__scopeSelect),[n,i]=x.useState(!1),o=dt(t,a.onScrollButtonChange);return cs(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(Im,{...r,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});Rm.displayName=pl;var Im=x.forwardRef((r,t)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=r,i=kr("SelectScrollButton",s),o=x.useRef(null),l=ao(s),d=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),cs(()=>{var h;const u=l().find(c=>c.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),e.jsx(_e.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ge(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:ge(n.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:ge(n.onPointerLeave,()=>{d()})})}),Xj="SelectSeparator",Om=x.forwardRef((r,t)=>{const{__scopeSelect:s,...a}=r;return e.jsx(_e.div,{"aria-hidden":!0,...a,ref:t})});Om.displayName=Xj;var yl="SelectArrow",ew=x.forwardRef((r,t)=>{const{__scopeSelect:s,...a}=r,n=no(s),i=Nr(yl,s),o=kr(yl,s);return i.open&&o.position==="popper"?e.jsx(du,{...n,...a,ref:t}):null});ew.displayName=yl;function Lm(r){return r===""||r===void 0}var Mm=x.forwardRef((r,t)=>{const{value:s,...a}=r,n=x.useRef(null),i=dt(t,n),o=Wn(s);return x.useEffect(()=>{const l=n.current,d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==s&&h){const c=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(c)}},[o,s]),e.jsx(qn,{asChild:!0,children:e.jsx("select",{...a,ref:i,defaultValue:s})})});Mm.displayName="BubbleSelect";function Dm(r){const t=Oa(r),s=x.useRef(""),a=x.useRef(0),n=x.useCallback(o=>{const l=s.current+o;t(l),function d(u){s.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=x.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function Fm(r,t,s){const n=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=s?r.indexOf(s):-1;let o=tw(r,Math.max(i,0));n.length===1&&(o=o.filter(u=>u!==s));const d=o.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==s?d:void 0}function tw(r,t){return r.map((s,a)=>r[(t+a)%r.length])}var sw=um,$m=mm,rw=fm,aw=gm,nw=pm,Bm=ym,iw=wm,zm=Cm,Um=_m,ow=Pm,lw=Em,Vm=Am,qm=Rm,Hm=Om;const ft=sw,gt=rw,ot=x.forwardRef(({className:r,children:t,...s},a)=>e.jsxs($m,{ref:a,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...s,children:[t,e.jsx(aw,{asChild:!0,children:e.jsx(xi,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=$m.displayName;const Km=x.forwardRef(({className:r,...t},s)=>e.jsx(Vm,{ref:s,className:X("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(el,{className:"h-4 w-4"})}));Km.displayName=Vm.displayName;const Wm=x.forwardRef(({className:r,...t},s)=>e.jsx(qm,{ref:s,className:X("flex cursor-default items-center justify-center py-1",r),...t,children:e.jsx(xi,{className:"h-4 w-4"})}));Wm.displayName=qm.displayName;const lt=x.forwardRef(({className:r,children:t,position:s="popper",...a},n)=>e.jsx(nw,{children:e.jsxs(Bm,{ref:n,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...a,children:[e.jsx(Km,{}),e.jsx(iw,{className:X("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Wm,{})]})}));lt.displayName=Bm.displayName;const cw=x.forwardRef(({className:r,...t},s)=>e.jsx(zm,{ref:s,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t}));cw.displayName=zm.displayName;const D=x.forwardRef(({className:r,children:t,...s},a)=>e.jsxs(Um,{ref:a,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lw,{children:e.jsx(Xr,{className:"h-4 w-4"})})}),e.jsx(ow,{children:t})]}));D.displayName=Um.displayName;const dw=x.forwardRef(({className:r,...t},s)=>e.jsx(Hm,{ref:s,className:X("-mx-1 my-1 h-px bg-muted",r),...t}));dw.displayName=Hm.displayName;var Qm=["PageUp","PageDown"],Gm=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zm={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},an="Slider",[vl,uw,hw]=Rl(an),[Jm,jk]=ks(an,[hw]),[mw,io]=Jm(an),Ym=x.forwardRef((r,t)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[a],value:h,onValueChange:c=()=>{},onValueCommit:m=()=>{},inverted:f=!1,form:p,...v}=r,y=x.useRef(new Set),b=x.useRef(0),j=o==="horizontal"?xw:fw,[C=[],P]=gr({prop:h,defaultProp:u,onChange:U=>{var O;(O=[...y.current][b.current])==null||O.focus(),c(U)}}),_=x.useRef(C);function L(U){const T=bw(C,U);F(U,T)}function Z(U){F(U,b.current)}function B(){const U=_.current[b.current];C[b.current]!==U&&m(C)}function F(U,T,{commit:O}={commit:!1}){const E=kw(i),R=Cw(Math.round((U-a)/i)*i+a,E),z=bi(R,[a,n]);P((le=[])=>{const J=yw(le,z,T);if(Nw(J,d*i)){b.current=J.indexOf(z);const ae=String(J)!==String(le);return ae&&O&&m(J),ae?J:le}else return le})}return e.jsx(mw,{scope:r.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:b,thumbs:y.current,values:C,orientation:o,form:p,children:e.jsx(vl.Provider,{scope:r.__scopeSlider,children:e.jsx(vl.Slot,{scope:r.__scopeSlider,children:e.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:t,onPointerDown:ge(v.onPointerDown,()=>{l||(_.current=C)}),min:a,max:n,inverted:f,onSlideStart:l?void 0:L,onSlideMove:l?void 0:Z,onSlideEnd:l?void 0:B,onHomeKeyDown:()=>!l&&F(a,0,{commit:!0}),onEndKeyDown:()=>!l&&F(n,C.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:T})=>{if(!l){const R=Qm.includes(U.key)||U.shiftKey&&Gm.includes(U.key)?10:1,z=b.current,le=C[z],J=i*R*T;F(le+J,z,{commit:!0})}}})})})})});Ym.displayName=an;var[Xm,ex]=Jm(an,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xw=x.forwardRef((r,t)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=r,[c,m]=x.useState(null),f=dt(t,j=>m(j)),p=x.useRef(void 0),v=Oi(n),y=v==="ltr",b=y&&!i||!y&&i;function w(j){const C=p.current||c.getBoundingClientRect(),P=[0,C.width],L=ec(P,b?[s,a]:[a,s]);return p.current=C,L(j-C.left)}return e.jsx(Xm,{scope:r.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:e.jsx(tx,{dir:v,"data-orientation":"horizontal",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const C=w(j.clientX);o==null||o(C)},onSlideMove:j=>{const C=w(j.clientX);l==null||l(C)},onSlideEnd:()=>{p.current=void 0,d==null||d()},onStepKeyDown:j=>{const P=Zm[b?"from-left":"from-right"].includes(j.key);u==null||u({event:j,direction:P?-1:1})}})})}),fw=x.forwardRef((r,t)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...u}=r,h=x.useRef(null),c=dt(t,h),m=x.useRef(void 0),f=!n;function p(v){const y=m.current||h.current.getBoundingClientRect(),b=[0,y.height],j=ec(b,f?[a,s]:[s,a]);return m.current=y,j(v-y.top)}return e.jsx(Xm,{scope:r.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:e.jsx(tx,{"data-orientation":"vertical",...u,ref:c,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=p(v.clientY);i==null||i(y)},onSlideMove:v=>{const y=p(v.clientY);o==null||o(y)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:v=>{const b=Zm[f?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:b?-1:1})}})})}),tx=x.forwardRef((r,t)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...u}=r,h=io(an,s);return e.jsx(_e.span,{...u,ref:t,onKeyDown:ge(r.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(l(c),c.preventDefault()):Qm.concat(Gm).includes(c.key)&&(d(c),c.preventDefault())}),onPointerDown:ge(r.onPointerDown,c=>{const m=c.target;m.setPointerCapture(c.pointerId),c.preventDefault(),h.thumbs.has(m)?m.focus():a(c)}),onPointerMove:ge(r.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&n(c)}),onPointerUp:ge(r.onPointerUp,c=>{const m=c.target;m.hasPointerCapture(c.pointerId)&&(m.releasePointerCapture(c.pointerId),i(c))})})}),sx="SliderTrack",rx=x.forwardRef((r,t)=>{const{__scopeSlider:s,...a}=r,n=io(sx,s);return e.jsx(_e.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:t})});rx.displayName=sx;var bl="SliderRange",ax=x.forwardRef((r,t)=>{const{__scopeSlider:s,...a}=r,n=io(bl,s),i=ex(bl,s),o=x.useRef(null),l=dt(t,o),d=n.values.length,u=n.values.map(m=>ix(m,n.min,n.max)),h=d>1?Math.min(...u):0,c=100-Math.max(...u);return e.jsx(_e.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...r.style,[i.startEdge]:h+"%",[i.endEdge]:c+"%"}})});ax.displayName=bl;var jl="SliderThumb",nx=x.forwardRef((r,t)=>{const s=uw(r.__scopeSlider),[a,n]=x.useState(null),i=dt(t,l=>n(l)),o=x.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return e.jsx(gw,{...r,ref:i,index:o})}),gw=x.forwardRef((r,t)=>{const{__scopeSlider:s,index:a,name:n,...i}=r,o=io(jl,s),l=ex(jl,s),[d,u]=x.useState(null),h=dt(t,w=>u(w)),c=d?o.form||!!d.closest("form"):!0,m=Li(d),f=o.values[a],p=f===void 0?0:ix(f,o.min,o.max),v=vw(a,o.values.length),y=m==null?void 0:m[l.size],b=y?jw(y,p,l.direction):0;return x.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${b}px)`},children:[e.jsx(vl.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(_e.span,{role:"slider","aria-label":r["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:h,style:f===void 0?{display:"none"}:r.style,onFocus:ge(r.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),c&&e.jsx(pw,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},a)]})});nx.displayName=jl;var pw=r=>{const{value:t,...s}=r,a=x.useRef(null),n=Wn(t);return x.useEffect(()=>{const i=a.current,o=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(n!==t&&d){const u=new Event("input",{bubbles:!0});d.call(i,t),i.dispatchEvent(u)}},[n,t]),e.jsx("input",{style:{display:"none"},...s,ref:a,defaultValue:t})};function yw(r=[],t,s){const a=[...r];return a[s]=t,a.sort((n,i)=>n-i)}function ix(r,t,s){const i=100/(s-t)*(r-t);return bi(i,[0,100])}function vw(r,t){return t>2?`Value ${r+1} of ${t}`:t===2?["Minimum","Maximum"][r]:void 0}function bw(r,t){if(r.length===1)return 0;const s=r.map(n=>Math.abs(n-t)),a=Math.min(...s);return s.indexOf(a)}function jw(r,t,s){const a=r/2,i=ec([0,50],[0,a]);return(a-i(t)*s)*s}function ww(r){return r.slice(0,-1).map((t,s)=>r[s+1]-t)}function Nw(r,t){if(t>0){const s=ww(r);return Math.min(...s)>=t}return!0}function ec(r,t){return s=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(r[1]-r[0]);return t[0]+a*(s-r[0])}}function kw(r){return(String(r).split(".")[1]||"").length}function Cw(r,t){const s=Math.pow(10,t);return Math.round(r*s)/s}var ox=Ym,Sw=rx,_w=ax,Pw=nx;const Ln=x.forwardRef(({className:r,...t},s)=>e.jsxs(ox,{ref:s,className:X("relative flex w-full touch-none select-none items-center",r),...t,children:[e.jsx(Sw,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(_w,{className:"absolute h-full bg-primary"})}),e.jsx(Pw,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ln.displayName=ox.displayName;var tc="Checkbox",[Tw,wk]=ks(tc),[Ew,Aw]=Tw(tc),lx=x.forwardRef((r,t)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...c}=r,[m,f]=x.useState(null),p=dt(t,C=>f(C)),v=x.useRef(!1),y=m?h||!!m.closest("form"):!0,[b=!1,w]=gr({prop:n,defaultProp:i,onChange:u}),j=x.useRef(b);return x.useEffect(()=>{const C=m==null?void 0:m.form;if(C){const P=()=>w(j.current);return C.addEventListener("reset",P),()=>C.removeEventListener("reset",P)}},[m,w]),e.jsxs(Ew,{scope:s,state:b,disabled:l,children:[e.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":xr(b)?"mixed":b,"aria-required":o,"data-state":ux(b),"data-disabled":l?"":void 0,disabled:l,value:d,...c,ref:p,onKeyDown:ge(r.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ge(r.onClick,C=>{w(P=>xr(P)?!0:!P),y&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),y&&e.jsx(Rw,{control:m,bubbles:!v.current,name:a,value:d,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:xr(i)?!1:i})]})});lx.displayName=tc;var cx="CheckboxIndicator",dx=x.forwardRef((r,t)=>{const{__scopeCheckbox:s,forceMount:a,...n}=r,i=Aw(cx,s);return e.jsx(Vn,{present:a||xr(i.state)||i.state===!0,children:e.jsx(_e.span,{"data-state":ux(i.state),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...r.style}})})});dx.displayName=cx;var Rw=r=>{const{control:t,checked:s,bubbles:a=!0,defaultChecked:n,...i}=r,o=x.useRef(null),l=Wn(s),d=Li(t);x.useEffect(()=>{const h=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(l!==s&&f){const p=new Event("click",{bubbles:a});h.indeterminate=xr(s),f.call(h,xr(s)?!1:s),h.dispatchEvent(p)}},[l,s,a]);const u=x.useRef(xr(s)?!1:s);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...i,tabIndex:-1,ref:o,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function xr(r){return r==="indeterminate"}function ux(r){return xr(r)?"indeterminate":r?"checked":"unchecked"}var hx=lx,Iw=dx;const Bs=x.forwardRef(({className:r,...t},s)=>e.jsx(hx,{ref:s,className:X("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...t,children:e.jsx(Iw,{className:X("flex items-center justify-center text-current"),children:e.jsx(Xr,{className:"h-4 w-4"})})}));Bs.displayName=hx.displayName;var Ow="Separator",xd="horizontal",Lw=["horizontal","vertical"],mx=x.forwardRef((r,t)=>{const{decorative:s,orientation:a=xd,...n}=r,i=Mw(a)?a:xd,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(_e.div,{"data-orientation":i,...l,...n,ref:t})});mx.displayName=Ow;function Mw(r){return Lw.includes(r)}var xx=mx;const Mt=x.forwardRef(({className:r,orientation:t="horizontal",decorative:s=!0,...a},n)=>e.jsx(xx,{ref:n,decorative:s,orientation:t,className:X("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...a}));Mt.displayName=xx.displayName;function wt({product:r,className:t}){const[s,a]=x.useState(!1),[n,i]=x.useState(!1),{addItem:o,getItemQuantity:l}=Cs(),{toast:d}=bt(),u=r.slug||"product",c=l(r.id)>0,m=async()=>{if(r.stock!==0){i(!0);try{o({id:r.id,name:r.name,price:r.price,image:r.image,maxStock:r.stock}),d({title:"Added to cart",description:`${r.name} has been added to your cart.`})}catch{d({title:"Error",description:"Failed to add item to cart. Please try again.",variant:"destructive"})}finally{i(!1)}}},f=w=>Array.from({length:5},(j,C)=>e.jsx(Yt,{size:10,className:C<w?"text-yellow-500 fill-current":"text-gray-300"},C)),p=w=>w.isBestSeller?"bg-yellow-500 text-white":w.isNew?"bg-blue-500 text-white":w.isLowStock?"bg-red-500 text-white":"bg-gray-500 text-white",y=(w=>w.isBestSeller?"Best Seller":w.isNew?"New":w.isLowStock?"Low Stock":null)(r),b=r.originalPrice&&r.originalPrice>r.price;return e.jsx(re,{href:`/product/${u}`,children:e.jsxs(K,{className:X("group hover:shadow-lg transition-all duration-300 hover:-translate-y-1 relative overflow-hidden bg-white border border-gray-100 rounded-2xl w-full max-w-[200px] mx-auto h-[280px] sm:h-[280px] md:h-[280px] lg:h-[280px] flex flex-col cursor-pointer",t),children:[b&&e.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-bold bg-red-500 text-white z-10",children:["-৳",(r.originalPrice-r.price).toLocaleString()]}),y&&!b&&e.jsx("div",{className:X("absolute top-2 left-2 px-2 py-1 rounded-full text-xs font-bold z-10",p(r)),children:y}),e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),a(!s)},className:"bg-white/80 backdrop-blur-sm p-1.5 rounded-full text-gray-400 hover:text-red-500 transition-all duration-200 shadow-sm hover:shadow-md hover:bg-white hover:bg-opacity-100 active:scale-95",children:e.jsx(us,{size:14,className:X("transition-colors",s?"text-red-500 fill-current":"")})})}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-t-2xl h-28 sm:h-28 md:h-28 lg:h-28 flex-shrink-0",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-contain p-2 transition-transform duration-500 group-hover:scale-105",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs(te,{className:"px-3 pt-2 pb-3 flex flex-col flex-1",children:[e.jsxs("div",{className:"space-y-1",children:[r.tags&&r.tags.length>0&&e.jsx("div",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:r.tags[0]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 leading-tight line-clamp-2 group-hover:text-[#26732d] transition-colors text-left",children:r.name}),r.rating>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex items-center",children:f(r.rating)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.reviews,")"]})]}),e.jsx("div",{className:"text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-base font-bold text-[#26732d]",children:["৳",r.price.toLocaleString()]}),r.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["৳",r.originalPrice.toLocaleString()]})]})})]}),e.jsx("div",{className:"mt-auto mb-2",children:e.jsx(S,{variant:c?"default":"outline",size:"sm",className:X("w-full rounded-full py-1.5 text-sm transition-all duration-200 border-2",c?"bg-[#26732d] border-[#26732d] text-white hover:bg-[#1e5d26]":"border-gray-200 text-gray-700 hover:border-[#26732d] hover:text-[#26732d] hover:bg-[#26732d]/5"),disabled:r.stock===0||n,onClick:w=>{w.preventDefault(),w.stopPropagation(),m()},children:n?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):c?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{size:16,className:"mr-1"}),"Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{size:16,className:"mr-1"}),"Add to Cart"]})})})]})]})})}function Nt(){const[r,t]=x.useState([]),[s,a]=x.useState(!0),[n,i]=x.useState(null);return x.useEffect(()=>{(async()=>{try{a(!0);const h=await fetch("/api/products",{cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const c=await h.json();t(c),i(null)}catch(h){console.error("Error fetching products:",h),i(h instanceof Error?h.message:"Failed to fetch products")}finally{a(!1)}})()},[]),{products:r,loading:s,error:n,getProductsByCategory:u=>u==="all"||!u?r:r.filter(h=>h.category===u||h.subcategory===u),getProductsByBrand:u=>r.filter(h=>{var y;const m={nekko:["nekko"],purina:["purina"],one:["purina-one","purina one","one"],reflex:["reflex"],"reflex-plus":["reflex-plus","reflex plus"],"royal-canin":["royal-canin","royal canin"],sheba:["sheba"],"default-brand":["default-brand","default brand"]}[u.toLowerCase()]||[u],f=m.some(b=>{var w,j,C;return((w=h.brandName)==null?void 0:w.toLowerCase())===b.toLowerCase()||((j=h.brandSlug)==null?void 0:j.toLowerCase())===b.toLowerCase()||((C=h.brandId)==null?void 0:C.toLowerCase())===b.toLowerCase()}),p=(y=h.tags)==null?void 0:y.some(b=>m.some(w=>b.toLowerCase().includes(w.toLowerCase()))),v=m.some(b=>h.name.toLowerCase().includes(b.toLowerCase()));return f||p||v}),searchProducts:u=>r.filter(h=>{var m,f;return((m=h.tags)==null?void 0:m.some(p=>["repack-food","repack","bulk-save","bulk"].includes(p.toLowerCase())))?!1:h.name.toLowerCase().includes(u.toLowerCase())||((f=h.description)==null?void 0:f.toLowerCase().includes(u.toLowerCase()))||h.tags.some(p=>p.toLowerCase().includes(u.toLowerCase()))}),refetch:()=>window.location.reload()}}const Dw=[{id:"adult-food",name:"Adult Food",icon:"🐱"},{id:"kitten-food",name:"Kitten Food",icon:"🐱"},{id:"collar",name:"Collar",icon:"🦮"},{id:"clumping-cat-litter",name:"Clumping Cat Litter",icon:"🧽"},{id:"cat-litter-accessories",name:"Cat Litter Accessories",icon:"🧽"},{id:"harness",name:"Harness",icon:"🦮"},{id:"cat-tick-flea-control",name:"Cat Tick & Flea Control",icon:"💊"},{id:"deworming-tablet",name:"Deworming Tablet",icon:"💊"},{id:"cat-pouches",name:"Cat Pouches",icon:"🥘"},{id:"sunglass",name:"Sunglass",icon:"🕶️"}],Fw={"adult-food":[],"kitten-food":[],collar:[],"clumping-cat-litter":[],"cat-litter-accessories":[],harness:[],"cat-tick-flea-control":[],"deworming-tablet":[],"cat-pouches":[],sunglass:[],nekko:[],purina:[],one:[],"reflex-plus":[],"royal-canin":[],sheba:[],"toys-treats":[{id:"tt001",name:"Interactive Cat Wand Toy",price:450,image:"https://images.unsplash.com/photo-1601758228041-f3b2795255f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.6,reviews:156,category:"toys-treats",description:"Fun interactive wand toy to keep cats active and engaged.",tags:["Interactive","Cat"],stock:89,isBestSeller:!0},{id:"tt002",name:"Kong Classic Dog Toy",price:850,image:"https://images.unsplash.com/photo-1605043204319-d14e5ba4719e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.8,reviews:234,category:"toys-treats",description:"Durable rubber toy perfect for stuffing with treats.",tags:["Durable","Dog"],stock:67},{id:"tt003",name:"Catnip Mice Toys (Pack of 6)",price:320,image:"https://images.unsplash.com/photo-1615789591457-74a63395c990?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.5,reviews:189,category:"toys-treats",description:"Soft mice toys filled with premium catnip.",tags:["Catnip","Pack"],stock:45,isNew:!0},{id:"tt004",name:"Dog Training Treats",price:650,image:"https://images.unsplash.com/photo-1589924691995-400dc9ecc119?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.7,reviews:145,category:"toys-treats",description:"High-value treats perfect for training sessions.",tags:["Training","Treats"],stock:7,isLowStock:!0}],grooming:[{id:"gr001",name:"Professional Pet Grooming Kit",price:2800,originalPrice:3200,image:"https://images.unsplash.com/photo-1589941013453-ec89f33b5e95?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.7,reviews:98,category:"grooming",description:"Complete grooming kit with brushes, clippers, and accessories.",tags:["Professional","Complete Kit"],stock:23,isBestSeller:!0},{id:"gr002",name:"Pet Shampoo & Conditioner Set",price:950,image:"https://images.unsplash.com/photo-1628009368231-7bb7cfcb0def?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.5,reviews:167,category:"grooming",description:"Gentle shampoo and conditioner for sensitive pet skin.",tags:["Gentle","Set"],stock:54},{id:"gr003",name:"Nail Clippers for Dogs & Cats",price:450,image:"https://images.unsplash.com/photo-1606316321469-4d5b7d0e21c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.6,reviews:234,category:"grooming",description:"Safe and easy-to-use nail clippers for all pet sizes.",tags:["Safety","Universal"],stock:78,isNew:!0},{id:"gr004",name:"De-shedding Brush",price:750,image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.8,reviews:156,category:"grooming",description:"Reduces shedding by up to 90% with gentle bristles.",tags:["De-shedding","Gentle"],stock:3,isLowStock:!0}],"health-care":[{id:"hc001",name:"Pet Multivitamin Supplements",price:1200,image:"https://images.unsplash.com/photo-1587402092301-725e37c70fd8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.6,reviews:123,category:"health-care",description:"Daily multivitamin for optimal pet health and immunity.",tags:["Multivitamin","Daily"],stock:67,isBestSeller:!0},{id:"hc002",name:"Flea & Tick Prevention Collar",price:850,image:"https://images.unsplash.com/photo-1601758125946-6ec2ef64daf8?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.5,reviews:189,category:"health-care",description:"8-month protection against fleas and ticks.",tags:["Prevention","8-month"],stock:45},{id:"hc003",name:"Digestive Health Probiotics",price:1500,image:"https://images.unsplash.com/photo-1552053628-0dcb5a60e3de?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.8,reviews:87,category:"health-care",description:"Supports digestive health with beneficial probiotics.",tags:["Probiotics","Digestive"],stock:34,isNew:!0},{id:"hc004",name:"Ear Cleaning Solution",price:650,image:"https://images.unsplash.com/photo-1605043204319-d14e5ba4719e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.4,reviews:156,category:"health-care",description:"Gentle ear cleaning solution for regular maintenance.",tags:["Gentle","Maintenance"],stock:9,isLowStock:!0}],accessories:[{id:"ac001",name:"Adjustable Pet Harness",price:950,originalPrice:1200,image:"https://images.unsplash.com/photo-1615789591457-74a63395c990?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.7,reviews:234,category:"accessories",description:"Comfortable and secure harness for daily walks.",tags:["Adjustable","Comfortable"],stock:56,isBestSeller:!0},{id:"ac002",name:"Stainless Steel Food Bowls",price:750,image:"https://images.unsplash.com/photo-1606316321469-4d5b7d0e21c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.6,reviews:189,category:"accessories",description:"Durable stainless steel bowls, set of 2.",tags:["Stainless Steel","Set of 2"],stock:78},{id:"ac003",name:"Orthopedic Pet Bed",price:2400,image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.8,reviews:167,category:"accessories",description:"Memory foam pet bed for joint support and comfort.",tags:["Orthopedic","Memory Foam"],stock:23,isNew:!0},{id:"ac004",name:"Retractable Dog Leash",price:650,image:"https://images.unsplash.com/photo-1628009368231-7bb7cfcb0def?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",rating:4.5,reviews:145,category:"accessories",description:"16ft retractable leash with ergonomic handle.",tags:["Retractable","16ft"],stock:4,isLowStock:!0}],"cat-toys":[],"cat-litter":[],reflex:[]};function $w(r){return Fw[r]||[]}function Bw(r){const t=$w(r);if(t.length===0)return{lowestPriced:null,highestPriced:null,highestRated:null,bestSeller:null};const s=t.reduce((o,l)=>l.price<o.price?l:o),a=t.reduce((o,l)=>l.price>o.price?l:o),n=t.reduce((o,l)=>l.rating>o.rating?l:o),i=t.find(o=>o.isBestSeller)||t[0];return{lowestPriced:s,highestPriced:a,highestRated:n,bestSeller:i}}function zw(){const[r]=qt(),[t,s]=x.useState("cat-food"),[a,n]=x.useState(""),[i,o]=x.useState("name"),[l,d]=x.useState("grid"),[u,h]=x.useState([0,1e4]),[c,m]=x.useState([]),[f,p]=x.useState(0),[v,y]=x.useState(!1),[b,w]=x.useState(!1),{products:j,loading:C,error:P,getProductsByCategory:_}=Nt();x.useEffect(()=>{const R=new URLSearchParams(window.location.search),z=R.get("category"),le=R.get("subcategory");le?s(le):z&&s(z)},[r]);const L=_(t),Z=Dw.find(R=>R.id===t),B=(Z==null?void 0:Z.name)||"Products",F=Array.from(new Set(j.map(R=>R.brandName||"Unknown").filter(Boolean))),U=L.filter(R=>{var fe;const z=R.name.toLowerCase().includes(a.toLowerCase())||((fe=R.description)==null?void 0:fe.toLowerCase().includes(a.toLowerCase()))||R.tags.some(He=>He.toLowerCase().includes(a.toLowerCase())),le=R.price>=u[0]&&R.price<=u[1],J=c.length===0||c.includes(R.brandName||"Unknown"),ae=R.rating>=f,Pe=!v||R.stock&&R.stock>0;return z&&le&&J&&ae&&Pe}).sort((R,z)=>{switch(i){case"price-low":return R.price-z.price;case"price-high":return z.price-R.price;case"rating":return z.rating-R.rating;case"reviews":return z.reviews-R.reviews;case"newest":return(z.isNew?1:0)-(R.isNew?1:0);case"name":default:return R.name.localeCompare(z.name)}}),T=R=>{m(z=>z.includes(R)?z.filter(le=>le!==R):[...z,R])},O=()=>{h([0,1e4]),m([]),p(0),y(!1)},E=u[0]>0||u[1]<1e4||c.length>0||f>0||v;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-green-50/30",children:[e.jsx(Y,{}),e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"py-3 sm:py-4 flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-600 overflow-x-auto",children:[e.jsxs(re,{href:"/",className:"hover:text-[#26732d] transition-colors flex items-center gap-1 whitespace-nowrap","data-testid":"link-home",children:[e.jsx(Hi,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{children:"Home"})]}),e.jsx(Xo,{size:14,className:"text-gray-400 flex-shrink-0 sm:w-4 sm:h-4"}),e.jsx(re,{href:"/products",className:"hover:text-[#26732d] transition-colors whitespace-nowrap","data-testid":"link-products",children:"Products"}),e.jsx(Xo,{size:14,className:"text-gray-400 flex-shrink-0 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-[#26732d] font-medium truncate",children:B})]}),e.jsxs("div",{className:"mb-6 sm:mb-8 bg-gradient-to-br from-[#26732d] via-[#2a7f32] to-[#1f5d26] rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 sm:w-64 h-32 sm:h-64 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 sm:w-48 h-24 sm:h-48 bg-[#ffde59]/10 rounded-full translate-y-1/2 -translate-x-1/2 blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl sm:text-4xl shadow-lg",children:(Z==null?void 0:Z.icon)||"📦"}),e.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:B}),e.jsxs(he,{className:"bg-[#ffde59] text-[#26732d] hover:bg-[#ffd73e] text-xs sm:text-sm font-semibold px-3 py-1 w-fit",children:[e.jsx(Wr,{size:14,className:"mr-1"}),U.length," Products"]})]}),e.jsxs("p",{className:"text-white/90 text-sm sm:text-base lg:text-lg leading-relaxed",children:["Discover our premium selection of ",B.toLowerCase()," products for your beloved pets"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-white/70 text-xs mb-1",children:[e.jsx(At,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"Total Items"})]}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:L.length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-white/70 text-xs mb-1",children:[e.jsx(Yt,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"Avg Rating"})]}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:L.length>0?(L.reduce((R,z)=>R+z.rating,0)/L.length).toFixed(1):"0"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-white/70 text-xs mb-1",children:[e.jsx(ph,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"Bestsellers"})]}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:L.filter(R=>R.isBestseller).length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/20 hover:bg-white/15 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-white/70 text-xs mb-1",children:[e.jsx(In,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:"New Arrivals"})]}),e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:L.filter(R=>R.isNew).length})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 lg:gap-6",children:[e.jsx("div",{className:"hidden lg:block w-64 xl:w-72 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-4 bg-white rounded-xl shadow-lg p-5 xl:p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5 xl:mb-6",children:[e.jsxs("h3",{className:"text-base xl:text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ko,{size:18,className:"xl:w-5 xl:h-5"}),"Filters"]}),E&&e.jsx(S,{variant:"ghost",size:"sm",onClick:O,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 h-7","data-testid":"button-clear-filters",children:"Clear All"})]}),e.jsxs("div",{className:"space-y-5 xl:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Price Range"}),e.jsx(Ln,{min:0,max:1e4,step:100,value:u,onValueChange:h,className:"mb-3"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium",children:["৳",u[0]]}),e.jsxs("span",{className:"font-medium",children:["৳",u[1]]})]})]}),e.jsx(Mt,{}),F.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Brands"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:F.slice(0,10).map(R=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx(Bs,{checked:c.includes(R),onCheckedChange:()=>T(R),"data-testid":`checkbox-brand-${R.toLowerCase().replace(/\s+/g,"-")}`}),e.jsx("span",{className:"text-sm text-black group-hover:text-[#26732d] transition-colors flex-1 truncate",children:R}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",L.filter(z=>z.brandName===R).length,")"]})]},R))})]}),e.jsx(Mt,{})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(R=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx(Bs,{checked:f===R,onCheckedChange:z=>p(z?R:0),"data-testid":`checkbox-rating-${R}`}),e.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[Array.from({length:R}).map((z,le)=>e.jsx(Yt,{size:14,className:"fill-yellow-400 text-yellow-400"},le)),e.jsx("span",{className:"text-sm text-black group-hover:text-[#26732d]",children:"& up"})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",L.filter(z=>z.rating>=R).length,")"]})]},R))})]}),e.jsx(Mt,{}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx(Bs,{checked:v,onCheckedChange:y,"data-testid":"checkbox-in-stock"}),e.jsx("span",{className:"text-sm font-semibold text-black group-hover:text-[#26732d] flex-1",children:"In Stock Only"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",L.filter(R=>R.stock&&R.stock>0).length,")"]})]})})]})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col gap-2.5 sm:gap-3 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 sm:w-[18px] sm:h-[18px]"}),e.jsx(Q,{placeholder:"Search products...",value:a,onChange:R=>n(R.target.value),className:"pl-9 sm:pl-10 h-10 sm:h-11 border-gray-200 focus:border-[#26732d] focus:ring-[#26732d] text-sm text-black placeholder:text-gray-500","data-testid":"input-search"})]}),e.jsxs(S,{variant:"outline",className:"lg:hidden h-10 sm:h-11 gap-1.5 sm:gap-2 px-3 sm:px-4 flex-shrink-0 bg-white border-gray-300 hover:bg-gray-50 hover:border-gray-400",onClick:()=>w(!b),"data-testid":"button-toggle-filters",children:[e.jsx(ko,{size:16,className:"sm:w-[18px] sm:h-[18px] text-gray-700"}),e.jsx("span",{className:"hidden xs:inline text-gray-900",children:"Filters"}),E&&e.jsx(he,{className:"bg-[#26732d] text-white ml-0.5 sm:ml-1 h-5 min-w-[20px] px-1.5",children:c.length+(f>0?1:0)+(v?1:0)})]})]}),e.jsx("div",{className:"flex gap-2 sm:gap-3",children:e.jsxs(ft,{value:i,onValueChange:o,children:[e.jsx(ot,{className:"flex-1 sm:flex-none sm:w-56 h-10 sm:h-11 border-gray-200 text-sm text-black","data-testid":"select-sort",children:e.jsx(gt,{placeholder:"Sort by",className:"text-black"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"name",className:"text-black",children:"Name (A-Z)"}),e.jsx(D,{value:"price-low",className:"text-black",children:"Price (Low to High)"}),e.jsx(D,{value:"price-high",className:"text-black",children:"Price (High to Low)"}),e.jsx(D,{value:"rating",className:"text-black",children:"Highest Rated"}),e.jsx(D,{value:"reviews",className:"text-black",children:"Most Reviews"}),e.jsx(D,{value:"newest",className:"text-black",children:"Newest First"})]})]})})]}),b&&e.jsxs("div",{className:"lg:hidden bg-white rounded-xl shadow-xl p-4 sm:p-6 mb-4 sm:mb-6 border border-gray-200 animate-slide-down",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ko,{size:18,className:"sm:w-5 sm:h-5"}),"Filters"]}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"h-8","data-testid":"button-close-filters",children:e.jsx(Vt,{size:18,className:"sm:w-5 sm:h-5"})})]}),E&&e.jsx(S,{variant:"outline",size:"sm",onClick:O,className:"w-full mb-4 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200","data-testid":"button-clear-filters-mobile",children:"Clear All Filters"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Price Range"}),e.jsx(Ln,{min:0,max:1e4,step:100,value:u,onValueChange:h,className:"mb-3"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium",children:["৳",u[0]]}),e.jsxs("span",{className:"font-medium",children:["৳",u[1]]})]})]}),e.jsx(Mt,{}),F.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Brands"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.slice(0,10).map(R=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Bs,{checked:c.includes(R),onCheckedChange:()=>T(R)}),e.jsx("span",{className:"text-sm text-gray-700 flex-1",children:R}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",L.filter(z=>z.brandName===R).length,")"]})]},R))})]}),e.jsx(Mt,{})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(R=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Bs,{checked:f===R,onCheckedChange:z=>p(z?R:0)}),e.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[Array.from({length:R}).map((z,le)=>e.jsx(Yt,{size:14,className:"fill-yellow-400 text-yellow-400"},le)),e.jsx("span",{className:"text-sm text-gray-600",children:"& up"})]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",L.filter(z=>z.rating>=R).length,")"]})]},R))})]}),e.jsx(Mt,{}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Bs,{checked:v,onCheckedChange:y}),e.jsx("span",{className:"text-sm font-semibold text-gray-700 flex-1",children:"In Stock Only"}),e.jsxs("span",{className:"text-xs text-gray-400",children:["(",L.filter(R=>R.stockQuantity&&R.stockQuantity>0).length,")"]})]})})]})]}),E&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-green-50 rounded-lg border border-blue-100",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Active Filters:"}),c.map(R=>e.jsxs(he,{variant:"secondary",className:"bg-white border border-gray-200 text-gray-700 gap-1 text-xs hover:bg-gray-50 transition-colors","data-testid":`badge-filter-${R.toLowerCase().replace(/\s+/g,"-")}`,children:[R,e.jsx(Vt,{size:12,className:"cursor-pointer hover:text-red-600",onClick:()=>T(R)})]},R)),f>0&&e.jsxs(he,{variant:"secondary",className:"bg-white border border-gray-200 text-gray-700 gap-1 text-xs hover:bg-gray-50 transition-colors",children:[f,"+ Stars",e.jsx(Vt,{size:12,className:"cursor-pointer hover:text-red-600",onClick:()=>p(0)})]}),v&&e.jsxs(he,{variant:"secondary",className:"bg-white border border-gray-200 text-gray-700 gap-1 text-xs hover:bg-gray-50 transition-colors",children:["In Stock",e.jsx(Vt,{size:12,className:"cursor-pointer hover:text-red-600",onClick:()=>y(!1)})]})]}),C?e.jsx("div",{className:X("grid gap-3 sm:gap-4 lg:gap-6",l==="grid"?"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"),children:Array.from({length:8}).map((R,z)=>e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl shadow-sm border border-gray-100 p-3 sm:p-4 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-32 sm:h-48 rounded-lg mb-3 sm:mb-4"}),e.jsx("div",{className:"bg-gray-200 h-3 sm:h-4 rounded mb-2"}),e.jsx("div",{className:"bg-gray-200 h-3 sm:h-4 rounded w-2/3"})]},z))}):U.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-16 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{size:24,className:"text-gray-400 sm:w-8 sm:h-8"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No products found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-6",children:"Try adjusting your filters or search terms"}),E&&e.jsx(S,{onClick:O,variant:"outline",className:"border-[#26732d] text-[#26732d] hover:bg-[#26732d] hover:text-white","data-testid":"button-clear-filters-empty",children:"Clear All Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:X("grid gap-3 sm:gap-4 lg:gap-6",l==="grid"?"grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"),children:U.map((R,z)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${Math.min(z*.05,.5)}s`,opacity:0,animation:`fadeInUp 0.6s ease-out ${Math.min(z*.05,.5)}s forwards`},"data-testid":`card-product-${R.id}`,children:e.jsx(wt,{product:R,className:X("shadow-md hover:shadow-2xl transition-all duration-300 border-0 h-full",l==="list"&&"sm:flex sm:flex-row sm:h-auto")})},R.id))}),e.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-white rounded-full shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[e.jsx(At,{size:14,className:"text-[#26732d] sm:w-4 sm:h-4"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:["Showing ",e.jsx("span",{className:"text-[#26732d] font-bold",children:U.length})," of ",e.jsx("span",{className:"font-bold",children:L.length})," products"]})]})})]})]})]})]}),e.jsx("div",{className:"mt-12 sm:mt-16",children:e.jsx(pe,{})}),e.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slide-down {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-slide-down {
          animation: slide-down 0.3s ease-out;
        }
        
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #26732d;
          border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #1f5d26;
        }
        
        @media (min-width: 475px) {
          .xs\\:inline {
            display: inline;
          }
        }
      `})]})}const Uw=[{name:"Silver Paw",price:"৳299",period:"/month",color:"from-gray-400 to-gray-600",icon:us,benefits:["5% discount on all products","Free delivery on orders over ৳1,500","Monthly pet care tips newsletter","Birthday treats for your pet","Priority customer support"]},{name:"Golden Paw",price:"৳599",period:"/month",color:"from-yellow-400 to-yellow-600",icon:Yt,popular:!0,benefits:["10% discount on all products","Free delivery on all orders","Monthly premium pet box","Exclusive access to new products","Free monthly vet consultation","Pet grooming discounts","24/7 pet care helpline"]},{name:"Diamond Paw",price:"৳999",period:"/month",color:"from-blue-400 to-purple-600",icon:hh,benefits:["15% discount on all products","Free same-day delivery","Premium monthly pet box","Personal pet advisor","Free quarterly health checkup","VIP grooming services","Exclusive member events","Emergency pet care support","Custom meal planning"]}];function Vw(){const[r,t]=x.useState(null);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-16 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Fa,{className:"h-16 w-16 text-green-600"})}),e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Join Our ",e.jsx("span",{className:"text-green-600",children:"Privilege Club"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Give your furry friends the royal treatment they deserve. Exclusive benefits, premium services, and endless love for your beloved pets."}),e.jsx(he,{variant:"secondary",className:"text-lg px-6 py-2",children:"Over 10,000+ Happy Pet Parents"})]})}),e.jsx("section",{className:"pb-16 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-1",children:Uw.map(s=>{const a=s.icon;return e.jsxs(K,{className:`relative transition-all duration-300 hover:scale-105 ${s.popular?"ring-2 ring-green-500 shadow-xl":"hover:shadow-lg"} ${r===s.name?"ring-2 ring-blue-500":""}`,"data-testid":`card-membership-${s.name.toLowerCase().replace(" ","-")}`,children:[s.popular&&e.jsx(he,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-600",children:"Most Popular"}),e.jsxs(Ne,{className:"text-center pb-4",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full bg-gradient-to-r ${s.color} flex items-center justify-center mb-4`,children:e.jsx(a,{className:"h-8 w-8 text-white"})}),e.jsx(ke,{className:"text-2xl font-bold",children:s.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[s.price,e.jsx("span",{className:"text-sm font-normal text-gray-500",children:s.period})]})]}),e.jsxs(te,{className:"space-y-4",children:[e.jsx("ul",{className:"space-y-3",children:s.benefits.map((n,i)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx(Xr,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:n})]},i))}),e.jsx(S,{className:`w-full mt-6 text-white ${s.popular?"bg-green-600 hover:bg-green-700":"bg-gray-900 hover:bg-gray-800"}`,onClick:()=>t(s.name),"data-testid":`button-select-${s.name.toLowerCase().replace(" ","-")}`,children:"Coming Soon"})]})]},s.name)})})})}),e.jsx("section",{className:"py-16 px-4 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-black",children:"Why Join Our Privilege Club?"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-1",children:[{icon:Fa,title:"Exclusive Rewards",description:"Get special discounts and rewards just for being a member"},{icon:us,title:"Pet Care Support",description:"24/7 access to pet care experts and veterinary advice"},{icon:Yt,title:"Premium Products",description:"Early access to new and premium pet products"},{icon:hh,title:"VIP Treatment",description:"Priority service and personalized pet care solutions"}].map((s,a)=>{const n=s.icon;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-black",children:s.title}),e.jsx("p",{className:"text-black",children:s.description})]},a)})})]})}),e.jsx(pe,{})]})}function Rt({categoryId:r,className:t}){const s=Bw(r);if(!s.lowestPriced)return null;const a=[{icon:$0,title:"Lowest Priced",product:s.lowestPriced,iconColor:"text-green-500",bgColor:"bg-green-50"},{icon:ph,title:"Highest Priced",product:s.highestPriced,iconColor:"text-blue-500",bgColor:"bg-blue-50"},{icon:Yt,title:"Highest Rated",product:s.highestRated,iconColor:"text-yellow-500",bgColor:"bg-yellow-50"},{icon:B0,title:"Best Seller",product:s.bestSeller,iconColor:"text-purple-500",bgColor:"bg-purple-50"}];return e.jsx("div",{className:X("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",t),children:a.map((n,i)=>{const o=n.icon,l=n.product;return l?e.jsx(K,{className:X("hover-lift animate-fade-in border-l-4",n.bgColor,n.iconColor.replace("text-","border-")),style:{animationDelay:`${i*.1}s`},children:e.jsx(te,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:X("p-2 rounded-full",n.bgColor.replace("50","100")),children:e.jsx(o,{size:20,className:n.iconColor})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:n.title}),e.jsx("h4",{className:"font-semibold text-[#26732d] text-sm mb-2 line-clamp-2",children:l.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-[#26732d]",children:["৳",l.price.toLocaleString()]}),n.title==="Highest Rated"&&e.jsxs(he,{variant:"secondary",className:"text-xs",children:[l.rating," ⭐"]}),n.title==="Best Seller"&&l.isBestSeller&&e.jsx(he,{className:"bg-yellow-500 text-white text-xs",children:"Best"})]})]})]})})},i):null})})}const fd=xu,gd=fu,qw=mu,fx=x.forwardRef(({className:r,...t},s)=>e.jsx(Mi,{className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t,ref:s}));fx.displayName=Mi.displayName;const Hw=Ja("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),wl=x.forwardRef(({side:r="right",className:t,children:s,...a},n)=>e.jsxs(qw,{children:[e.jsx(fx,{}),e.jsxs(Di,{ref:n,className:X(Hw({side:r}),t),...a,children:[s,e.jsxs(hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wl.displayName=Di.displayName;const Nl=({className:r,...t})=>e.jsx("div",{className:X("flex flex-col space-y-2 text-center sm:text-left",r),...t});Nl.displayName="SheetHeader";const kl=x.forwardRef(({className:r,...t},s)=>e.jsx(Fi,{ref:s,className:X("text-lg font-semibold text-foreground",r),...t}));kl.displayName=Fi.displayName;const Kw=x.forwardRef(({className:r,...t},s)=>e.jsx($i,{ref:s,className:X("text-sm text-muted-foreground",r),...t}));Kw.displayName=$i.displayName;function Dt({onFilterChange:r,maxPrice:t=2e4,className:s=""}){const[a,n]=x.useState([1,t]),[i,o]=x.useState("relevance"),l=p=>{const v=[p[0],p[1]];n(v),r({priceRange:v,sortBy:i})},d=p=>{o(p),r({priceRange:a,sortBy:p})},u=()=>{const p=[1,t];n(p),o("relevance"),r({priceRange:p,sortBy:"relevance"})},h=p=>({relevance:"Relevance",latest:"Latest","a-z":"A-Z","z-a":"Z-A","price-high-low":"Price: High to Low","price-low-high":"Price: Low to High"})[p]||"Relevance",c=a[0]!==1||a[1]!==t||i!=="relevance",m=a[0]!==1||a[1]!==t,f=i!=="relevance";return e.jsxs("div",{className:`space-y-3 md:space-y-4 ${s}`,children:[e.jsxs("div",{className:"flex gap-2 md:hidden",children:[e.jsxs(fd,{children:[e.jsx(gd,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"flex-1 h-11 rounded-full text-sm font-medium border-gray-300 bg-white hover:bg-gray-100 hover:text-gray-900 shadow-sm text-gray-900","data-testid":"button-price-filter",children:[e.jsx(hr,{className:"h-4 w-4 mr-2 text-gray-700"}),"Price Filter"]})}),e.jsxs(wl,{side:"bottom",className:"h-[350px] bg-white",children:[e.jsx(Nl,{children:e.jsxs(kl,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(hr,{className:"h-5 w-5 text-gray-700"}),"Filter By Price"]})}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsx("div",{className:"px-2",children:e.jsx(Ln,{value:a,onValueChange:l,max:t,min:1,step:50,className:"w-full"})}),e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"৳"}),e.jsx(Q,{type:"number",value:a[0],onChange:p=>{const v=Math.max(1,parseInt(p.target.value)||1),y=[v,Math.max(v,a[1])];n(y),r({priceRange:y,sortBy:i})},className:"w-24 h-11 text-sm px-3 rounded-lg bg-white text-gray-900 border-gray-300",min:"1",max:t})]}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"to"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"৳"}),e.jsx(Q,{type:"number",value:a[1],onChange:p=>{const v=Math.min(t,parseInt(p.target.value)||t),y=[Math.min(a[0],v),v];n(y),r({priceRange:y,sortBy:i})},className:"w-28 h-11 text-sm px-3 rounded-lg bg-white text-gray-900 border-gray-300",min:"1",max:t})]})]})]})]})]}),e.jsxs(fd,{children:[e.jsx(gd,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"flex-1 h-11 rounded-full text-sm font-medium border-gray-300 bg-white hover:bg-gray-100 hover:text-gray-900 shadow-sm text-gray-900","data-testid":"button-sort-filter",children:[e.jsx(No,{className:"h-4 w-4 mr-2 text-gray-700"}),"Sort"]})}),e.jsxs(wl,{side:"bottom",className:"h-[300px] bg-white",children:[e.jsx(Nl,{children:e.jsxs(kl,{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(No,{className:"h-5 w-5 text-gray-700"}),"Sort Options"]})}),e.jsx("div",{className:"mt-6",children:e.jsxs(ft,{value:i,onValueChange:d,children:[e.jsx(ot,{className:"w-full h-12 text-sm rounded-lg bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{placeholder:"Sort by relevance",className:"text-gray-900"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"relevance",className:"text-gray-900 hover:bg-gray-100",children:"Sort By Relevance"}),e.jsx(D,{value:"latest",className:"text-gray-900 hover:bg-gray-100",children:"Latest"}),e.jsx(D,{value:"a-z",className:"text-gray-900 hover:bg-gray-100",children:"A-Z Order"}),e.jsx(D,{value:"z-a",className:"text-gray-900 hover:bg-gray-100",children:"Z-A Order"}),e.jsx(D,{value:"price-high-low",className:"text-gray-900 hover:bg-gray-100",children:"Price: High to Low"}),e.jsx(D,{value:"price-low-high",className:"text-gray-900 hover:bg-gray-100",children:"Price: Low to High"})]})]})})]})]})]}),c&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m&&e.jsxs(he,{variant:"secondary",className:"bg-orange-100 text-orange-800 hover:bg-orange-200 cursor-pointer px-3 py-1 rounded-full text-xs font-medium",onClick:()=>{const p=[1,t];n(p),r({priceRange:p,sortBy:i})},children:["৳",a[0]," - ৳",a[1],e.jsx(Vt,{className:"h-3 w-3 ml-1"})]}),f&&e.jsxs(he,{variant:"secondary",className:"bg-orange-100 text-orange-800 hover:bg-orange-200 cursor-pointer px-3 py-1 rounded-full text-xs font-medium",onClick:()=>{o("relevance"),r({priceRange:a,sortBy:"relevance"})},children:[h(i),e.jsx(Vt,{className:"h-3 w-3 ml-1"})]})]}),e.jsxs("div",{className:"hidden md:block space-y-4",children:[e.jsxs(K,{className:"bg-white shadow rounded-xl border","data-testid":"card-price-filter",children:[e.jsx(Ne,{className:"border-b py-3",children:e.jsxs(ke,{className:"flex items-center gap-2 text-sm md:text-base font-medium",children:[e.jsx(hr,{className:"h-4 w-4 md:h-5 md:w-5"}),"Filter By Price"]})}),e.jsxs(te,{className:"space-y-4 pt-4 pb-4",children:[e.jsx("div",{className:"px-2",children:e.jsx(Ln,{value:a,onValueChange:l,max:t,min:1,step:50,className:"w-full"})}),e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"৳"}),e.jsx(Q,{type:"number",value:a[0],onChange:p=>{const v=Math.max(1,parseInt(p.target.value)||1),y=[v,Math.max(v,a[1])];n(y),r({priceRange:y,sortBy:i})},className:"w-24 h-11 text-sm px-3",min:"1",max:t})]}),e.jsx("span",{className:"text-sm text-gray-400",children:"to"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"৳"}),e.jsx(Q,{type:"number",value:a[1],onChange:p=>{const v=Math.min(t,parseInt(p.target.value)||t),y=[Math.min(a[0],v),v];n(y),r({priceRange:y,sortBy:i})},className:"w-28 h-11 text-sm px-3",min:"1",max:t})]})]})]})]}),e.jsxs(K,{className:"bg-white shadow rounded-xl border","data-testid":"card-sort-options",children:[e.jsx(Ne,{className:"border-b py-3",children:e.jsxs(ke,{className:"flex items-center gap-2 text-sm md:text-base font-medium",children:[e.jsx(No,{className:"h-4 w-4 md:h-5 md:w-5"}),"Sort By"]})}),e.jsx(te,{className:"pt-4 pb-4",children:e.jsxs(ft,{value:i,onValueChange:d,children:[e.jsx(ot,{className:"w-full h-11 text-sm",children:e.jsx(gt,{placeholder:"Sort by relevance"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"relevance",children:"Sort By Relevance"}),e.jsx(D,{value:"latest",children:"Latest"}),e.jsx(D,{value:"a-z",children:"A-Z Order"}),e.jsx(D,{value:"z-a",children:"Z-A Order"}),e.jsx(D,{value:"price-high-low",children:"Price: High to Low"}),e.jsx(D,{value:"price-low-high",children:"Price: Low to High"})]})]})})]})]}),c&&e.jsxs(S,{variant:"ghost",className:"w-full h-11 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",onClick:u,"data-testid":"button-clear-filters",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]})}function Ww(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("cat-food").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cat food products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-20 md:pb-16 md:px-8 bg-gradient-to-r from-orange-500 to-red-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Cat Food Collection"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Premium nutrition for your feline friends"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat food products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-orange-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-cat-food"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"cat-food",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Cat Food Products"}),e.jsxs("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))}),d.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}function Qw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("dog-food").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dog food products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Dog Food Collection"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Premium nutrition for your canine companions"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search dog food products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-blue-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-dog-food"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"dog-food",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Dog Food Products"}),e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}function Gw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("cat-toys").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cat toys..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-pink-500 to-purple-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Cat Toys Collection"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Fun and engaging toys for your playful cats"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat toys...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-pink-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-cat-toys"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"cat-toys",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Cat Toys"}),e.jsxs("div",{className:"bg-pink-100 text-pink-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}function Zw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{products:n,loading:i,error:o}=Nt(),d=n.filter(c=>{var m,f;return c.category==="cat-litter"||((m=c.categoryName)==null?void 0:m.toLowerCase().includes("cat litter"))||((f=c.tags)==null?void 0:f.some(p=>p.toLowerCase().includes("cat-litter")||p.toLowerCase().includes("litter")))}).filter(c=>{var p;const m=c.name.toLowerCase().includes(r.toLowerCase())||c.description&&c.description.toLowerCase().includes(r.toLowerCase())||((p=c.tags)==null?void 0:p.some(v=>v.toLowerCase().includes(r.toLowerCase()))),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading cat litter products..."})]})}),e.jsx(pe,{})]}):o?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",o]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})}),e.jsx(pe,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-gray-600 to-blue-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Cat Litter & Accessories"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Everything you need for your cat's hygiene and comfort"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat litter products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-blue-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-cat-litter"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"cat-litter",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Cat Litter & Accessories"}),e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}function Jw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("cat-care-health").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cat care products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-green-500 to-teal-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Cat Care & Health"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Keep your feline friends healthy and happy"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat care products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-green-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-cat-care"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"cat-care",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Cat Care & Health Products"}),e.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0?e.jsx(K,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400",children:r?"Try adjusting your search terms":"Products coming soon!"})]})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}function Yw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("clothing-beds-carrier").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading clothing, beds & carrier products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Clothing, Beds & Carrier"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Comfort and style for your beloved pets"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search clothing, beds & carrier...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-purple-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-clothing-beds-carrier"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"clothing-beds-carrier",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Clothing, Beds & Carrier"}),e.jsxs("div",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},children:"Clear Filters"})]}),!n&&d.length>0&&e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}function Xw(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("cat-accessories").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cat accessories..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Cat Accessories"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Everything your cat needs for a perfect life"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat accessories...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-cyan-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-cat-accessories"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"cat-accessories",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Cat Accessories"}),e.jsxs("div",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Try adjusting your filters or search terms"}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,2e4],sortBy:"relevance"})},"data-testid":"button-clear-filters",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}function eN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("dog-health-accessories").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dog health & accessories..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-amber-500 to-orange-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Dog Health & Accessories"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Everything your dog needs for health and happiness"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search dog accessories...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-orange-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-dog-accessories"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"dog-accessories",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Dog Health & Accessories"}),e.jsxs("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0?e.jsx(K,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400",children:r?"Try adjusting your search terms":"Products coming soon!"})]})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}function tN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("rabbit-food-accessories").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading rabbit products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-pink-500 to-rose-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Rabbit Food & Accessories"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Complete care for your fluffy bunny friends"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search rabbit products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-rose-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-rabbit"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"rabbit-food-accessories",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Rabbit Food & Accessories"}),e.jsxs("div",{className:"bg-rose-100 text-rose-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0?e.jsx(K,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400",children:r?"Try adjusting your search terms":"Products coming soon!"})]})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}function sN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,2e4],sortBy:"relevance"}),{loading:n,error:i,getProductsByCategory:o}=Nt(),d=o("bird-food-accessories").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return 0;case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading bird products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-6 pb-6 px-4 md:pt-10 md:pb-10 md:px-8 bg-gradient-to-r from-sky-500 to-blue-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-2 md:mb-4 text-white",children:"Bird Food & Accessories"}),e.jsx("p",{className:"text-sm md:text-lg mb-4 md:mb-6 text-white",children:"Everything for your feathered companions"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(ze,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search bird products...",className:"h-10 sm:h-11 rounded-full pl-11 pr-4 text-sm bg-white text-gray-900 shadow-md border-0 focus:ring-2 focus:ring-sky-400 placeholder:text-gray-500",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-bird"})]})]})}),e.jsx("section",{className:"py-4 px-4 md:py-8 md:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-6",children:[e.jsx("aside",{className:"lg:w-1/4 mb-4 md:mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:2e4})}),e.jsxs("main",{className:"lg:w-3/4 space-y-4",children:[e.jsx(Rt,{categoryId:"bird",className:""}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg md:text-2xl font-bold text-black",children:"Bird Food & Accessories"}),e.jsxs("div",{className:"bg-sky-100 text-sky-800 px-3 py-1 rounded-full text-xs md:text-sm font-medium",children:[d.length," products"]})]}),d.length===0?e.jsx(K,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400",children:r?"Try adjusting your search terms":"Products coming soon!"})]})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:d.map(c=>e.jsx(wt,{product:c},c.id))})]})]})}),e.jsx(pe,{})]})}const rN=["Cat Food","Dog Food","Puppy Food","Kitten Food","Senior Pet Food","Grain-Free","Premium Line","Natural Formula"];function aN(){const[r,t]=x.useState("All"),[s,a]=x.useState(""),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("reflex").filter(c=>{const m=r==="All",f=c.name.toLowerCase().includes(s.toLowerCase())||(c.description||"").toLowerCase().includes(s.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(s.toLowerCase()));return m&&f}),u=c=>{t(c)},h=c=>{a(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Reflex products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-green-600 to-blue-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Reflex Premium Pet Nutrition"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Premium quality pet food from Turkey's leading brand"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search Reflex products...",className:"pl-10 bg-white text-gray-900",value:s,onChange:c=>h(c.target.value),"data-testid":"input-search-reflex"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsxs(ke,{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"h-5 w-5"}),"Categories"]})}),e.jsx(te,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{variant:r==="All"?"default":"outline",className:`w-full justify-start ${r==="All"?"":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,onClick:()=>u("All"),"data-testid":"button-category-all",children:"All Categories"}),rN.map(c=>e.jsx(S,{variant:r===c?"default":"outline",className:`w-full justify-start ${r===c?"":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,onClick:()=>u(c),"data-testid":`button-category-${c.toLowerCase().replace(/\s+/g,"-")}`,children:c},c))]})})]})}),e.jsxs("main",{className:"lg:w-3/4",children:[e.jsx(Rt,{categoryId:"reflex",className:"mb-6"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:r==="All"?"All Reflex Products":r}),e.jsxs("p",{className:"text-gray-600",children:[d.length," products found"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{a(""),t("All")},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}const nN=["Pet Care Tips","Cat Health","Dog Health","Training","Nutrition","Grooming","Behavior","Product Reviews"];function iN(){const[r,t]=x.useState("All"),[s,a]=x.useState(""),[n,i]=x.useState([]),[o,l]=x.useState([]),[d,u]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const p=r==="All"?"":`?category=${encodeURIComponent(r)}`,y=await(await fetch(`/api/blog/published${p}`)).json();i(y),l(y)}catch(p){console.error("Error fetching blogs:",p),i([]),l([])}finally{u(!1)}})()},[r]);const h=f=>{t(f),a("")},c=f=>{a(f);const p=n.filter(v=>{var y,b;return v.title.toLowerCase().includes(f.toLowerCase())||(((y=v.excerpt)==null?void 0:y.toLowerCase().includes(f.toLowerCase()))??!1)||(((b=v.category)==null?void 0:b.toLowerCase().includes(f.toLowerCase()))??!1)});l(p)},m=n.slice(0,2);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-indigo-600 to-purple-700 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[e.jsx(va,{className:"h-12 w-12"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Pet Care Blog"})]}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Expert advice, tips, and insights for better pet care"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search blog posts...",className:"pl-10 bg-white text-gray-900",value:s,onChange:f=>c(f.target.value),"data-testid":"input-search-blog"})]})]})}),r==="All"&&!s&&e.jsx("section",{className:"py-12 px-4 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Featured Articles"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-1",children:m.map(f=>e.jsxs(K,{className:"hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f.image||"/api/placeholder/400/250",alt:f.title,className:"w-full h-56 object-cover"}),e.jsx(he,{className:"absolute top-4 left-4 bg-indigo-600",children:"Featured"})]}),e.jsxs(te,{className:"p-6",children:[e.jsx(he,{variant:"secondary",className:"mb-3",children:f.category||"General"}),e.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:f.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:f.excerpt}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:f.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(f.publishedAt||f.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:"5 min read"})]})]})}),e.jsx(re,{href:`/blog/${f.slug}`,children:e.jsx(S,{className:"w-full","data-testid":`button-read-${f._id}`,children:"Read Full Article"})})]})]},f._id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[d&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading blog posts..."})]}),!d&&e.jsxs("div",{className:"flex flex-col lg:flex-row gap-1",children:[e.jsxs("aside",{className:"lg:w-1/4",children:[e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Categories"})}),e.jsx(te,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{variant:r==="All"?"default":"ghost",className:"w-full justify-start",onClick:()=>h("All"),"data-testid":"button-category-all",children:"All Posts"}),nN.map(f=>e.jsx(S,{variant:r===f?"default":"ghost",className:"w-full justify-start",onClick:()=>h(f),"data-testid":`button-category-${f.toLowerCase().replace(/\s+/g,"-")}`,children:f},f))]})})]}),e.jsxs(K,{className:"mt-6",children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Need Pet Care Advice?"})}),e.jsxs(te,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about your pet's health or need personalized advice? Our experts are here to help."}),e.jsx(re,{href:"/contact",children:e.jsx(S,{className:"w-full",size:"sm",children:"Contact Our Experts"})})]})]})]}),e.jsxs("main",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:r==="All"?"All Blog Posts":r}),e.jsxs("p",{className:"text-gray-600",children:[o.length," articles found"]})]}),e.jsx("div",{className:"grid gap-1",children:o.map(f=>e.jsx(K,{className:"hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:f.image||"/api/placeholder/400/250",alt:f.title,className:"w-full h-48 md:h-full object-cover rounded-l-lg"})}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsx("div",{className:"flex items-center gap-1 mb-3",children:e.jsx(he,{variant:"secondary",children:f.category||"General"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:f.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:f.excerpt}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{children:f.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(f.publishedAt||f.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:"5 min"})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(re,{href:`/blog/${f.slug}`,children:e.jsx(S,{variant:"outline","data-testid":`button-read-${f._id}`,children:"Read More"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{size:"sm",variant:"ghost","data-testid":`button-like-${f._id}`,children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(S,{size:"sm",variant:"ghost","data-testid":`button-share-${f._id}`,children:e.jsx(fh,{className:"h-4 w-4"})})]})]})]})]})},f._id))}),o.length===0&&!d&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(va,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No blog posts found matching your criteria."})]})]})]})]}),e.jsx(pe,{})]})}function oN(){var u;const[r,t]=Ml("/blog/:slug"),[s,a]=x.useState(null),[n,i]=x.useState(!0),[o,l]=x.useState(null);if(x.useEffect(()=>{if(!r||!(t!=null&&t.slug))return;(async()=>{try{i(!0);const c=await fetch(`/api/blog/slug/${t.slug}`);if(!c.ok){c.status===404?l("Blog post not found"):l("Failed to load blog post");return}const m=await c.json();a(m)}catch(c){console.error("Error fetching blog post:",c),l("Failed to load blog post")}finally{i(!1)}})()},[r,t==null?void 0:t.slug]),n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-24",children:e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading blog post..."})]})}),e.jsx(pe,{})]});if(o||!s)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-24",children:e.jsx(K,{className:"text-center py-12",children:e.jsxs(te,{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:o||"Blog post not found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),e.jsx(re,{href:"/blog",children:e.jsxs(S,{children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})})]})})}),e.jsx(pe,{})]});const d=h=>h.split(`
`).map((c,m)=>c.trim()===""?null:c.startsWith("**")&&c.endsWith("**")?e.jsx("h3",{className:"text-xl font-bold mt-6 mb-3 text-gray-900",children:c.slice(2,-2)},m):c.startsWith("- ")?e.jsx("li",{className:"ml-4 mb-2 text-gray-700",children:c.slice(2)},m):e.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:c},m));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-24",children:[e.jsx("div",{className:"mb-6",children:e.jsx(re,{href:"/blog",children:e.jsxs(S,{variant:"ghost",className:"text-indigo-600 hover:text-indigo-700",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})})}),e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:s.image||"/api/placeholder/800/400",alt:s.title,className:"w-full h-80 object-cover rounded-lg shadow-lg"})}),e.jsx(K,{className:"mb-8",children:e.jsxs(te,{className:"p-8",children:[e.jsx("div",{className:"flex items-center gap-1 mb-4",children:e.jsx(he,{variant:"secondary",className:"text-indigo-600",children:((u=s.tags)==null?void 0:u[0])||"General"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 leading-tight break-words",children:s.title}),s.excerpt&&e.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-6 leading-relaxed",children:s.excerpt}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between border-t border-gray-200 pt-6 gap-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(rs,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:s.author})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rn,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(s.publishedAt||s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"h-4 w-4"}),e.jsx("span",{children:"5 min read"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(S,{variant:"ghost",size:"sm",children:e.jsx(fh,{className:"h-4 w-4"})})]})]})]})}),e.jsx(K,{className:"mb-8",children:e.jsx(te,{className:"p-8",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:"text-base md:text-lg leading-relaxed",children:d(s.content)})})})}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map((h,c)=>e.jsx(he,{variant:"outline",className:"text-sm",children:h},c))})]}),e.jsxs("div",{className:"mt-12 bg-indigo-50 rounded-lg p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Have Questions About Pet Care?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Contact our experts for personalized advice and support for your pet's needs."}),e.jsx(re,{href:"/contact",children:e.jsx(S,{className:"bg-indigo-600 hover:bg-indigo-700",children:"Contact Us"})})]})]}),e.jsx(pe,{})]})}function lN(){const r=[{quantity:"5-9 items",discount:"10%",description:"Perfect for small households with multiple pets",color:"bg-blue-50 border-blue-200",textColor:"text-blue-800",badgeColor:"bg-blue-100 text-blue-800"},{quantity:"10-19 items",discount:"20%",description:"Great for pet shelters and rescue organizations",color:"bg-green-50 border-green-200",textColor:"text-green-800",badgeColor:"bg-green-100 text-green-800"},{quantity:"20-49 items",discount:"30%",description:"Ideal for large facilities and breeding programs",color:"bg-purple-50 border-purple-200",textColor:"text-purple-800",badgeColor:"bg-purple-100 text-purple-800"},{quantity:"50+ items",discount:"40%",description:"Maximum savings for wholesale customers",color:"bg-orange-50 border-orange-200",textColor:"text-orange-800",badgeColor:"bg-orange-100 text-orange-800"}],t=[{icon:e.jsx(At,{className:"w-8 h-8 text-[#26732d]"}),title:"Fresh Quality Guaranteed",description:"All bulk orders are freshly packed and quality checked before shipping"},{icon:e.jsx(Zr,{className:"w-8 h-8 text-[#26732d]"}),title:"Extended Expiry Dates",description:"Bulk products come with longer shelf life to ensure freshness"},{icon:e.jsx(U0,{className:"w-8 h-8 text-[#26732d]"}),title:"Custom Packaging",description:"We can customize packaging sizes based on your specific needs"},{icon:e.jsx(us,{className:"w-8 h-8 text-[#26732d]"}),title:"Supporting Animal Welfare",description:"Special discounts for registered animal shelters and rescue organizations"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-0",children:e.jsxs("a",{href:"/bulk-products",className:"inline-flex items-center gap-1 px-4 py-2 bg-[#26732d] text-white rounded-lg hover:bg-[#1e5d26] transition-colors",children:[e.jsx(At,{size:18}),"Back to Bulk Products"]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl font-bold text-[#26732d] mb-4 flex items-center justify-center gap-1",children:[e.jsx(At,{size:40,className:"text-[#26732d]"}),"Bulk Discount Program"]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Save more when you buy more! Our bulk discount program offers substantial savings for pet stores, shelters, and multi-pet households."})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Discount Tiers"}),e.jsx("p",{className:"text-lg text-gray-600",children:"The more you buy, the more you save!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-1 mb-12",children:r.map((s,a)=>e.jsxs("div",{className:`${s.color} rounded-lg p-6 border-2 text-center`,children:[e.jsxs(he,{className:`${s.badgeColor} mb-4 text-lg font-bold px-4 py-2`,children:[s.discount," OFF"]}),e.jsx("h3",{className:`text-xl font-bold ${s.textColor} mb-2`,children:s.quantity}),e.jsx("p",{className:`${s.textColor} text-sm`,children:s.description})]},a))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Why Choose Our Bulk Program?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:t.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx("div",{className:"flex-shrink-0",children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description})]})]},a))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#26732d] to-[#1e5d26] rounded-lg shadow-lg p-8 text-white mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"How It Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold",children:"1"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Browse & Select"}),e.jsx("p",{className:"text-green-100",children:"Choose your favorite products from our bulk collection"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold",children:"2"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Add to Cart"}),e.jsx("p",{className:"text-green-100",children:"Add items to your cart - discounts apply automatically"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-white bg-opacity-20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold",children:"3"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Save Big"}),e.jsx("p",{className:"text-green-100",children:"Enjoy instant savings at checkout with free delivery"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-8 mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Special Programs"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(us,{className:"w-12 h-12 text-[#26732d] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Animal Shelter Program"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Registered animal shelters and rescue organizations get an additional 10% discount on all bulk orders."}),e.jsx(he,{className:"bg-[#26732d] text-white",children:"Extra 10% OFF"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"w-12 h-12 text-[#26732d] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loyalty Rewards"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Regular bulk customers earn loyalty points for even greater savings on future orders."}),e.jsx(he,{className:"bg-[#26732d] text-white",children:"Earn Points"})]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Start Saving?"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Browse our bulk products and start enjoying instant discounts today!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 justify-center",children:[e.jsx("a",{href:"/bulk-products",children:e.jsx(S,{size:"lg",className:"bg-[#26732d] text-white hover:bg-[#1e5d26] w-full sm:w-auto",children:"Shop Bulk Products"})}),e.jsx("a",{href:"/contact",children:e.jsx(S,{size:"lg",variant:"outline",className:"border-[#26732d] text-[#26732d] hover:bg-[#26732d] hover:text-white w-full sm:w-auto",children:"Contact for Custom Orders"})})]})]})]})]})}function cN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("nekko").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}});if(n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading NEKKO products..."})]})})]});if(i)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]});const u=c=>{a(c)},h=c=>{t(c)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"NEKKO Premium Cat Food"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"High-quality nutrition for your beloved cats"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search NEKKO products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-nekko"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:3e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"NEKKO Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:r?`No NEKKO products match "${r}"`:"No products available in this category"})]})]})]})}),e.jsx(pe,{})]})}function dN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("purina").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}});if(n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading PURINA products..."})]})})]});if(i)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]});const u=c=>{a(c)},h=c=>{t(c)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-red-600 to-orange-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"PURINA Pet Nutrition"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Science-based nutrition for your pets' health and happiness"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search PURINA products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-purina"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:4e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"All PURINA Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,13e3],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}function uN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("one").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}});if(n)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading ONE products..."})]})})]});if(i)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]});const u=c=>{a(c)},h=c=>{t(c)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-blue-600 to-teal-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Purina ONE Nutrition"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Complete and balanced nutrition with real ingredients"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search ONE products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-one"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:4e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"All ONE Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:r?`No ONE products match "${r}"`:"No products available in this category"})]})]})]})}),e.jsx(pe,{})]})}function hN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("reflex-plus").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Reflex Plus products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-amber-600 to-yellow-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Reflex Plus Premium Nutrition"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Super premium pet food for exceptional nutrition"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search Reflex Plus products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-reflex-plus"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:6e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reflex Plus Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:r?`No Reflex Plus products match "${r}"`:"No products available in this category"})]})]})]})}),e.jsx(pe,{})]})}function mN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("royal-canin").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading ROYAL CANIN products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-red-700 to-red-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"ROYAL CANIN Nutrition"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Precise nutrition for every pet's unique needs"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search ROYAL CANIN products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-royal-canin"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:5e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ROYAL CANIN Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📦"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:r?`No ROYAL CANIN products match "${r}"`:"No products available in this category"})]})]})]})}),e.jsx(pe,{})]})}function xN(){const[r,t]=x.useState(""),[s,a]=x.useState({priceRange:[1,13e3],sortBy:"relevance"}),{loading:n,error:i,getProductsByBrand:o}=Nt(),d=o("sheba").filter(c=>{const m=c.name.toLowerCase().includes(r.toLowerCase())||(c.description||"").toLowerCase().includes(r.toLowerCase())||c.tags.some(p=>p.toLowerCase().includes(r.toLowerCase())),f=c.price>=s.priceRange[0]&&c.price<=s.priceRange[1];return m&&f}).sort((c,m)=>{switch(s.sortBy){case"latest":return new Date(m.createdAt||0).getTime()-new Date(c.createdAt||0).getTime();case"a-z":return c.name.localeCompare(m.name);case"z-a":return m.name.localeCompare(c.name);case"price-high-low":return m.price-c.price;case"price-low-high":return c.price-m.price;default:return 0}}),u=c=>{a(c)},h=c=>{t(c)};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Sheba products..."})]})})]}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",i]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-pink-600 to-rose-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Sheba Cat Food"}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Irresistible meals that cats can't resist"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search Sheba products...",className:"pl-10 bg-white text-gray-900",value:r,onChange:c=>h(c.target.value),"data-testid":"input-search-sheba"})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto lg:flex lg:gap-1",children:[e.jsx("aside",{className:"lg:w-1/4 mb-8 lg:mb-0",children:e.jsx(Dt,{onFilterChange:u,maxPrice:1e3})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx(Rt,{products:d}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sheba Products"}),e.jsxs("p",{className:"text-gray-600",children:["Showing ",d.length," ",d.length===1?"product":"products"]})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1",children:d.map(c=>e.jsx(wt,{product:c},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100 hover:border-gray-500 hover:text-black shadow-sm",onClick:()=>{t(""),a({priceRange:[1,13e3],sortBy:"relevance"})},children:"Clear Filters"})]})]})]})}),e.jsx(pe,{})]})}var fN="Label",gx=x.forwardRef((r,t)=>e.jsx(_e.label,{...r,ref:t,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=r.onMouseDown)==null||n.call(r,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));gx.displayName=fN;var px=gx;const gN=Ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=x.forwardRef(({className:r,...t},s)=>e.jsx(px,{ref:s,className:X(gN(),r),...t}));Se.displayName=px.displayName;var pN=Object.defineProperty,yN=Object.defineProperties,vN=Object.getOwnPropertyDescriptors,wi=Object.getOwnPropertySymbols,yx=Object.prototype.hasOwnProperty,vx=Object.prototype.propertyIsEnumerable,pd=(r,t,s)=>t in r?pN(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,bN=(r,t)=>{for(var s in t||(t={}))yx.call(t,s)&&pd(r,s,t[s]);if(wi)for(var s of wi(t))vx.call(t,s)&&pd(r,s,t[s]);return r},jN=(r,t)=>yN(r,vN(t)),wN=(r,t)=>{var s={};for(var a in r)yx.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&wi)for(var a of wi(r))t.indexOf(a)<0&&vx.call(r,a)&&(s[a]=r[a]);return s};function NN(r){let t=setTimeout(r,0),s=setTimeout(r,10),a=setTimeout(r,50);return[t,s,a]}function kN(r){let t=x.useRef();return x.useEffect(()=>{t.current=r}),t.current}var CN=18,bx=40,SN=`${bx}px`,_N=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function PN({containerRef:r,inputRef:t,pushPasswordManagerStrategy:s,isFocused:a}){let[n,i]=x.useState(!1),[o,l]=x.useState(!1),[d,u]=x.useState(!1),h=x.useMemo(()=>s==="none"?!1:(s==="increase-width"||s==="experimental-no-flickering")&&n&&o,[n,o,s]),c=x.useCallback(()=>{let m=r.current,f=t.current;if(!m||!f||d||s==="none")return;let p=m,v=p.getBoundingClientRect().left+p.offsetWidth,y=p.getBoundingClientRect().top+p.offsetHeight/2,b=v-CN,w=y;document.querySelectorAll(_N).length===0&&document.elementFromPoint(b,w)===m||(i(!0),u(!0))},[r,t,d,s]);return x.useEffect(()=>{let m=r.current;if(!m||s==="none")return;function f(){let v=window.innerWidth-m.getBoundingClientRect().right;l(v>=bx)}f();let p=setInterval(f,1e3);return()=>{clearInterval(p)}},[r,s]),x.useEffect(()=>{let m=a||document.activeElement===t.current;if(s==="none"||!m)return;let f=setTimeout(c,0),p=setTimeout(c,2e3),v=setTimeout(c,5e3),y=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(f),clearTimeout(p),clearTimeout(v),clearTimeout(y)}},[t,a,s,c]),{hasPWMBadge:n,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:SN}}var jx=x.createContext({}),wx=x.forwardRef((r,t)=>{var s=r,{value:a,onChange:n,maxLength:i,textAlign:o="left",pattern:l,placeholder:d,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:c="increase-width",pasteTransformer:m,containerClassName:f,noScriptCSSFallback:p=TN,render:v,children:y}=s,b=wN(s,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,j,C,P,_;let[L,Z]=x.useState(typeof b.defaultValue=="string"?b.defaultValue:""),B=a??L,F=kN(B),U=x.useCallback(ue=>{n==null||n(ue),Z(ue)},[n]),T=x.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),O=x.useRef(null),E=x.useRef(null),R=x.useRef({value:B,onChange:U,isIOS:typeof window<"u"&&((j=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:j.call(w,"-webkit-touch-callout","none"))}),z=x.useRef({prev:[(C=O.current)==null?void 0:C.selectionStart,(P=O.current)==null?void 0:P.selectionEnd,(_=O.current)==null?void 0:_.selectionDirection]});x.useImperativeHandle(t,()=>O.current,[]),x.useEffect(()=>{let ue=O.current,me=E.current;if(!ue||!me)return;R.current.value!==ue.value&&R.current.onChange(ue.value),z.current.prev=[ue.selectionStart,ue.selectionEnd,ue.selectionDirection];function rt(){if(document.activeElement!==ue){He(null),et(null);return}let tt=ue.selectionStart,Pt=ue.selectionEnd,Hs=ue.selectionDirection,N=ue.maxLength,A=ue.value,I=z.current.prev,H=-1,V=-1,$;if(A.length!==0&&tt!==null&&Pt!==null){let ht=tt===Pt,Cr=tt===A.length&&A.length<N;if(ht&&!Cr){let Ht=tt;if(Ht===0)H=0,V=1,$="forward";else if(Ht===N)H=Ht-1,V=Ht,$="backward";else if(N>1&&A.length>1){let ms=0;if(I[0]!==null&&I[1]!==null){$=Ht<I[1]?"backward":"forward";let Sr=I[0]===I[1]&&I[0]<N;$==="backward"&&!Sr&&(ms=-1)}H=ms+Ht,V=ms+Ht+1}}H!==-1&&V!==-1&&H!==V&&O.current.setSelectionRange(H,V,$)}let ie=H!==-1?H:tt,Ae=V!==-1?V:Pt,nt=$??Hs;He(ie),et(Ae),z.current.prev=[ie,Ae,nt]}if(document.addEventListener("selectionchange",rt,{capture:!0}),rt(),document.activeElement===ue&&Pe(!0),!document.getElementById("input-otp-style")){let tt=document.createElement("style");if(tt.id="input-otp-style",document.head.appendChild(tt),tt.sheet){let Pt="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";hn(tt.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),hn(tt.sheet,`[data-input-otp]:autofill { ${Pt} }`),hn(tt.sheet,`[data-input-otp]:-webkit-autofill { ${Pt} }`),hn(tt.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),hn(tt.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let jt=()=>{me&&me.style.setProperty("--root-height",`${ue.clientHeight}px`)};jt();let It=new ResizeObserver(jt);return It.observe(ue),()=>{document.removeEventListener("selectionchange",rt,{capture:!0}),It.disconnect()}},[]);let[le,J]=x.useState(!1),[ae,Pe]=x.useState(!1),[fe,He]=x.useState(null),[Xe,et]=x.useState(null);x.useEffect(()=>{NN(()=>{var ue,me,rt,jt;(ue=O.current)==null||ue.dispatchEvent(new Event("input"));let It=(me=O.current)==null?void 0:me.selectionStart,tt=(rt=O.current)==null?void 0:rt.selectionEnd,Pt=(jt=O.current)==null?void 0:jt.selectionDirection;It!==null&&tt!==null&&(He(It),et(tt),z.current.prev=[It,tt,Pt])})},[B,ae]),x.useEffect(()=>{F!==void 0&&B!==F&&F.length<i&&B.length===i&&(h==null||h(B))},[i,h,F,B]);let it=PN({containerRef:E,inputRef:O,pushPasswordManagerStrategy:c,isFocused:ae}),ee=x.useCallback(ue=>{let me=ue.currentTarget.value.slice(0,i);if(me.length>0&&T&&!T.test(me)){ue.preventDefault();return}typeof F=="string"&&me.length<F.length&&document.dispatchEvent(new Event("selectionchange")),U(me)},[i,U,F,T]),W=x.useCallback(()=>{var ue;if(O.current){let me=Math.min(O.current.value.length,i-1),rt=O.current.value.length;(ue=O.current)==null||ue.setSelectionRange(me,rt),He(me),et(rt)}Pe(!0)},[i]),We=x.useCallback(ue=>{var me,rt;let jt=O.current;if(!m&&(!R.current.isIOS||!ue.clipboardData||!jt))return;let It=ue.clipboardData.getData("text/plain"),tt=m?m(It):It;ue.preventDefault();let Pt=(me=O.current)==null?void 0:me.selectionStart,Hs=(rt=O.current)==null?void 0:rt.selectionEnd,N=(Pt!==Hs?B.slice(0,Pt)+tt+B.slice(Hs):B.slice(0,Pt)+tt+B.slice(Pt)).slice(0,i);if(N.length>0&&T&&!T.test(N))return;jt.value=N,U(N);let A=Math.min(N.length,i-1),I=N.length;jt.setSelectionRange(A,I),He(A),et(I)},[i,U,T,B]),ut=x.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),Ve=x.useMemo(()=>({position:"absolute",inset:0,width:it.willPushPWMBadge?`calc(100% + ${it.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:it.willPushPWMBadge?`inset(0 ${it.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[it.PWM_BADGE_SPACE_WIDTH,it.willPushPWMBadge,o]),ye=x.useMemo(()=>x.createElement("input",jN(bN({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":B.length===0||void 0,"data-input-otp-mss":fe,"data-input-otp-mse":Xe,inputMode:u,pattern:T==null?void 0:T.source,"aria-placeholder":d,style:Ve,maxLength:i,value:B,ref:O,onPaste:ue=>{var me;We(ue),(me=b.onPaste)==null||me.call(b,ue)},onChange:ee,onMouseOver:ue=>{var me;J(!0),(me=b.onMouseOver)==null||me.call(b,ue)},onMouseLeave:ue=>{var me;J(!1),(me=b.onMouseLeave)==null||me.call(b,ue)},onFocus:ue=>{var me;W(),(me=b.onFocus)==null||me.call(b,ue)},onBlur:ue=>{var me;Pe(!1),(me=b.onBlur)==null||me.call(b,ue)}})),[ee,W,We,u,Ve,i,Xe,fe,b,T==null?void 0:T.source,B]),$e=x.useMemo(()=>({slots:Array.from({length:i}).map((ue,me)=>{var rt;let jt=ae&&fe!==null&&Xe!==null&&(fe===Xe&&me===fe||me>=fe&&me<Xe),It=B[me]!==void 0?B[me]:null,tt=B[0]!==void 0?null:(rt=d==null?void 0:d[me])!=null?rt:null;return{char:It,placeholderChar:tt,isActive:jt,hasFakeCaret:jt&&It===null}}),isFocused:ae,isHovering:!b.disabled&&le}),[ae,le,i,Xe,fe,b.disabled,B]),is=x.useMemo(()=>v?v($e):x.createElement(jx.Provider,{value:$e},y),[y,$e,v]);return x.createElement(x.Fragment,null,p!==null&&x.createElement("noscript",null,x.createElement("style",null,p)),x.createElement("div",{ref:E,"data-input-otp-container":!0,style:ut,className:f},is,x.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ye)))});wx.displayName="Input";function hn(r,t){try{r.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var TN=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Nx=x.forwardRef(({className:r,containerClassName:t,...s},a)=>e.jsx(wx,{ref:a,containerClassName:X("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:X("disabled:cursor-not-allowed",r),...s}));Nx.displayName="InputOTP";const kx=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("flex items-center",r),...t}));kx.displayName="InputOTPGroup";const Ar=x.forwardRef(({index:r,className:t,...s},a)=>{const n=x.useContext(jx),{char:i,hasFakeCaret:o,isActive:l}=n.slots[r];return e.jsxs("div",{ref:a,className:X("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...s,children:[i,o&&e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Ar.displayName="InputOTPSlot";const EN=x.forwardRef(({...r},t)=>e.jsx("div",{ref:t,role:"separator",...r,children:e.jsx(v0,{})}));EN.displayName="InputOTPSeparator";const AN=Ja("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Cx=x.forwardRef(({className:r,variant:t,...s},a)=>e.jsx("div",{ref:a,role:"alert",className:X(AN({variant:t}),r),...s}));Cx.displayName="Alert";const RN=x.forwardRef(({className:r,...t},s)=>e.jsx("h5",{ref:s,className:X("mb-1 font-medium leading-none tracking-tight",r),...t}));RN.displayName="AlertTitle";const Sx=x.forwardRef(({className:r,...t},s)=>e.jsx("div",{ref:s,className:X("text-sm [&_p]:leading-relaxed",r),...t}));Sx.displayName="AlertDescription";function _x({email:r,isSignUp:t,onSuccess:s,onBack:a}){const[n,i]=x.useState(""),[o,l]=x.useState(!1),[d,u]=x.useState(!1),[h,c]=x.useState(""),[m,f]=x.useState(0),{toast:p}=bt(),v=()=>{f(60);const w=setInterval(()=>{f(j=>j<=1?(clearInterval(w),0):j-1)},1e3)},y=async()=>{if(n.length!==6){c("Please enter the complete 6-digit code");return}l(!0),c("");try{const{data:w,error:j}=await hj(r,n);j?(c(j.message),i("")):w!=null&&w.session?(p({title:"Success!",description:t?"Account created successfully!":"Signed in successfully!"}),s(w.user)):(c("Verification failed. Please try again."),i(""))}catch{c("An unexpected error occurred. Please try again."),i("")}finally{l(!1)}},b=async()=>{if(!(m>0)){u(!0),c("");try{const{error:w}=await Yl(r,t);w?c(w.message):(p({title:"Code sent!",description:"A new verification code has been sent to your email."}),v())}catch{c("Failed to resend code. Please try again.")}finally{u(!1)}}};return e.jsxs(K,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Ne,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-blue-100",children:e.jsx(yr,{className:"h-6 w-6 text-blue-600"})}),e.jsx(ke,{className:"text-2xl font-bold",children:t?"Verify Your Email":"Enter Verification Code"}),e.jsxs(as,{children:["We've sent a 6-digit verification code to"," ",e.jsx("span",{className:"font-medium text-foreground",children:r})]})]}),e.jsxs(te,{className:"space-y-4",children:[h&&e.jsx(Cx,{variant:"destructive",children:e.jsx(Sx,{children:h})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Verification Code"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Nx,{maxLength:6,value:n,onChange:i,disabled:o,"data-testid":"input-otp",children:e.jsxs(kx,{children:[e.jsx(Ar,{index:0}),e.jsx(Ar,{index:1}),e.jsx(Ar,{index:2}),e.jsx(Ar,{index:3}),e.jsx(Ar,{index:4}),e.jsx(Ar,{index:5})]})})})]}),e.jsx(S,{onClick:y,disabled:n.length!==6||o,className:"w-full","data-testid":"button-verify-otp",children:o?e.jsxs(e.Fragment,{children:[e.jsx(pi,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify Code"})]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Didn't receive the code?"," ",e.jsx(S,{variant:"link",onClick:b,disabled:m>0||d,className:"h-auto p-0 text-sm","data-testid":"button-resend-otp",children:d?e.jsxs(e.Fragment,{children:[e.jsx(L0,{className:"mr-1 h-3 w-3 animate-spin"}),"Resending..."]}):m>0?`Resend in ${m}s`:"Resend code"})]}),e.jsxs(S,{variant:"outline",onClick:a,className:"w-full","data-testid":"button-back",children:["Back to ",t?"Sign Up":"Sign In"]})]})]})}const IN="/logo.png";function ON(){const[,r]=qt(),[t,s]=x.useState(!1),[a,n]=x.useState(!1),[i,o]=x.useState(!1),[l,d]=x.useState({email:"",password:""}),[u,h]=x.useState({username:"",password:""}),[c,m]=x.useState(!1),{toast:f}=bt();Xa();const p=async C=>{var P;if(C.preventDefault(),!l.email.trim()){f({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}if(!l.password.trim()){f({title:"Password Required",description:"Please enter your password",variant:"destructive"});return}s(!0);try{console.log("Validating credentials...");const _=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,password:l.password})});if(!_.ok){const Z=await _.json();f({title:"Sign In Failed",description:Z.message||"Invalid email or password",variant:"destructive"});return}console.log("Credentials validated, sending OTP...");const L=await Yl(l.email,!1);if(console.log("OTP send result:",L),L.error)if(console.error("OTP send error:",L.error),L.error.code==="over_email_send_rate_limit"||(P=L.error.message)!=null&&P.includes("rate limit")){f({title:"Too Many Attempts",description:"Please wait 5-10 minutes before trying again, or use direct login below.",variant:"destructive"});try{const Z=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,password:l.password})});if(Z.ok){const B=await Z.json();localStorage.setItem("meow_meow_auth_user",JSON.stringify(B.user)),f({title:"Sign In Successful!",description:"Logged in using direct authentication."}),r("/");return}}catch(Z){console.error("Fallback auth failed:",Z)}}else f({title:"Verification Failed",description:L.error.message||"Failed to send verification code",variant:"destructive"});else console.log("OTP sent successfully"),f({title:"Verification Code Sent! 📧",description:"Please check your email for the 6-digit code to complete sign in."}),o(!0)}catch(_){console.error("Unexpected error during signin:",_),f({title:"Network Error",description:"Unable to sign in. Please try again.",variant:"destructive"})}finally{s(!1)}},v=(C,P)=>{d(_=>({..._,[C]:P}))},y=(C,P)=>{h(_=>({..._,[C]:P}))},b=async C=>{if(C.preventDefault(),!u.username.trim()){f({title:"Username Required",description:"Please enter admin username",variant:"destructive"});return}if(!u.password.trim()){f({title:"Password Required",description:"Please enter admin password",variant:"destructive"});return}if(u.username!=="admin"||u.password!=="admin123"){f({title:"Invalid Admin Credentials",description:"Incorrect username or password",variant:"destructive"});return}n(!0);try{const P={id:"admin",username:"admin",email:"admin@meowmeowpetshop.com",firstName:"Admin",lastName:"User",name:"Admin User",role:"admin"};localStorage.setItem("meow_meow_auth_user",JSON.stringify(P)),f({title:"Admin Login Successful!",description:"Welcome to the admin panel."}),setTimeout(()=>{window.location.href="/admin"},100)}catch(P){console.error("Admin login error:",P),f({title:"Login Error",description:"An error occurred during admin login.",variant:"destructive"})}finally{n(!1)}},w=C=>{var _,L,Z,B,F,U;console.log("OTP verification successful:",C);const P={id:C.id,username:((_=C.email)==null?void 0:_.split("@")[0])||"user",email:C.email,firstName:((L=C.user_metadata)==null?void 0:L.firstName)||"",lastName:((Z=C.user_metadata)==null?void 0:Z.lastName)||"",name:((B=C.user_metadata)==null?void 0:B.name)||((F=C.email)==null?void 0:F.split("@")[0])||"User",role:((U=C.user_metadata)==null?void 0:U.role)||"user"};localStorage.setItem("meow_meow_auth_user",JSON.stringify(P)),console.log("User stored in localStorage for header display:",P),f({title:"Welcome back!",description:"You have successfully signed in."}),window.location.href="/"},j=()=>{o(!1)};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx(_x,{email:l.email,isSignUp:!1,onSuccess:w,onBack:j})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 flex items-center justify-center px-2 sm:px-4 py-4 sm:py-8",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(38,115,45,0.1),transparent_50%)]"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"mb-3 sm:mb-6",children:e.jsx(re,{href:"/",children:e.jsxs(S,{variant:"ghost",className:"text-meow-green hover:text-meow-green-dark hover:bg-green-50 p-2 text-sm",children:[e.jsx(Xt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Back to Home"]})})}),e.jsxs(K,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-4 sm:pb-6 px-4 sm:px-6 pt-4 sm:pt-6",children:[e.jsx("div",{className:"flex justify-center mb-2 sm:mb-4",children:e.jsx(re,{href:"/",className:"hover:opacity-80 transition-opacity",children:e.jsx("img",{src:IN,alt:"Meow Meow Pet Shop Logo",className:"h-12 w-12 sm:h-16 sm:w-16 rounded-full object-cover border-3 border-meow-green shadow-lg"})})}),e.jsx(ke,{className:"text-2xl sm:text-3xl font-bold text-meow-green",children:"Welcome Back"}),e.jsx(as,{className:"text-gray-600 text-base sm:text-lg",children:"Enter your email and password to sign in"})]}),e.jsxs(te,{className:"space-y-4 sm:space-y-6 px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("form",{onSubmit:p,className:"space-y-3 sm:space-y-5",children:[e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx(Se,{htmlFor:"email",className:"text-meow-green font-medium text-sm sm:text-base",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx(Q,{id:"email",type:"email",placeholder:"Enter your email address",value:l.email,onChange:C=>v("email",C.target.value),className:"pl-9 sm:pl-10 h-10 sm:h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20 text-sm sm:text-base",required:!0,"data-testid":"input-email"})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx(Se,{htmlFor:"password",className:"text-meow-green font-medium text-sm sm:text-base",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx(Q,{id:"password",type:"password",placeholder:"Enter your password",value:l.password,onChange:C=>v("password",C.target.value),className:"pl-9 sm:pl-10 h-10 sm:h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20 text-sm sm:text-base",required:!0,"data-testid":"input-password"})]})]}),e.jsx(S,{type:"submit",disabled:t,className:"w-full h-10 sm:h-12 bg-gradient-to-r from-meow-yellow to-yellow-400 hover:from-yellow-400 hover:to-meow-yellow text-meow-green-dark font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-200","data-testid":"button-send-code",children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx(pi,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin"}),"Sending Code..."]}):"Sign In"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:e.jsx("span",{className:"px-3 sm:px-4 bg-white text-gray-500",children:"Don't have an account?"})})]}),e.jsx("div",{className:"text-center",children:e.jsx(re,{href:"/sign-up",children:e.jsx(S,{variant:"outline",className:"w-full h-10 sm:h-12 border-meow-green text-meow-green hover:bg-green-50 hover:border-meow-green-dark hover:text-meow-green-dark font-semibold text-sm sm:text-base",children:"Create New Account"})})}),e.jsx("div",{className:"text-center",children:e.jsxs(S,{variant:"ghost",onClick:()=>m(!c),className:"w-full h-8 sm:h-10 text-orange-600 hover:text-orange-700 hover:bg-orange-50 font-medium text-xs sm:text-sm","data-testid":"button-toggle-admin",children:[e.jsx(Nn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),c?"Hide Admin Access":"Admin Access"]})})]})]}),c&&e.jsxs(K,{className:"shadow-2xl border-0 bg-gradient-to-r from-orange-50 to-red-50 backdrop-blur-sm mt-4 sm:mt-6",children:[e.jsxs(Ne,{className:"text-center pb-3 sm:pb-4 px-4 sm:px-6 pt-3 sm:pt-4",children:[e.jsx("div",{className:"flex justify-center mb-1 sm:mb-2",children:e.jsx(Nn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})}),e.jsx(ke,{className:"text-lg sm:text-xl font-bold text-orange-600",children:"Admin Access"}),e.jsx(as,{className:"text-gray-600 text-sm sm:text-base",children:"Login with admin credentials"})]}),e.jsx(te,{className:"space-y-3 sm:space-y-4 px-4 sm:px-6 pb-3 sm:pb-4",children:e.jsxs("form",{onSubmit:b,className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Se,{htmlFor:"admin-username",className:"text-orange-600 font-medium text-sm",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{id:"admin-username",type:"text",placeholder:"Enter admin username",value:u.username,onChange:C=>y("username",C.target.value),className:"pl-9 h-9 sm:h-10 border-orange-200 focus:border-orange-300 focus:ring-orange-200/20 text-sm",required:!0,"data-testid":"input-admin-username"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(Se,{htmlFor:"admin-password",className:"text-orange-600 font-medium text-sm",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{id:"admin-password",type:"password",placeholder:"Enter admin password",value:u.password,onChange:C=>y("password",C.target.value),className:"pl-9 h-9 sm:h-10 border-orange-200 focus:border-orange-300 focus:ring-orange-200/20 text-sm",required:!0,"data-testid":"input-admin-password"})]})]}),e.jsx(S,{type:"submit",disabled:a,className:"w-full h-9 sm:h-10 bg-gradient-to-r from-orange-500 to-red-500 hover:from-red-500 hover:to-orange-500 text-white font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-200","data-testid":"button-admin-login",children:a?e.jsxs("div",{className:"flex items-center",children:[e.jsx(pi,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Admin Login"]})})]})})]}),e.jsxs("div",{className:"text-center mt-4 sm:mt-6 text-gray-500 text-xs sm:text-sm",children:[e.jsx("p",{children:"© 2025 Meow Meow Pet Shop. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-2 sm:space-x-4 mt-1 sm:mt-2",children:[e.jsx(re,{href:"/privacy",children:e.jsx(S,{variant:"link",className:"text-gray-500 hover:text-meow-green p-0 h-auto text-xs sm:text-sm",children:"Privacy Policy"})}),e.jsx("span",{children:"•"}),e.jsx(re,{href:"/terms",children:e.jsx(S,{variant:"link",className:"text-gray-500 hover:text-meow-green p-0 h-auto text-xs sm:text-sm",children:"Terms of Service"})})]})]})]})]})}const LN="/logo.png";function MN(){qt();const[r,t]=x.useState(!1),[s,a]=x.useState(!1),[n,i]=x.useState(!1),[o,l]=x.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),{toast:d}=bt(),u=async f=>{var p;if(f.preventDefault(),!s){d({title:"Terms Required",description:"Please agree to the Terms of Service and Privacy Policy",variant:"destructive"});return}if(!o.firstName.trim()||!o.lastName.trim()){d({title:"Name Required",description:"Please enter your first and last name",variant:"destructive"});return}if(!o.email.trim()){d({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}if(!o.password.trim()){d({title:"Password Required",description:"Please enter a password",variant:"destructive"});return}if(o.password.length<6){d({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}if(o.password!==o.confirmPassword){d({title:"Passwords Do Not Match",description:"Please make sure both passwords match",variant:"destructive"});return}t(!0);try{console.log("Registering user...");const v=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.email,firstName:o.firstName,lastName:o.lastName,email:o.email,password:o.password,confirmPassword:o.confirmPassword})});if(!v.ok){const b=await v.json();d({title:"Registration Failed",description:b.message||"Failed to create account",variant:"destructive"});return}console.log("Registration successful, sending OTP...");const y=await Yl(o.email,!0);if(console.log("OTP send result:",y),y.error)if(console.error("OTP send error:",y.error),y.error.code==="over_email_send_rate_limit"||(p=y.error.message)!=null&&p.includes("rate limit")){const b={id:Date.now().toString(),username:o.email,email:o.email,firstName:o.firstName,lastName:o.lastName,name:`${o.firstName} ${o.lastName}`,role:"user"};localStorage.setItem("meow_meow_auth_user",JSON.stringify(b)),console.log("Registration completed using fallback authentication:",b),d({title:"Account Created Successfully! 🎉",description:"Welcome to Meow Meow Pet Shop! You can start shopping now."}),window.location.href="/";return}else d({title:"Verification Failed",description:y.error.message||"Failed to send verification code",variant:"destructive"});else console.log("OTP sent successfully"),d({title:"Account Created! 🎉",description:"Please check your email for the verification code to complete signup."}),i(!0)}catch(v){console.error("Unexpected error during signup:",v),d({title:"Network Error",description:"Unable to create account. Please try again.",variant:"destructive"})}finally{t(!1)}},h=(f,p)=>{l(v=>({...v,[f]:p}))},c=f=>{var v,y,b;console.log("OTP verification successful:",f);const p={id:f.id,username:((v=f.email)==null?void 0:v.split("@")[0])||"user",email:f.email,firstName:o.firstName,lastName:o.lastName,name:`${o.firstName} ${o.lastName}`||((y=f.email)==null?void 0:y.split("@")[0])||"User",role:((b=f.user_metadata)==null?void 0:b.role)||"user"};localStorage.setItem("meow_meow_auth_user",JSON.stringify(p)),console.log("User stored in localStorage for header display:",p),d({title:"Welcome to Meow Meow Pet Shop! 🐾",description:"Your account has been created successfully."}),window.location.href="/"},m=()=>{i(!1)};return n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx(_x,{email:o.email,isSignUp:!0,onSuccess:c,onBack:m})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 flex items-center justify-center px-4 py-8",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(38,115,45,0.1),transparent_50%)]"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsx(re,{href:"/",children:e.jsxs(S,{variant:"ghost",className:"text-meow-green hover:text-meow-green-dark hover:bg-green-50 p-2",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})}),e.jsxs(K,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(re,{href:"/",className:"hover:opacity-80 transition-opacity",children:e.jsx("img",{src:LN,alt:"Meow Meow Pet Shop Logo",className:"h-16 w-16 rounded-full object-cover border-3 border-meow-green shadow-lg"})})}),e.jsx(ke,{className:"text-3xl font-bold text-meow-green",children:"Join Our Pack"}),e.jsx(as,{className:"text-gray-600 text-lg",children:"Create your Meow Meow Pet Shop account"})]}),e.jsxs(te,{className:"space-y-5",children:[e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"firstName",className:"text-meow-green font-medium text-sm",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{id:"firstName",type:"text",placeholder:"First name",value:o.firstName,onChange:f=>h("firstName",f.target.value),className:"pl-9 h-11 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20 text-sm",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"lastName",className:"text-meow-green font-medium text-sm",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{id:"lastName",type:"text",placeholder:"Last name",value:o.lastName,onChange:f=>h("lastName",f.target.value),className:"pl-9 h-11 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20 text-sm",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"email",className:"text-meow-green font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"email",type:"email",placeholder:"Enter your email",value:o.email,onChange:f=>h("email",f.target.value),className:"pl-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"password",className:"text-meow-green font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"password",type:"password",placeholder:"Enter your password",value:o.password,onChange:f=>h("password",f.target.value),className:"pl-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0,"data-testid":"input-password"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"confirmPassword",className:"text-meow-green font-medium",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:o.confirmPassword,onChange:f=>h("confirmPassword",f.target.value),className:"pl-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0,"data-testid":"input-confirm-password"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[e.jsx(Bs,{id:"terms",checked:s,onCheckedChange:f=>a(f===!0),className:"mt-0.5 border-gray-300 data-[state=checked]:bg-meow-green data-[state=checked]:border-meow-green"}),e.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",children:e.jsxs(Se,{htmlFor:"terms",className:"cursor-pointer",children:["I agree to the"," ",e.jsx(re,{href:"/terms",children:e.jsx(S,{variant:"link",className:"text-meow-green hover:text-meow-green-dark p-0 h-auto text-sm underline",children:"Terms of Service"})})," ","and"," ",e.jsx(re,{href:"/privacy",children:e.jsx(S,{variant:"link",className:"text-meow-green hover:text-meow-green-dark p-0 h-auto text-sm underline",children:"Privacy Policy"})})]})})]}),e.jsx(S,{type:"submit",disabled:r||!s,className:"w-full h-12 bg-gradient-to-r from-meow-yellow to-yellow-400 hover:from-yellow-400 hover:to-meow-yellow text-meow-green-dark font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-meow-green-dark border-t-transparent rounded-full animate-spin mr-2"}),"Creating Account..."]}):"Create Account"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),e.jsx("div",{className:"text-center",children:e.jsx(re,{href:"/sign-in",children:e.jsx(S,{variant:"outline",className:"w-full h-12 border-meow-green text-meow-green hover:bg-green-50 hover:border-meow-green-dark hover:text-meow-green-dark font-semibold",children:"Sign In Instead"})})})]})]}),e.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:e.jsx("p",{children:"© 2025 Meow Meow Pet Shop. All rights reserved."})})]})]})}function DN(){const r=window.location.origin;if(!r.includes("localhost")&&!r.includes("127.0.0.1"))return`${r}/reset-password`;const t=window.location.href,s=document.referrer,a=t.match(/https?:\/\/([^\/]+\.replit\.dev)/)||s.match(/https?:\/\/([^\/]+\.replit\.dev)/);return a?`https://${a[1]}/reset-password`:`${r}/reset-password`}function FN(){qt();const[r,t]=x.useState(!1),[s,a]=x.useState(""),[n,i]=x.useState(!1),{toast:o}=bt(),l="/logo.png",d=async u=>{if(u.preventDefault(),!s.trim()){o({title:"Email Required",description:"Please enter your email address",variant:"destructive"});return}t(!0);try{const h=DN();console.log("Password reset redirect URL:",h);const{error:c}=await Ns.auth.resetPasswordForEmail(s,{redirectTo:h});c?o({title:"Reset Failed",description:c.message,variant:"destructive"}):(i(!0),o({title:"Reset Email Sent",description:"Check your email for password reset instructions"}))}catch{o({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{t(!1)}};return n?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 flex items-center justify-center px-4 py-8",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(38,115,45,0.1),transparent_50%)]"}),e.jsx("div",{className:"w-full max-w-md relative z-10",children:e.jsxs(K,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-3 border-green-500 shadow-lg",children:e.jsx("img",{src:l,alt:"Meow Meow Pet Shop Logo",className:"h-16 w-16 rounded-full object-cover"})})}),e.jsx(ke,{className:"text-3xl font-bold text-meow-green",children:"Check Your Email"}),e.jsx(as,{className:"text-gray-600 text-lg",children:"We've sent password reset instructions to your email"})]}),e.jsxs(te,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We sent a password reset link to:"}),e.jsx("p",{className:"font-semibold text-meow-green bg-green-50 px-4 py-2 rounded-lg",children:s})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Next Steps:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• Check your email inbox (and spam folder)"}),e.jsx("li",{children:"• Click the reset link in the email"}),e.jsx("li",{children:"• Create a new password"}),e.jsx("li",{children:"• Sign in with your new password"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(re,{href:"/sign-in",children:e.jsx(S,{className:"w-full h-12 bg-gradient-to-r from-meow-yellow to-yellow-400 hover:from-yellow-400 hover:to-meow-yellow text-meow-green-dark font-semibold",children:"Back to Sign In"})}),e.jsx(S,{variant:"outline",onClick:()=>i(!1),className:"w-full h-12 border-meow-green text-meow-green hover:bg-green-50",children:"Try Different Email"})]})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 flex items-center justify-center px-4 py-8",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(38,115,45,0.1),transparent_50%)]"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsx(re,{href:"/sign-in",children:e.jsxs(S,{variant:"ghost",className:"text-meow-green hover:text-meow-green-dark hover:bg-green-50 p-2",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})}),e.jsxs(K,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-3 border-green-500 shadow-lg",children:e.jsx("img",{src:l,alt:"Meow Meow Pet Shop Logo",className:"h-16 w-16 rounded-full object-cover"})})}),e.jsx(ke,{className:"text-3xl font-bold text-meow-green",children:"Forgot Password?"}),e.jsx(as,{className:"text-gray-600 text-lg",children:"Enter your email to reset your password"})]}),e.jsxs(te,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:d,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"email",className:"text-meow-green font-medium",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"email",type:"email",placeholder:"Enter your email address",value:s,onChange:u=>a(u.target.value),className:"pl-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0})]})]}),e.jsx(S,{type:"submit",disabled:r,className:"w-full h-12 bg-gradient-to-r from-meow-yellow to-yellow-400 hover:from-yellow-400 hover:to-meow-yellow text-meow-green-dark font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:r?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-meow-green-dark border-t-transparent rounded-full animate-spin mr-2"}),"Sending Reset Email..."]}):"Send Reset Email"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Remember your password?"," ",e.jsx(re,{href:"/sign-in",children:e.jsx(S,{variant:"link",className:"text-meow-green hover:text-meow-green-dark p-0 h-auto",children:"Sign in here"})})]})})]})]}),e.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:e.jsx("p",{children:"© 2025 Meow Meow Pet Shop. All rights reserved."})})]})]})}function $N(){const[,r]=qt(),[t,s]=x.useState(!1),[a,n]=x.useState(!1),[i,o]=x.useState(!1),[l,d]=x.useState({password:"",confirmPassword:""}),{toast:u}=bt();x.useEffect(()=>{(()=>{Ns.auth.getSession().then(({data:{session:b}})=>{b||(u({title:"Invalid Reset Link",description:"This password reset link is invalid or has expired. Please request a new one.",variant:"destructive"}),r("/forgot-password"))})})()},[r,u]);const h=async y=>{if(y.preventDefault(),l.password!==l.confirmPassword){u({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}if(l.password.length<6){u({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}s(!0);try{const{error:b}=await Ns.auth.updateUser({password:l.password});b?u({title:"Reset Failed",description:b.message,variant:"destructive"}):(u({title:"Password Updated",description:"Your password has been successfully updated"}),r("/sign-in"))}catch{u({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{s(!1)}},c=(y,b)=>{d(w=>({...w,[y]:b}))},m=y=>{let b=0;return y.length>=6&&b++,y.match(/[a-z]/)&&y.match(/[A-Z]/)&&b++,y.match(/\d/)&&b++,y.match(/[^a-zA-Z\d]/)&&b++,b},f=y=>y===0?"bg-gray-200":y===1?"bg-red-400":y===2?"bg-yellow-400":y===3?"bg-blue-400":"bg-green-400",p=y=>y===0?"Enter password":y===1?"Weak":y===2?"Fair":y===3?"Good":"Strong",v=m(l.password);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-yellow-50 flex items-center justify-center px-4 py-8",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(38,115,45,0.1),transparent_50%)]"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsx(re,{href:"/sign-in",children:e.jsxs(S,{variant:"ghost",className:"text-meow-green hover:text-meow-green-dark hover:bg-green-50 p-2",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})}),e.jsxs(K,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(Ne,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-meow-green to-meow-green-dark rounded-full flex items-center justify-center",children:e.jsx(xh,{className:"w-8 h-8 text-white"})})}),e.jsx(ke,{className:"text-3xl font-bold text-meow-green",children:"Reset Password"}),e.jsx(as,{className:"text-gray-600 text-lg",children:"Enter your new password below"})]}),e.jsxs(te,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:h,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"password",className:"text-meow-green font-medium",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"password",type:a?"text":"password",placeholder:"Enter your new password",value:l.password,onChange:y=>c("password",y.target.value),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0}),e.jsx("button",{type:"button",onClick:()=>n(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?e.jsx(Bc,{className:"w-5 h-5"}):e.jsx(tl,{className:"w-5 h-5"})})]}),l.password&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(y=>e.jsx("div",{className:`h-1 flex-1 rounded-full ${y<=v?f(v):"bg-gray-200"}`},y))}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Password strength: ",p(v)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Se,{htmlFor:"confirmPassword",className:"text-meow-green font-medium",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(Q,{id:"confirmPassword",type:i?"text":"password",placeholder:"Confirm your new password",value:l.confirmPassword,onChange:y=>c("confirmPassword",y.target.value),className:"pl-10 pr-10 h-12 border-gray-200 focus:border-meow-yellow focus:ring-meow-yellow/20",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(Bc,{className:"w-5 h-5"}):e.jsx(tl,{className:"w-5 h-5"})})]}),l.confirmPassword&&e.jsx("div",{className:"flex items-center space-x-1 text-xs",children:l.password===l.confirmPassword?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-red-600",children:"Passwords don't match"})]})})]}),e.jsx(S,{type:"submit",disabled:t||l.password!==l.confirmPassword||l.password.length<6,className:"w-full h-12 bg-gradient-to-r from-meow-yellow to-yellow-400 hover:from-yellow-400 hover:to-meow-yellow text-meow-green-dark font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-meow-green-dark border-t-transparent rounded-full animate-spin mr-2"}),"Updating Password..."]}):"Update Password"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm",children:"Password Requirements:"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"• At least 6 characters long"}),e.jsx("li",{children:"• Mix of uppercase and lowercase letters (recommended)"}),e.jsx("li",{children:"• Include numbers and special characters (recommended)"})]})]})]})]}),e.jsx("div",{className:"text-center mt-6 text-gray-500 text-sm",children:e.jsx("p",{children:"© 2025 Meow Meow Pet Shop. All rights reserved."})})]})]})}var Gn=r=>r.type==="checkbox",Fr=r=>r instanceof Date,Ut=r=>r==null;const Px=r=>typeof r=="object";var vt=r=>!Ut(r)&&!Array.isArray(r)&&Px(r)&&!Fr(r),Tx=r=>vt(r)&&r.target?Gn(r.target)?r.target.checked:r.target.value:r,BN=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,Ex=(r,t)=>r.has(BN(t)),zN=r=>{const t=r.constructor&&r.constructor.prototype;return vt(t)&&t.hasOwnProperty("isPrototypeOf")},sc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Tt(r){let t;const s=Array.isArray(r),a=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)t=new Date(r);else if(r instanceof Set)t=new Set(r);else if(!(sc&&(r instanceof Blob||a))&&(s||vt(r)))if(t=s?[]:{},!s&&!zN(r))t=r;else for(const n in r)r.hasOwnProperty(n)&&(t[n]=Tt(r[n]));else return r;return t}var oo=r=>Array.isArray(r)?r.filter(Boolean):[],yt=r=>r===void 0,se=(r,t,s)=>{if(!t||!vt(r))return s;const a=oo(t.split(/[,[\].]+?/)).reduce((n,i)=>Ut(n)?n:n[i],r);return yt(a)||a===r?yt(r[t])?s:r[t]:a},ss=r=>typeof r=="boolean",rc=r=>/^\w*$/.test(r),Ax=r=>oo(r.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(r,t,s)=>{let a=-1;const n=rc(t)?[t]:Ax(t),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let d=s;if(a!==o){const u=r[l];d=vt(u)||Array.isArray(u)?u:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;r[l]=d,r=r[l]}};const Ni={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},js={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rx=Be.createContext(null),lo=()=>Be.useContext(Rx),UN=r=>{const{children:t,...s}=r;return Be.createElement(Rx.Provider,{value:s},t)};var Ix=(r,t,s,a=!0)=>{const n={defaultValues:t._defaultValues};for(const i in r)Object.defineProperty(n,i,{get:()=>{const o=i;return t._proxyFormState[o]!==js.all&&(t._proxyFormState[o]=!a||js.all),s&&(s[o]=!0),r[o]}});return n};function VN(r){const t=lo(),{control:s=t.control,disabled:a,name:n,exact:i}=r||{},[o,l]=Be.useState(s._formState),d=Be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Be.useRef(n);return u.current=n,Be.useEffect(()=>s._subscribe({name:u.current,formState:d.current,exact:i,callback:h=>{!a&&l({...s._formState,...h})}}),[s,a,i]),Be.useEffect(()=>{d.current.isValid&&s._setValid(!0)},[s]),Be.useMemo(()=>Ix(o,s,d.current,!1),[o,s])}var Rs=r=>typeof r=="string",Ox=(r,t,s,a,n)=>Rs(r)?(a&&t.watch.add(r),se(s,r,n)):Array.isArray(r)?r.map(i=>(a&&t.watch.add(i),se(s,i))):(a&&(t.watchAll=!0),s);function qN(r){const t=lo(),{control:s=t.control,name:a,defaultValue:n,disabled:i,exact:o}=r||{},l=Be.useRef(a),d=Be.useRef(n);l.current=a,Be.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:c=>!i&&h(Ox(l.current,s._names,c.values||s._formValues,!1,d.current))}),[s,i,o]);const[u,h]=Be.useState(s._getWatch(a,n));return Be.useEffect(()=>s._removeUnmounted()),u}function HN(r){const t=lo(),{name:s,disabled:a,control:n=t.control,shouldUnregister:i}=r,o=Ex(n._names.array,s),l=qN({control:n,name:s,defaultValue:se(n._formValues,s,se(n._defaultValues,s,r.defaultValue)),exact:!0}),d=VN({control:n,name:s,exact:!0}),u=Be.useRef(r),h=Be.useRef(n.register(s,{...r.rules,value:l,...ss(r.disabled)?{disabled:r.disabled}:{}})),c=Be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(d.errors,s)},isDirty:{enumerable:!0,get:()=>!!se(d.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!se(d.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!se(d.validatingFields,s)},error:{enumerable:!0,get:()=>se(d.errors,s)}}),[d,s]),m=Be.useCallback(y=>h.current.onChange({target:{value:Tx(y),name:s},type:Ni.CHANGE}),[s]),f=Be.useCallback(()=>h.current.onBlur({target:{value:se(n._formValues,s),name:s},type:Ni.BLUR}),[s,n._formValues]),p=Be.useCallback(y=>{const b=se(n._fields,s);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:w=>y.setCustomValidity(w),reportValidity:()=>y.reportValidity()})},[n._fields,s]),v=Be.useMemo(()=>({name:s,value:l,...ss(a)||d.disabled?{disabled:d.disabled||a}:{},onChange:m,onBlur:f,ref:p}),[s,a,d.disabled,m,f,p,l]);return Be.useEffect(()=>{const y=n._options.shouldUnregister||i;n.register(s,{...u.current.rules,...ss(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(w,j)=>{const C=se(n._fields,w);C&&C._f&&(C._f.mount=j)};if(b(s,!0),y){const w=Tt(se(n._options.defaultValues,s));Qe(n._defaultValues,s,w),yt(se(n._formValues,s))&&Qe(n._formValues,s,w)}return!o&&n.register(s),()=>{(o?y&&!n._state.action:y)?n.unregister(s):b(s,!1)}},[s,n,o,i]),Be.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),Be.useMemo(()=>({field:v,formState:d,fieldState:c}),[v,d,c])}const KN=r=>r.render(HN(r));var Lx=(r,t,s,a,n)=>t?{...s[r],types:{...s[r]&&s[r].types?s[r].types:{},[a]:n||!0}}:{},_n=r=>Array.isArray(r)?r:[r],yd=()=>{let r=[];return{get observers(){return r},next:n=>{for(const i of r)i.next&&i.next(n)},subscribe:n=>(r.push(n),{unsubscribe:()=>{r=r.filter(i=>i!==n)}}),unsubscribe:()=>{r=[]}}},Cl=r=>Ut(r)||!Px(r);function tr(r,t){if(Cl(r)||Cl(t))return r===t;if(Fr(r)&&Fr(t))return r.getTime()===t.getTime();const s=Object.keys(r),a=Object.keys(t);if(s.length!==a.length)return!1;for(const n of s){const i=r[n];if(!a.includes(n))return!1;if(n!=="ref"){const o=t[n];if(Fr(i)&&Fr(o)||vt(i)&&vt(o)||Array.isArray(i)&&Array.isArray(o)?!tr(i,o):i!==o)return!1}}return!0}var zt=r=>vt(r)&&!Object.keys(r).length,ac=r=>r.type==="file",ws=r=>typeof r=="function",ki=r=>{if(!sc)return!1;const t=r?r.ownerDocument:0;return r instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Mx=r=>r.type==="select-multiple",nc=r=>r.type==="radio",WN=r=>nc(r)||Gn(r),Io=r=>ki(r)&&r.isConnected;function QN(r,t){const s=t.slice(0,-1).length;let a=0;for(;a<s;)r=yt(r)?a++:r[t[a++]];return r}function GN(r){for(const t in r)if(r.hasOwnProperty(t)&&!yt(r[t]))return!1;return!0}function kt(r,t){const s=Array.isArray(t)?t:rc(t)?[t]:Ax(t),a=s.length===1?r:QN(r,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(vt(a)&&zt(a)||Array.isArray(a)&&GN(a))&&kt(r,s.slice(0,-1)),r}var Dx=r=>{for(const t in r)if(ws(r[t]))return!0;return!1};function Ci(r,t={}){const s=Array.isArray(r);if(vt(r)||s)for(const a in r)Array.isArray(r[a])||vt(r[a])&&!Dx(r[a])?(t[a]=Array.isArray(r[a])?[]:{},Ci(r[a],t[a])):Ut(r[a])||(t[a]=!0);return t}function Fx(r,t,s){const a=Array.isArray(r);if(vt(r)||a)for(const n in r)Array.isArray(r[n])||vt(r[n])&&!Dx(r[n])?yt(t)||Cl(s[n])?s[n]=Array.isArray(r[n])?Ci(r[n],[]):{...Ci(r[n])}:Fx(r[n],Ut(t)?{}:t[n],s[n]):s[n]=!tr(r[n],t[n]);return s}var mn=(r,t)=>Fx(r,t,Ci(t));const vd={value:!1,isValid:!1},bd={value:!0,isValid:!0};var $x=r=>{if(Array.isArray(r)){if(r.length>1){const t=r.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!yt(r[0].attributes.value)?yt(r[0].value)||r[0].value===""?bd:{value:r[0].value,isValid:!0}:bd:vd}return vd},Bx=(r,{valueAsNumber:t,valueAsDate:s,setValueAs:a})=>yt(r)?r:t?r===""?NaN:r&&+r:s&&Rs(r)?new Date(r):a?a(r):r;const jd={isValid:!1,value:null};var zx=r=>Array.isArray(r)?r.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,jd):jd;function wd(r){const t=r.ref;return ac(t)?t.files:nc(t)?zx(r.refs).value:Mx(t)?[...t.selectedOptions].map(({value:s})=>s):Gn(t)?$x(r.refs).value:Bx(yt(t.value)?r.ref.value:t.value,r)}var ZN=(r,t,s,a)=>{const n={};for(const i of r){const o=se(t,i);o&&Qe(n,i,o._f)}return{criteriaMode:s,names:[...r],fields:n,shouldUseNativeValidation:a}},Si=r=>r instanceof RegExp,xn=r=>yt(r)?r:Si(r)?r.source:vt(r)?Si(r.value)?r.value.source:r.value:r,Nd=r=>({isOnSubmit:!r||r===js.onSubmit,isOnBlur:r===js.onBlur,isOnChange:r===js.onChange,isOnAll:r===js.all,isOnTouch:r===js.onTouched});const kd="AsyncFunction";var JN=r=>!!r&&!!r.validate&&!!(ws(r.validate)&&r.validate.constructor.name===kd||vt(r.validate)&&Object.values(r.validate).find(t=>t.constructor.name===kd)),YN=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),Cd=(r,t,s)=>!s&&(t.watchAll||t.watch.has(r)||[...t.watch].some(a=>r.startsWith(a)&&/^\.\w+/.test(r.slice(a.length))));const Pn=(r,t,s,a)=>{for(const n of s||Object.keys(r)){const i=se(r,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(Pn(l,t))break}else if(vt(l)&&Pn(l,t))break}}};function Sd(r,t,s){const a=se(r,s);if(a||rc(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=se(t,i),l=se(r,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};n.pop()}return{name:s}}var XN=(r,t,s,a)=>{s(r);const{name:n,...i}=r;return zt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||js.all))},e1=(r,t,s)=>!r||!t||r===t||_n(r).some(a=>a&&(s?a===t:a.startsWith(t)||t.startsWith(a))),t1=(r,t,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(t||r):(s?a.isOnBlur:n.isOnBlur)?!r:(s?a.isOnChange:n.isOnChange)?r:!0,s1=(r,t)=>!oo(se(r,t)).length&&kt(r,t),r1=(r,t,s)=>{const a=_n(se(r,s));return Qe(a,"root",t[s]),Qe(r,s,a),r},di=r=>Rs(r);function _d(r,t,s="validate"){if(di(r)||Array.isArray(r)&&r.every(di)||ss(r)&&!r)return{type:s,message:di(r)?r:"",ref:t}}var ca=r=>vt(r)&&!Si(r)?r:{value:r,message:""},Pd=async(r,t,s,a,n,i)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:h,min:c,max:m,pattern:f,validate:p,name:v,valueAsNumber:y,mount:b}=r._f,w=se(s,v);if(!b||t.has(v))return{};const j=l?l[0]:o,C=T=>{n&&j.reportValidity&&(j.setCustomValidity(ss(T)?"":T||""),j.reportValidity())},P={},_=nc(o),L=Gn(o),Z=_||L,B=(y||ac(o))&&yt(o.value)&&yt(w)||ki(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,F=Lx.bind(null,v,a,P),U=(T,O,E,R=Ls.maxLength,z=Ls.minLength)=>{const le=T?O:E;P[v]={type:T?R:z,message:le,ref:o,...F(T?R:z,le)}};if(i?!Array.isArray(w)||!w.length:d&&(!Z&&(B||Ut(w))||ss(w)&&!w||L&&!$x(l).isValid||_&&!zx(l).isValid)){const{value:T,message:O}=di(d)?{value:!!d,message:d}:ca(d);if(T&&(P[v]={type:Ls.required,message:O,ref:j,...F(Ls.required,O)},!a))return C(O),P}if(!B&&(!Ut(c)||!Ut(m))){let T,O;const E=ca(m),R=ca(c);if(!Ut(w)&&!isNaN(w)){const z=o.valueAsNumber||w&&+w;Ut(E.value)||(T=z>E.value),Ut(R.value)||(O=z<R.value)}else{const z=o.valueAsDate||new Date(w),le=Pe=>new Date(new Date().toDateString()+" "+Pe),J=o.type=="time",ae=o.type=="week";Rs(E.value)&&w&&(T=J?le(w)>le(E.value):ae?w>E.value:z>new Date(E.value)),Rs(R.value)&&w&&(O=J?le(w)<le(R.value):ae?w<R.value:z<new Date(R.value))}if((T||O)&&(U(!!T,E.message,R.message,Ls.max,Ls.min),!a))return C(P[v].message),P}if((u||h)&&!B&&(Rs(w)||i&&Array.isArray(w))){const T=ca(u),O=ca(h),E=!Ut(T.value)&&w.length>+T.value,R=!Ut(O.value)&&w.length<+O.value;if((E||R)&&(U(E,T.message,O.message),!a))return C(P[v].message),P}if(f&&!B&&Rs(w)){const{value:T,message:O}=ca(f);if(Si(T)&&!w.match(T)&&(P[v]={type:Ls.pattern,message:O,ref:o,...F(Ls.pattern,O)},!a))return C(O),P}if(p){if(ws(p)){const T=await p(w,s),O=_d(T,j);if(O&&(P[v]={...O,...F(Ls.validate,O.message)},!a))return C(O.message),P}else if(vt(p)){let T={};for(const O in p){if(!zt(T)&&!a)break;const E=_d(await p[O](w,s),j,O);E&&(T={...E,...F(O,E.message)},C(E.message),a&&(P[v]=T))}if(!zt(T)&&(P[v]={ref:j,...T},!a))return P}}return C(!0),P};const a1={mode:js.onSubmit,reValidateMode:js.onChange,shouldFocusError:!0};function n1(r={}){let t={...a1,...r},s={submitCount:0,isDirty:!1,isLoading:ws(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let n=vt(t.defaultValues)||vt(t.values)?Tt(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Tt(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let c={...h};const m={array:yd(),state:yd()},f=Nd(t.mode),p=Nd(t.reValidateMode),v=t.criteriaMode===js.all,y=N=>A=>{clearTimeout(u),u=setTimeout(N,A)},b=async N=>{if(!t.disabled&&(h.isValid||c.isValid||N)){const A=t.resolver?zt((await B()).errors):await U(a,!0);A!==s.isValid&&m.state.next({isValid:A})}},w=(N,A)=>{!t.disabled&&(h.isValidating||h.validatingFields||c.isValidating||c.validatingFields)&&((N||Array.from(l.mount)).forEach(I=>{I&&(A?Qe(s.validatingFields,I,A):kt(s.validatingFields,I))}),m.state.next({validatingFields:s.validatingFields,isValidating:!zt(s.validatingFields)}))},j=(N,A=[],I,H,V=!0,$=!0)=>{if(H&&I&&!t.disabled){if(o.action=!0,$&&Array.isArray(se(a,N))){const ie=I(se(a,N),H.argA,H.argB);V&&Qe(a,N,ie)}if($&&Array.isArray(se(s.errors,N))){const ie=I(se(s.errors,N),H.argA,H.argB);V&&Qe(s.errors,N,ie),s1(s.errors,N)}if((h.touchedFields||c.touchedFields)&&$&&Array.isArray(se(s.touchedFields,N))){const ie=I(se(s.touchedFields,N),H.argA,H.argB);V&&Qe(s.touchedFields,N,ie)}(h.dirtyFields||c.dirtyFields)&&(s.dirtyFields=mn(n,i)),m.state.next({name:N,isDirty:O(N,A),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Qe(i,N,A)},C=(N,A)=>{Qe(s.errors,N,A),m.state.next({errors:s.errors})},P=N=>{s.errors=N,m.state.next({errors:s.errors,isValid:!1})},_=(N,A,I,H)=>{const V=se(a,N);if(V){const $=se(i,N,yt(I)?se(n,N):I);yt($)||H&&H.defaultChecked||A?Qe(i,N,A?$:wd(V._f)):z(N,$),o.mount&&b()}},L=(N,A,I,H,V)=>{let $=!1,ie=!1;const Ae={name:N};if(!t.disabled){if(!I||H){(h.isDirty||c.isDirty)&&(ie=s.isDirty,s.isDirty=Ae.isDirty=O(),$=ie!==Ae.isDirty);const nt=tr(se(n,N),A);ie=!!se(s.dirtyFields,N),nt?kt(s.dirtyFields,N):Qe(s.dirtyFields,N,!0),Ae.dirtyFields=s.dirtyFields,$=$||(h.dirtyFields||c.dirtyFields)&&ie!==!nt}if(I){const nt=se(s.touchedFields,N);nt||(Qe(s.touchedFields,N,I),Ae.touchedFields=s.touchedFields,$=$||(h.touchedFields||c.touchedFields)&&nt!==I)}$&&V&&m.state.next(Ae)}return $?Ae:{}},Z=(N,A,I,H)=>{const V=se(s.errors,N),$=(h.isValid||c.isValid)&&ss(A)&&s.isValid!==A;if(t.delayError&&I?(d=y(()=>C(N,I)),d(t.delayError)):(clearTimeout(u),d=null,I?Qe(s.errors,N,I):kt(s.errors,N)),(I?!tr(V,I):V)||!zt(H)||$){const ie={...H,...$&&ss(A)?{isValid:A}:{},errors:s.errors,name:N};s={...s,...ie},m.state.next(ie)}},B=async N=>{w(N,!0);const A=await t.resolver(i,t.context,ZN(N||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return w(N),A},F=async N=>{const{errors:A}=await B(N);if(N)for(const I of N){const H=se(A,I);H?Qe(s.errors,I,H):kt(s.errors,I)}else s.errors=A;return A},U=async(N,A,I={valid:!0})=>{for(const H in N){const V=N[H];if(V){const{_f:$,...ie}=V;if($){const Ae=l.array.has($.name),nt=V._f&&JN(V._f);nt&&h.validatingFields&&w([H],!0);const ht=await Pd(V,l.disabled,i,v,t.shouldUseNativeValidation&&!A,Ae);if(nt&&h.validatingFields&&w([H]),ht[$.name]&&(I.valid=!1,A))break;!A&&(se(ht,$.name)?Ae?r1(s.errors,ht,$.name):Qe(s.errors,$.name,ht[$.name]):kt(s.errors,$.name))}!zt(ie)&&await U(ie,A,I)}}return I.valid},T=()=>{for(const N of l.unMount){const A=se(a,N);A&&(A._f.refs?A._f.refs.every(I=>!Io(I)):!Io(A._f.ref))&&ut(N)}l.unMount=new Set},O=(N,A)=>!t.disabled&&(N&&A&&Qe(i,N,A),!tr(He(),n)),E=(N,A,I)=>Ox(N,l,{...o.mount?i:yt(A)?n:Rs(N)?{[N]:A}:A},I,A),R=N=>oo(se(o.mount?i:n,N,t.shouldUnregister?se(n,N,[]):[])),z=(N,A,I={})=>{const H=se(a,N);let V=A;if(H){const $=H._f;$&&(!$.disabled&&Qe(i,N,Bx(A,$)),V=ki($.ref)&&Ut(A)?"":A,Mx($.ref)?[...$.ref.options].forEach(ie=>ie.selected=V.includes(ie.value)):$.refs?Gn($.ref)?$.refs.length>1?$.refs.forEach(ie=>(!ie.defaultChecked||!ie.disabled)&&(ie.checked=Array.isArray(V)?!!V.find(Ae=>Ae===ie.value):V===ie.value)):$.refs[0]&&($.refs[0].checked=!!V):$.refs.forEach(ie=>ie.checked=ie.value===V):ac($.ref)?$.ref.value="":($.ref.value=V,$.ref.type||m.state.next({name:N,values:Tt(i)})))}(I.shouldDirty||I.shouldTouch)&&L(N,V,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&fe(N)},le=(N,A,I)=>{for(const H in A){const V=A[H],$=`${N}.${H}`,ie=se(a,$);(l.array.has(N)||vt(V)||ie&&!ie._f)&&!Fr(V)?le($,V,I):z($,V,I)}},J=(N,A,I={})=>{const H=se(a,N),V=l.array.has(N),$=Tt(A);Qe(i,N,$),V?(m.array.next({name:N,values:Tt(i)}),(h.isDirty||h.dirtyFields||c.isDirty||c.dirtyFields)&&I.shouldDirty&&m.state.next({name:N,dirtyFields:mn(n,i),isDirty:O(N,$)})):H&&!H._f&&!Ut($)?le(N,$,I):z(N,$,I),Cd(N,l)&&m.state.next({...s}),m.state.next({name:o.mount?N:void 0,values:Tt(i)})},ae=async N=>{o.mount=!0;const A=N.target;let I=A.name,H=!0;const V=se(a,I),$=ie=>{H=Number.isNaN(ie)||Fr(ie)&&isNaN(ie.getTime())||tr(ie,se(i,I,ie))};if(V){let ie,Ae;const nt=A.type?wd(V._f):Tx(N),ht=N.type===Ni.BLUR||N.type===Ni.FOCUS_OUT,Cr=!YN(V._f)&&!t.resolver&&!se(s.errors,I)&&!V._f.deps||t1(ht,se(s.touchedFields,I),s.isSubmitted,p,f),Ht=Cd(I,l,ht);Qe(i,I,nt),ht?(V._f.onBlur&&V._f.onBlur(N),d&&d(0)):V._f.onChange&&V._f.onChange(N);const ms=L(I,nt,ht),Sr=!zt(ms)||Ht;if(!ht&&m.state.next({name:I,type:N.type,values:Tt(i)}),Cr)return(h.isValid||c.isValid)&&(t.mode==="onBlur"?ht&&b():ht||b()),Sr&&m.state.next({name:I,...Ht?{}:ms});if(!ht&&Ht&&m.state.next({...s}),t.resolver){const{errors:Jn}=await B([I]);if($(nt),H){const ho=Sd(s.errors,a,I),Yn=Sd(Jn,a,ho.name||I);ie=Yn.error,I=Yn.name,Ae=zt(Jn)}}else w([I],!0),ie=(await Pd(V,l.disabled,i,v,t.shouldUseNativeValidation))[I],w([I]),$(nt),H&&(ie?Ae=!1:(h.isValid||c.isValid)&&(Ae=await U(a,!0)));H&&(V._f.deps&&fe(V._f.deps),Z(I,Ae,ie,ms))}},Pe=(N,A)=>{if(se(s.errors,A)&&N.focus)return N.focus(),1},fe=async(N,A={})=>{let I,H;const V=_n(N);if(t.resolver){const $=await F(yt(N)?N:V);I=zt($),H=N?!V.some(ie=>se($,ie)):I}else N?(H=(await Promise.all(V.map(async $=>{const ie=se(a,$);return await U(ie&&ie._f?{[$]:ie}:ie)}))).every(Boolean),!(!H&&!s.isValid)&&b()):H=I=await U(a);return m.state.next({...!Rs(N)||(h.isValid||c.isValid)&&I!==s.isValid?{}:{name:N},...t.resolver||!N?{isValid:I}:{},errors:s.errors}),A.shouldFocus&&!H&&Pn(a,Pe,N?V:l.mount),H},He=N=>{const A={...o.mount?i:n};return yt(N)?A:Rs(N)?se(A,N):N.map(I=>se(A,I))},Xe=(N,A)=>({invalid:!!se((A||s).errors,N),isDirty:!!se((A||s).dirtyFields,N),error:se((A||s).errors,N),isValidating:!!se(s.validatingFields,N),isTouched:!!se((A||s).touchedFields,N)}),et=N=>{N&&_n(N).forEach(A=>kt(s.errors,A)),m.state.next({errors:N?s.errors:{}})},it=(N,A,I)=>{const H=(se(a,N,{_f:{}})._f||{}).ref,V=se(s.errors,N)||{},{ref:$,message:ie,type:Ae,...nt}=V;Qe(s.errors,N,{...nt,...A,ref:H}),m.state.next({name:N,errors:s.errors,isValid:!1}),I&&I.shouldFocus&&H&&H.focus&&H.focus()},ee=(N,A)=>ws(N)?m.state.subscribe({next:I=>N(E(void 0,A),I)}):E(N,A,!0),W=N=>m.state.subscribe({next:A=>{e1(N.name,A.name,N.exact)&&XN(A,N.formState||h,tt,N.reRenderRoot)&&N.callback({values:{...i},...s,...A})}}).unsubscribe,We=N=>(o.mount=!0,c={...c,...N.formState},W({...N,formState:c})),ut=(N,A={})=>{for(const I of N?_n(N):l.mount)l.mount.delete(I),l.array.delete(I),A.keepValue||(kt(a,I),kt(i,I)),!A.keepError&&kt(s.errors,I),!A.keepDirty&&kt(s.dirtyFields,I),!A.keepTouched&&kt(s.touchedFields,I),!A.keepIsValidating&&kt(s.validatingFields,I),!t.shouldUnregister&&!A.keepDefaultValue&&kt(n,I);m.state.next({values:Tt(i)}),m.state.next({...s,...A.keepDirty?{isDirty:O()}:{}}),!A.keepIsValid&&b()},Ve=({disabled:N,name:A})=>{(ss(N)&&o.mount||N||l.disabled.has(A))&&(N?l.disabled.add(A):l.disabled.delete(A))},ye=(N,A={})=>{let I=se(a,N);const H=ss(A.disabled)||ss(t.disabled);return Qe(a,N,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:N}},name:N,mount:!0,...A}}),l.mount.add(N),I?Ve({disabled:ss(A.disabled)?A.disabled:t.disabled,name:N}):_(N,!0,A.value),{...H?{disabled:A.disabled||t.disabled}:{},...t.progressive?{required:!!A.required,min:xn(A.min),max:xn(A.max),minLength:xn(A.minLength),maxLength:xn(A.maxLength),pattern:xn(A.pattern)}:{},name:N,onChange:ae,onBlur:ae,ref:V=>{if(V){ye(N,A),I=se(a,N);const $=yt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,ie=WN($),Ae=I._f.refs||[];if(ie?Ae.find(nt=>nt===$):$===I._f.ref)return;Qe(a,N,{_f:{...I._f,...ie?{refs:[...Ae.filter(Io),$,...Array.isArray(se(n,N))?[{}]:[]],ref:{type:$.type,name:N}}:{ref:$}}}),_(N,!1,void 0,$)}else I=se(a,N,{}),I._f&&(I._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(Ex(l.array,N)&&o.action)&&l.unMount.add(N)}}},$e=()=>t.shouldFocusError&&Pn(a,Pe,l.mount),is=N=>{ss(N)&&(m.state.next({disabled:N}),Pn(a,(A,I)=>{const H=se(a,I);H&&(A.disabled=H._f.disabled||N,Array.isArray(H._f.refs)&&H._f.refs.forEach(V=>{V.disabled=H._f.disabled||N}))},0,!1))},ue=(N,A)=>async I=>{let H;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let V=Tt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:$,values:ie}=await B();s.errors=$,V=ie}else await U(a);if(l.disabled.size)for(const $ of l.disabled)Qe(V,$,void 0);if(kt(s.errors,"root"),zt(s.errors)){m.state.next({errors:{}});try{await N(V,I)}catch($){H=$}}else A&&await A({...s.errors},I),$e(),setTimeout($e);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(s.errors)&&!H,submitCount:s.submitCount+1,errors:s.errors}),H)throw H},me=(N,A={})=>{se(a,N)&&(yt(A.defaultValue)?J(N,Tt(se(n,N))):(J(N,A.defaultValue),Qe(n,N,Tt(A.defaultValue))),A.keepTouched||kt(s.touchedFields,N),A.keepDirty||(kt(s.dirtyFields,N),s.isDirty=A.defaultValue?O(N,Tt(se(n,N))):O()),A.keepError||(kt(s.errors,N),h.isValid&&b()),m.state.next({...s}))},rt=(N,A={})=>{const I=N?Tt(N):n,H=Tt(I),V=zt(N),$=V?n:H;if(A.keepDefaultValues||(n=I),!A.keepValues){if(A.keepDirtyValues){const ie=new Set([...l.mount,...Object.keys(mn(n,i))]);for(const Ae of Array.from(ie))se(s.dirtyFields,Ae)?Qe($,Ae,se(i,Ae)):J(Ae,se($,Ae))}else{if(sc&&yt(N))for(const ie of l.mount){const Ae=se(a,ie);if(Ae&&Ae._f){const nt=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(ki(nt)){const ht=nt.closest("form");if(ht){ht.reset();break}}}}for(const ie of l.mount)J(ie,se($,ie))}i=Tt($),m.array.next({values:{...$}}),m.state.next({values:{...$}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:A.keepSubmitCount?s.submitCount:0,isDirty:V?!1:A.keepDirty?s.isDirty:!!(A.keepDefaultValues&&!tr(N,n)),isSubmitted:A.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:V?{}:A.keepDirtyValues?A.keepDefaultValues&&i?mn(n,i):s.dirtyFields:A.keepDefaultValues&&N?mn(n,N):A.keepDirty?s.dirtyFields:{},touchedFields:A.keepTouched?s.touchedFields:{},errors:A.keepErrors?s.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},jt=(N,A)=>rt(ws(N)?N(i):N,A),It=(N,A={})=>{const I=se(a,N),H=I&&I._f;if(H){const V=H.refs?H.refs[0]:H.ref;V.focus&&(V.focus(),A.shouldSelect&&ws(V.select)&&V.select())}},tt=N=>{s={...s,...N}},Hs={control:{register:ye,unregister:ut,getFieldState:Xe,handleSubmit:ue,setError:it,_subscribe:W,_runSchema:B,_getWatch:E,_getDirty:O,_setValid:b,_setFieldArray:j,_setDisabledField:Ve,_setErrors:P,_getFieldArray:R,_reset:rt,_resetDefaultValues:()=>ws(t.defaultValues)&&t.defaultValues().then(N=>{jt(N,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:is,_subjects:m,_proxyFormState:h,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return n},get _names(){return l},set _names(N){l=N},get _formState(){return s},get _options(){return t},set _options(N){t={...t,...N}}},subscribe:We,trigger:fe,register:ye,handleSubmit:ue,watch:ee,setValue:J,getValues:He,reset:jt,resetField:me,clearErrors:et,unregister:ut,setError:it,setFocus:It,getFieldState:Xe};return{...Hs,formControl:Hs}}function yn(r={}){const t=Be.useRef(void 0),s=Be.useRef(void 0),[a,n]=Be.useState({isDirty:!1,isValidating:!1,isLoading:ws(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:ws(r.defaultValues)?void 0:r.defaultValues});t.current||(t.current={...r.formControl?r.formControl:n1(r),formState:a},r.formControl&&r.defaultValues&&!ws(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const i=t.current.control;return i._options=r,Be.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0}),[i]),Be.useEffect(()=>i._disableForm(r.disabled),[i,r.disabled]),Be.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),Be.useEffect(()=>{r.values&&!tr(r.values,s.current)?(i._reset(r.values,i._options.resetOptions),s.current=r.values,n(o=>({...o}))):i._resetDefaultValues()},[r.values,i]),Be.useEffect(()=>{r.errors&&!zt(r.errors)&&i._setErrors(r.errors)},[r.errors,i]),Be.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Be.useEffect(()=>{r.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[r.shouldUnregister,i]),t.current.formState=Ix(a,i),t.current}const Td=(r,t,s)=>{if(r&&"reportValidity"in r){const a=se(s,t);r.setCustomValidity(a&&a.message||""),r.reportValidity()}},Ux=(r,t)=>{for(const s in t.fields){const a=t.fields[s];a&&a.ref&&"reportValidity"in a.ref?Td(a.ref,s,r):a.refs&&a.refs.forEach(n=>Td(n,s,r))}},i1=(r,t)=>{t.shouldUseNativeValidation&&Ux(r,t);const s={};for(const a in r){const n=se(t.fields,a),i=Object.assign(r[a]||{},{ref:n&&n.ref});if(o1(t.names||Object.keys(r),a)){const o=Object.assign({},se(s,a));Qe(o,"root",i),Qe(s,a,o)}else Qe(s,a,i)}return s},o1=(r,t)=>r.some(s=>s.startsWith(t+"."));var l1=function(r,t){for(var s={};r.length;){var a=r[0],n=a.code,i=a.message,o=a.path.join(".");if(!s[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(h){return h.errors.forEach(function(c){return r.push(c)})}),t){var d=s[o].types,u=d&&d[a.code];s[o]=Lx(o,t,s,n,u?[].concat(u,a.message):a.message)}r.shift()}return s},vn=function(r,t,s){return s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve(function(o,l){try{var d=Promise.resolve(r[s.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(u){return i.shouldUseNativeValidation&&Ux({},i),{errors:{},values:s.raw?a:u}})}catch(u){return l(u)}return d&&d.then?d.then(void 0,l):d}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:i1(l1(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},qe;(function(r){r.assertEqual=n=>{};function t(n){}r.assertIs=t;function s(n){throw new Error}r.assertNever=s,r.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},r.getValidEnumValues=n=>{const i=r.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return r.objectValues(o)},r.objectValues=n=>r.objectKeys(n).map(function(i){return n[i]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},r.find=(n,i)=>{for(const o of n)if(i(o))return o},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}r.joinValues=a,r.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(qe||(qe={}));var Ed;(function(r){r.mergeShapes=(t,s)=>({...t,...s})})(Ed||(Ed={}));const ce=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xs=r=>{switch(typeof r){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(r)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(r)?ce.array:r===null?ce.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?ce.promise:typeof Map<"u"&&r instanceof Map?ce.map:typeof Set<"u"&&r instanceof Set?ce.set:typeof Date<"u"&&r instanceof Date?ce.date:ce.object;default:return ce.unknown}},G=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(s(o));else{let l=a,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(s(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return n(this),a}static assert(t){if(!(t instanceof qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(t(n))}else a.push(t(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}qs.create=r=>new qs(r);const Sl=(r,t)=>{let s;switch(r.code){case G.invalid_type:r.received===ce.undefined?s="Required":s=`Expected ${r.expected}, received ${r.received}`;break;case G.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(r.expected,qe.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:s=`Unrecognized key(s) in object: ${qe.joinValues(r.keys,", ")}`;break;case G.invalid_union:s="Invalid input";break;case G.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${qe.joinValues(r.options)}`;break;case G.invalid_enum_value:s=`Invalid enum value. Expected ${qe.joinValues(r.options)}, received '${r.received}'`;break;case G.invalid_arguments:s="Invalid function arguments";break;case G.invalid_return_type:s="Invalid function return type";break;case G.invalid_date:s="Invalid date";break;case G.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(s=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?s=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?s=`Invalid input: must end with "${r.validation.endsWith}"`:qe.assertNever(r.validation):r.validation!=="regex"?s=`Invalid ${r.validation}`:s="Invalid";break;case G.too_small:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?s=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:s="Invalid input";break;case G.too_big:r.type==="array"?s=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?s=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?s=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?s=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?s=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:s="Invalid input";break;case G.custom:s="Invalid input";break;case G.invalid_intersection_types:s="Intersection results could not be merged";break;case G.not_multiple_of:s=`Number must be a multiple of ${r.multipleOf}`;break;case G.not_finite:s="Number must be finite";break;default:s=t.defaultError,qe.assertNever(r)}return{message:s}};let c1=Sl;function d1(){return c1}const u1=r=>{const{data:t,path:s,errorMaps:a,issueData:n}=r,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const d=a.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:t,defaultError:l}).message;return{...n,path:i,message:l}};function ne(r,t){const s=d1(),a=u1({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,s,s===Sl?void 0:Sl].filter(n=>!!n)});r.common.issues.push(a)}class ns{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const a=[];for(const n of s){if(n.status==="aborted")return be;n.status==="dirty"&&t.dirty(),a.push(n.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,s){const a=[];for(const n of s){const i=await n.key,o=await n.value;a.push({key:i,value:o})}return ns.mergeObjectSync(t,a)}static mergeObjectSync(t,s){const a={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return be;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const be=Object.freeze({status:"aborted"}),bn=r=>({status:"dirty",value:r}),hs=r=>({status:"valid",value:r}),Ad=r=>r.status==="aborted",Rd=r=>r.status==="dirty",qa=r=>r.status==="valid",_i=r=>typeof Promise<"u"&&r instanceof Promise;var de;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(de||(de={}));class vr{constructor(t,s,a,n){this._cachedPath=[],this.parent=t,this.data=s,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Id=(r,t)=>{if(qa(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new qs(r.common.issues);return this._error=s,this._error}}};function Re(r){if(!r)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:n}=r;if(t&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:d}=r;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:d??s??l.defaultError}},description:n}}class Ue{get description(){return this._def.description}_getType(t){return Xs(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Xs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ns,ctx:{common:t.parent.common,data:t.data,parsedType:Xs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(_i(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const a=this.safeParse(t,s);if(a.success)return a.data;throw a.error}safeParse(t,s){const a={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xs(t)},n=this._parseSync({data:t,path:a.path,parent:a});return Id(a,n)}"~validate"(t){var a,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xs(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return qa(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(n=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>qa(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const a=await this.safeParseAsync(t,s);if(a.success)return a.data;throw a.error}async safeParseAsync(t,s){const a={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xs(t)},n=this._parse({data:t,path:a.path,parent:a}),i=await(_i(n)?n:Promise.resolve(n));return Id(a,i)}refine(t,s){const a=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=t(n),l=()=>i.addIssue({code:G.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((a,n)=>t(a)?!0:(n.addIssue(typeof s=="function"?s(a,n):s),!1))}_refinement(t){return new Wa({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return fr.create(this,this._def)}nullable(){return Qa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Is.create(this)}promise(){return Ei.create(this,this._def)}or(t){return Pi.create([this,t],this._def)}and(t){return Ti.create(this,t,this._def)}transform(t){return new Wa({...Re(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Tl({...Re(this._def),innerType:this,defaultValue:s,typeName:je.ZodDefault})}brand(){return new O1({typeName:je.ZodBranded,type:this,...Re(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new El({...Re(this._def),innerType:this,catchValue:s,typeName:je.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return ic.create(this,t)}readonly(){return Al.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const h1=/^c[^\s-]{8,}$/i,m1=/^[0-9a-z]+$/,x1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,f1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g1=/^[a-z0-9_-]{21}$/i,p1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,y1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,v1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Oo;const j1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,N1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,C1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,S1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Vx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_1=new RegExp(`^${Vx}$`);function qx(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const s=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function P1(r){return new RegExp(`^${qx(r)}$`)}function T1(r){let t=`${Vx}T${qx(r)}`;const s=[];return s.push(r.local?"Z?":"Z"),r.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function E1(r,t){return!!((t==="v4"||!t)&&j1.test(r)||(t==="v6"||!t)&&N1.test(r))}function A1(r,t){if(!p1.test(r))return!1;try{const[s]=r.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function R1(r,t){return!!((t==="v4"||!t)&&w1.test(r)||(t==="v6"||!t)&&k1.test(r))}class ur extends Ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const i=this._getOrReturnCtx(t);return ne(i,{code:G.invalid_type,expected:ce.string,received:i.parsedType}),be}const a=new ns;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),ne(n,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),ne(n,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?ne(n,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ne(n,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")v1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"email",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Oo||(Oo=new RegExp(b1,"u")),Oo.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"emoji",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")f1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"uuid",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")g1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"nanoid",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")h1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"cuid",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")m1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"cuid2",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")x1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"ulid",code:G.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),ne(n,{validation:"url",code:G.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"regex",code:G.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?T1(i).test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?_1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?P1(i).test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{code:G.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?y1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"duration",code:G.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?E1(t.data,i.version)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"ip",code:G.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?A1(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"jwt",code:G.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?R1(t.data,i.version)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"cidr",code:G.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?C1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"base64",code:G.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?S1.test(t.data)||(n=this._getOrReturnCtx(t,n),ne(n,{validation:"base64url",code:G.invalid_string,message:i.message}),a.dirty()):qe.assertNever(i);return{status:a.value,value:t.data}}_regex(t,s,a){return this.refinement(n=>t.test(n),{validation:s,code:G.invalid_string,...de.errToObj(a)})}_addCheck(t){return new ur({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...de.errToObj(t)})}url(t){return this._addCheck({kind:"url",...de.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...de.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...de.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...de.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...de.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...de.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...de.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...de.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...de.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...de.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...de.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...de.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...de.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...de.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...de.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...de.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...de.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...de.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...de.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...de.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...de.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...de.errToObj(s)})}nonempty(t){return this.min(1,de.errToObj(t))}trim(){return new ur({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ur({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ur({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ur.create=r=>new ur({checks:[],typeName:je.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Re(r)});function I1(r,t){const s=(r.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,n=s>a?s:a,i=Number.parseInt(r.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return i%o/10**n}class Ha extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const i=this._getOrReturnCtx(t);return ne(i,{code:G.invalid_type,expected:ce.number,received:i.parsedType}),be}let a;const n=new ns;for(const i of this._def.checks)i.kind==="int"?qe.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),ne(a,{code:G.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?I1(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),ne(a,{code:G.not_finite,message:i.message}),n.dirty()):qe.assertNever(i);return{status:n.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,de.toString(s))}gt(t,s){return this.setLimit("min",t,!1,de.toString(s))}lte(t,s){return this.setLimit("max",t,!0,de.toString(s))}lt(t,s){return this.setLimit("max",t,!1,de.toString(s))}setLimit(t,s,a,n){return new Ha({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:de.toString(n)}]})}_addCheck(t){return new Ha({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:de.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:de.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:de.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qe.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Ha.create=r=>new Ha({checks:[],typeName:je.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Re(r)});class Mn extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ce.bigint)return this._getInvalidInput(t);let a;const n=new ns;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),ne(a,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):qe.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return ne(s,{code:G.invalid_type,expected:ce.bigint,received:s.parsedType}),be}gte(t,s){return this.setLimit("min",t,!0,de.toString(s))}gt(t,s){return this.setLimit("min",t,!1,de.toString(s))}lte(t,s){return this.setLimit("max",t,!0,de.toString(s))}lt(t,s){return this.setLimit("max",t,!1,de.toString(s))}setLimit(t,s,a,n){return new Mn({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:a,message:de.toString(n)}]})}_addCheck(t){return new Mn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:de.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Mn.create=r=>new Mn({checks:[],typeName:je.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Re(r)});class _l extends Ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.boolean,received:a.parsedType}),be}return hs(t.data)}}_l.create=r=>new _l({typeName:je.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Re(r)});class Dn extends Ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const i=this._getOrReturnCtx(t);return ne(i,{code:G.invalid_type,expected:ce.date,received:i.parsedType}),be}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ne(i,{code:G.invalid_date}),be}const a=new ns;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),ne(n,{code:G.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),ne(n,{code:G.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):qe.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dn({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:de.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:de.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Dn.create=r=>new Dn({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:je.ZodDate,...Re(r)});class Od extends Ue{_parse(t){if(this._getType(t)!==ce.symbol){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.symbol,received:a.parsedType}),be}return hs(t.data)}}Od.create=r=>new Od({typeName:je.ZodSymbol,...Re(r)});class Ld extends Ue{_parse(t){if(this._getType(t)!==ce.undefined){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.undefined,received:a.parsedType}),be}return hs(t.data)}}Ld.create=r=>new Ld({typeName:je.ZodUndefined,...Re(r)});class Md extends Ue{_parse(t){if(this._getType(t)!==ce.null){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.null,received:a.parsedType}),be}return hs(t.data)}}Md.create=r=>new Md({typeName:je.ZodNull,...Re(r)});class Dd extends Ue{constructor(){super(...arguments),this._any=!0}_parse(t){return hs(t.data)}}Dd.create=r=>new Dd({typeName:je.ZodAny,...Re(r)});class Fd extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return hs(t.data)}}Fd.create=r=>new Fd({typeName:je.ZodUnknown,...Re(r)});class br extends Ue{_parse(t){const s=this._getOrReturnCtx(t);return ne(s,{code:G.invalid_type,expected:ce.never,received:s.parsedType}),be}}br.create=r=>new br({typeName:je.ZodNever,...Re(r)});class $d extends Ue{_parse(t){if(this._getType(t)!==ce.undefined){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.void,received:a.parsedType}),be}return hs(t.data)}}$d.create=r=>new $d({typeName:je.ZodVoid,...Re(r)});class Is extends Ue{_parse(t){const{ctx:s,status:a}=this._processInputParams(t),n=this._def;if(s.parsedType!==ce.array)return ne(s,{code:G.invalid_type,expected:ce.array,received:s.parsedType}),be;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(ne(s,{code:o?G.too_big:G.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(ne(s,{code:G.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(ne(s,{code:G.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new vr(s,o,s.path,l)))).then(o=>ns.mergeArray(a,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new vr(s,o,s.path,l)));return ns.mergeArray(a,i)}get element(){return this._def.type}min(t,s){return new Is({...this._def,minLength:{value:t,message:de.toString(s)}})}max(t,s){return new Is({...this._def,maxLength:{value:t,message:de.toString(s)}})}length(t,s){return new Is({...this._def,exactLength:{value:t,message:de.toString(s)}})}nonempty(t){return this.min(1,t)}}Is.create=(r,t)=>new Is({type:r,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...Re(t)});function ma(r){if(r instanceof pt){const t={};for(const s in r.shape){const a=r.shape[s];t[s]=fr.create(ma(a))}return new pt({...r._def,shape:()=>t})}else return r instanceof Is?new Is({...r._def,type:ma(r.element)}):r instanceof fr?fr.create(ma(r.unwrap())):r instanceof Qa?Qa.create(ma(r.unwrap())):r instanceof Yr?Yr.create(r.items.map(t=>ma(t))):r}class pt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=qe.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==ce.object){const u=this._getOrReturnCtx(t);return ne(u,{code:G.invalid_type,expected:ce.object,received:u.parsedType}),be}const{status:a,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof br&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const h=i[u],c=n.data[u];d.push({key:{status:"valid",value:u},value:h._parse(new vr(n,c,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof br){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)d.push({key:{status:"valid",value:h},value:{status:"valid",value:n.data[h]}});else if(u==="strict")l.length>0&&(ne(n,{code:G.unrecognized_keys,keys:l}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const c=n.data[h];d.push({key:{status:"valid",value:h},value:u._parse(new vr(n,c,n.path,h)),alwaysSet:h in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of d){const c=await h.key,m=await h.value;u.push({key:c,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>ns.mergeObjectSync(a,u)):ns.mergeObjectSync(a,d)}get shape(){return this._def.shape()}strict(t){return de.errToObj,new pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,a)=>{var i,o;const n=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,a).message)??a.defaultError;return s.code==="unrecognized_keys"?{message:de.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:je.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new pt({...this._def,catchall:t})}pick(t){const s={};for(const a of qe.objectKeys(t))t[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new pt({...this._def,shape:()=>s})}omit(t){const s={};for(const a of qe.objectKeys(this.shape))t[a]||(s[a]=this.shape[a]);return new pt({...this._def,shape:()=>s})}deepPartial(){return ma(this)}partial(t){const s={};for(const a of qe.objectKeys(this.shape)){const n=this.shape[a];t&&!t[a]?s[a]=n:s[a]=n.optional()}return new pt({...this._def,shape:()=>s})}required(t){const s={};for(const a of qe.objectKeys(this.shape))if(t&&!t[a])s[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof fr;)i=i._def.innerType;s[a]=i}return new pt({...this._def,shape:()=>s})}keyof(){return Hx(qe.objectKeys(this.shape))}}pt.create=(r,t)=>new pt({shape:()=>r,unknownKeys:"strip",catchall:br.create(),typeName:je.ZodObject,...Re(t)});pt.strictCreate=(r,t)=>new pt({shape:()=>r,unknownKeys:"strict",catchall:br.create(),typeName:je.ZodObject,...Re(t)});pt.lazycreate=(r,t)=>new pt({shape:r,unknownKeys:"strip",catchall:br.create(),typeName:je.ZodObject,...Re(t)});class Pi extends Ue{_parse(t){const{ctx:s}=this._processInputParams(t),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new qs(l.ctx.common.issues));return ne(s,{code:G.invalid_union,unionErrors:o}),be}if(s.common.async)return Promise.all(a.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const d of a){const u={...s,common:{...s.common,issues:[]},parent:null},h=d._parseSync({data:s.data,path:s.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new qs(d));return ne(s,{code:G.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}Pi.create=(r,t)=>new Pi({options:r,typeName:je.ZodUnion,...Re(t)});function Pl(r,t){const s=Xs(r),a=Xs(t);if(r===t)return{valid:!0,data:r};if(s===ce.object&&a===ce.object){const n=qe.objectKeys(t),i=qe.objectKeys(r).filter(l=>n.indexOf(l)!==-1),o={...r,...t};for(const l of i){const d=Pl(r[l],t[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(s===ce.array&&a===ce.array){if(r.length!==t.length)return{valid:!1};const n=[];for(let i=0;i<r.length;i++){const o=r[i],l=t[i],d=Pl(o,l);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return s===ce.date&&a===ce.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class Ti extends Ue{_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=(i,o)=>{if(Ad(i)||Ad(o))return be;const l=Pl(i.value,o.value);return l.valid?((Rd(i)||Rd(o))&&s.dirty(),{status:s.value,value:l.data}):(ne(a,{code:G.invalid_intersection_types}),be)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Ti.create=(r,t,s)=>new Ti({left:r,right:t,typeName:je.ZodIntersection,...Re(s)});class Yr extends Ue{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ce.array)return ne(a,{code:G.invalid_type,expected:ce.array,received:a.parsedType}),be;if(a.data.length<this._def.items.length)return ne(a,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&a.data.length>this._def.items.length&&(ne(a,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...a.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new vr(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>ns.mergeArray(s,o)):ns.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new Yr({...this._def,rest:t})}}Yr.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yr({items:r,typeName:je.ZodTuple,rest:null,...Re(t)})};class Bd extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ce.map)return ne(a,{code:G.invalid_type,expected:ce.map,received:a.parsedType}),be;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,d],u)=>({key:n._parse(new vr(a,l,a.path,[u,"key"])),value:i._parse(new vr(a,d,a.path,[u,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,h=await d.value;if(u.status==="aborted"||h.status==="aborted")return be;(u.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(u.value,h.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,h=d.value;if(u.status==="aborted"||h.status==="aborted")return be;(u.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(u.value,h.value)}return{status:s.value,value:l}}}}Bd.create=(r,t,s)=>new Bd({valueType:t,keyType:r,typeName:je.ZodMap,...Re(s)});class Fn extends Ue{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.parsedType!==ce.set)return ne(a,{code:G.invalid_type,expected:ce.set,received:a.parsedType}),be;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(ne(a,{code:G.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(ne(a,{code:G.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(d){const u=new Set;for(const h of d){if(h.status==="aborted")return be;h.status==="dirty"&&s.dirty(),u.add(h.value)}return{status:s.value,value:u}}const l=[...a.data.values()].map((d,u)=>i._parse(new vr(a,d,a.path,u)));return a.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(t,s){return new Fn({...this._def,minSize:{value:t,message:de.toString(s)}})}max(t,s){return new Fn({...this._def,maxSize:{value:t,message:de.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Fn.create=(r,t)=>new Fn({valueType:r,minSize:null,maxSize:null,typeName:je.ZodSet,...Re(t)});class zd extends Ue{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}zd.create=(r,t)=>new zd({getter:r,typeName:je.ZodLazy,...Re(t)});class Ud extends Ue{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return ne(s,{received:s.data,code:G.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ud.create=(r,t)=>new Ud({value:r,typeName:je.ZodLiteral,...Re(t)});function Hx(r,t){return new Ka({values:r,typeName:je.ZodEnum,...Re(t)})}class Ka extends Ue{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),a=this._def.values;return ne(s,{expected:qe.joinValues(a),received:s.parsedType,code:G.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),a=this._def.values;return ne(s,{received:s.data,code:G.invalid_enum_value,options:a}),be}return hs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Ka.create(t,{...this._def,...s})}exclude(t,s=this._def){return Ka.create(this.options.filter(a=>!t.includes(a)),{...this._def,...s})}}Ka.create=Hx;class Vd extends Ue{_parse(t){const s=qe.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==ce.string&&a.parsedType!==ce.number){const n=qe.objectValues(s);return ne(a,{expected:qe.joinValues(n),received:a.parsedType,code:G.invalid_type}),be}if(this._cache||(this._cache=new Set(qe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=qe.objectValues(s);return ne(a,{received:a.data,code:G.invalid_enum_value,options:n}),be}return hs(t.data)}get enum(){return this._def.values}}Vd.create=(r,t)=>new Vd({values:r,typeName:je.ZodNativeEnum,...Re(t)});class Ei extends Ue{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ce.promise&&s.common.async===!1)return ne(s,{code:G.invalid_type,expected:ce.promise,received:s.parsedType}),be;const a=s.parsedType===ce.promise?s.data:Promise.resolve(s.data);return hs(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Ei.create=(r,t)=>new Ei({type:r,typeName:je.ZodPromise,...Re(t)});class Wa extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:a}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{ne(a,o),o.fatal?s.abort():s.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return be;const d=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return d.status==="aborted"?be:d.status==="dirty"||s.value==="dirty"?bn(d.value):d});{if(s.value==="aborted")return be;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?be:l.status==="dirty"||s.value==="dirty"?bn(l.value):l}}if(n.type==="refinement"){const o=l=>{const d=n.refinement(l,i);if(a.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?be:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!qa(o))return be;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>qa(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):be);qe.assertNever(n)}}Wa.create=(r,t,s)=>new Wa({schema:r,typeName:je.ZodEffects,effect:t,...Re(s)});Wa.createWithPreprocess=(r,t,s)=>new Wa({schema:t,effect:{type:"preprocess",transform:r},typeName:je.ZodEffects,...Re(s)});class fr extends Ue{_parse(t){return this._getType(t)===ce.undefined?hs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fr.create=(r,t)=>new fr({innerType:r,typeName:je.ZodOptional,...Re(t)});class Qa extends Ue{_parse(t){return this._getType(t)===ce.null?hs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qa.create=(r,t)=>new Qa({innerType:r,typeName:je.ZodNullable,...Re(t)});class Tl extends Ue{_parse(t){const{ctx:s}=this._processInputParams(t);let a=s.data;return s.parsedType===ce.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Tl.create=(r,t)=>new Tl({innerType:r,typeName:je.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Re(t)});class El extends Ue{_parse(t){const{ctx:s}=this._processInputParams(t),a={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return _i(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qs(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new qs(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}El.create=(r,t)=>new El({innerType:r,typeName:je.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Re(t)});class qd extends Ue{_parse(t){if(this._getType(t)!==ce.nan){const a=this._getOrReturnCtx(t);return ne(a,{code:G.invalid_type,expected:ce.nan,received:a.parsedType}),be}return{status:"valid",value:t.data}}}qd.create=r=>new qd({typeName:je.ZodNaN,...Re(r)});class O1 extends Ue{_parse(t){const{ctx:s}=this._processInputParams(t),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class ic extends Ue{_parse(t){const{status:s,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?be:i.status==="dirty"?(s.dirty(),bn(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?be:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(t,s){return new ic({in:t,out:s,typeName:je.ZodPipeline})}}class Al extends Ue{_parse(t){const s=this._def.innerType._parse(t),a=n=>(qa(n)&&(n.value=Object.freeze(n.value)),n);return _i(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}Al.create=(r,t)=>new Al({innerType:r,typeName:je.ZodReadonly,...Re(t)});pt.lazycreate;var je;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(je||(je={}));const Ze=ur.create,pa=Ha.create,$r=_l.create,Hd=Dn.create;br.create;Is.create;const nn=pt.create;pt.strictCreate;Pi.create;Ti.create;Yr.create;const L1=Ka.create;Ei.create;fr.create;Qa.create;const As=x.forwardRef(({className:r,...t},s)=>e.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...t}));As.displayName="Textarea";var oc="Tabs",[M1,Nk]=ks(oc,[Bi]),Kx=Bi(),[D1,lc]=M1(oc),Wx=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=r,h=Oi(l),[c,m]=gr({prop:a,onChange:n,defaultProp:i});return e.jsx(D1,{scope:s,baseId:Ii(),value:c,onValueChange:m,orientation:o,dir:h,activationMode:d,children:e.jsx(_e.div,{dir:h,"data-orientation":o,...u,ref:t})})});Wx.displayName=oc;var Qx="TabsList",Gx=x.forwardRef((r,t)=>{const{__scopeTabs:s,loop:a=!0,...n}=r,i=lc(Qx,s),o=Kx(s);return e.jsx(gu,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:e.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});Gx.displayName=Qx;var Zx="TabsTrigger",Jx=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=r,o=lc(Zx,s),l=Kx(s),d=ef(o.baseId,a),u=tf(o.baseId,a),h=a===o.value;return e.jsx(pu,{asChild:!0,...l,focusable:!n,active:h,children:e.jsx(_e.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:t,onMouseDown:ge(r.onMouseDown,c=>{!n&&c.button===0&&c.ctrlKey===!1?o.onValueChange(a):c.preventDefault()}),onKeyDown:ge(r.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&o.onValueChange(a)}),onFocus:ge(r.onFocus,()=>{const c=o.activationMode!=="manual";!h&&!n&&c&&o.onValueChange(a)})})})});Jx.displayName=Zx;var Yx="TabsContent",Xx=x.forwardRef((r,t)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=r,l=lc(Yx,s),d=ef(l.baseId,a),u=tf(l.baseId,a),h=a===l.value,c=x.useRef(h);return x.useEffect(()=>{const m=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(Vn,{present:n||h,children:({present:m})=>e.jsx(_e.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...r.style,animationDuration:c.current?"0s":void 0},children:m&&i})})});Xx.displayName=Yx;function ef(r,t){return`${r}-trigger-${t}`}function tf(r,t){return`${r}-content-${t}`}var F1=Wx,sf=Gx,rf=Jx,af=Xx;const cc=F1,co=x.forwardRef(({className:r,...t},s)=>e.jsx(sf,{ref:s,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t}));co.displayName=sf.displayName;const vs=x.forwardRef(({className:r,...t},s)=>e.jsx(rf,{ref:s,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t}));vs.displayName=rf.displayName;const bs=x.forwardRef(({className:r,...t},s)=>e.jsx(af,{ref:s,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t}));bs.displayName=af.displayName;var dc="Switch",[$1,kk]=ks(dc),[B1,z1]=$1(dc),nf=x.forwardRef((r,t)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...c}=r,[m,f]=x.useState(null),p=dt(t,j=>f(j)),v=x.useRef(!1),y=m?h||!!m.closest("form"):!0,[b=!1,w]=gr({prop:n,defaultProp:i,onChange:u});return e.jsxs(B1,{scope:s,checked:b,disabled:l,children:[e.jsx(_e.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":cf(b),"data-disabled":l?"":void 0,disabled:l,value:d,...c,ref:p,onClick:ge(r.onClick,j=>{w(C=>!C),y&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),y&&e.jsx(U1,{control:m,bubbles:!v.current,name:a,value:d,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});nf.displayName=dc;var of="SwitchThumb",lf=x.forwardRef((r,t)=>{const{__scopeSwitch:s,...a}=r,n=z1(of,s);return e.jsx(_e.span,{"data-state":cf(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})});lf.displayName=of;var U1=r=>{const{control:t,checked:s,bubbles:a=!0,...n}=r,i=x.useRef(null),o=Wn(s),l=Li(t);return x.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==s&&c){const m=new Event("click",{bubbles:a});c.call(d,s),d.dispatchEvent(m)}},[o,s,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...r.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cf(r){return r?"checked":"unchecked"}var df=nf,V1=lf;const Rr=x.forwardRef(({className:r,...t},s)=>e.jsx(df,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...t,ref:s,children:e.jsx(V1,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rr.displayName=df.displayName;const xa=xu,q1=fu,H1=mu,uf=x.forwardRef(({className:r,...t},s)=>e.jsx(Mi,{ref:s,className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t}));uf.displayName=Mi.displayName;const Lr=x.forwardRef(({className:r,children:t,...s},a)=>e.jsxs(H1,{children:[e.jsx(uf,{}),e.jsxs(Di,{ref:a,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white text-gray-900 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s,children:[t,e.jsxs(hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lr.displayName=Di.displayName;const Mr=({className:r,...t})=>e.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",r),...t});Mr.displayName="DialogHeader";const fa=({className:r,...t})=>e.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t});fa.displayName="DialogFooter";const Dr=x.forwardRef(({className:r,...t},s)=>e.jsx(Fi,{ref:s,className:X("text-lg font-semibold leading-none tracking-tight",r),...t}));Dr.displayName=Fi.displayName;const ga=x.forwardRef(({className:r,...t},s)=>e.jsx($i,{ref:s,className:X("text-sm text-muted-foreground",r),...t}));ga.displayName=$i.displayName;const jn=UN,hf=x.createContext({}),De=({...r})=>e.jsx(hf.Provider,{value:{name:r.name},children:e.jsx(KN,{...r})}),uo=()=>{const r=x.useContext(hf),t=x.useContext(mf),{getFieldState:s,formState:a}=lo(),n=s(r.name,a);if(!r)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:r.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},mf=x.createContext({}),Ie=x.forwardRef(({className:r,...t},s)=>{const a=x.useId();return e.jsx(mf.Provider,{value:{id:a},children:e.jsx("div",{ref:s,className:X("space-y-2",r),...t})})});Ie.displayName="FormItem";const Oe=x.forwardRef(({className:r,...t},s)=>{const{error:a,formItemId:n}=uo();return e.jsx(Se,{ref:s,className:X(a&&"text-destructive",r),htmlFor:n,...t})});Oe.displayName="FormLabel";const Le=x.forwardRef(({...r},t)=>{const{error:s,formItemId:a,formDescriptionId:n,formMessageId:i}=uo();return e.jsx(uu,{ref:t,id:a,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...r})});Le.displayName="FormControl";const K1=x.forwardRef(({className:r,...t},s)=>{const{formDescriptionId:a}=uo();return e.jsx("p",{ref:s,id:a,className:X("text-sm text-muted-foreground",r),...t})});K1.displayName="FormDescription";const Ke=x.forwardRef(({className:r,children:t,...s},a)=>{const{error:n,formMessageId:i}=uo(),o=n?String((n==null?void 0:n.message)??""):t;return o?e.jsx("p",{ref:a,id:i,className:X("text-sm font-medium text-destructive",r),...s,children:o}):null});Ke.displayName="FormMessage";function Lo({value:r,onChange:t,className:s,disabled:a=!1}){const[n,i]=x.useState(!1),[o,l]=x.useState(r),[d,u]=x.useState(""),h=x.useRef(null),{toast:c}=bt(),m=async b=>{if(!b.type.startsWith("image/")){c({title:"Invalid file type",description:"Please select an image file (PNG, JPG, JPEG, GIF)",variant:"destructive"});return}if(b.size>5*1024*1024){c({title:"File too large",description:"Image must be smaller than 5MB",variant:"destructive"});return}i(!0);try{const w=new FormData;w.append("image",b);const j=await fetch("/api/upload/image",{method:"POST",body:w});if(!j.ok)throw new Error("Upload failed");const P=(await j.json()).imageUrl;l(P),t(P),c({title:"Upload successful",description:"Image has been uploaded successfully"})}catch(w){console.error("Upload error:",w),c({title:"Upload failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{i(!1)}},f=b=>{b.preventDefault();const w=b.dataTransfer.files[0];w&&m(w)},p=b=>{var j;const w=(j=b.target.files)==null?void 0:j[0];w&&m(w)},v=()=>{if(!d){c({title:"URL required",description:"Please enter an image URL",variant:"destructive"});return}try{new URL(d),l(d),t(d),u(""),c({title:"URL added",description:"Image URL has been set successfully"})}catch{c({title:"Invalid URL",description:"Please enter a valid image URL",variant:"destructive"})}},y=()=>{l(""),t(""),u(""),h.current&&(h.current.value="")};return e.jsxs("div",{className:s,children:[e.jsxs(cc,{defaultValue:"upload",className:"w-full",children:[e.jsxs(co,{className:"grid w-full grid-cols-2",children:[e.jsx(vs,{value:"upload",children:"Upload File"}),e.jsx(vs,{value:"url",children:"Image URL"})]}),e.jsx(bs,{value:"upload",className:"space-y-4",children:e.jsxs("div",{onDrop:f,onDragOver:b=>b.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>{var b;return(b=h.current)==null?void 0:b.click()},children:[e.jsx(z0,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:n?"Uploading...":"Drag and drop an image here, or click to select"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG, GIF up to 5MB"}),e.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden",disabled:n})]})}),e.jsx(bs,{value:"url",className:"space-y-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{placeholder:"Enter image URL...",value:d,onChange:b=>u(b.target.value),onKeyPress:b=>b.key==="Enter"&&v()}),e.jsx(S,{onClick:v,size:"icon",children:e.jsx(S0,{className:"h-4 w-4"})})]})})]}),o&&e.jsx(K,{className:"mt-4",children:e.jsxs(te,{className:"p-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"Preview",className:"w-full h-32 object-cover rounded",onError:()=>{c({title:"Invalid image",description:"Failed to load image. Please check the URL.",variant:"destructive"})}}),e.jsx(S,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:y,children:e.jsx(Vt,{className:"h-3 w-3"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 truncate",children:o})]})})]})}const W1=nn({name:Ze().min(1,"Product name is required"),description:Ze().min(1,"Description is required"),price:Ze().min(1,"Price is required"),originalPrice:Ze().optional(),categoryId:Ze().min(1,"Category is required"),brandId:Ze().min(1,"Brand is required"),image:Ze().min(1,"Image is required"),stockQuantity:pa().min(0,"Stock quantity must be non-negative"),subcategory:Ze().optional(),isNew:$r().optional(),isBestseller:$r().optional(),isOnSale:$r().optional(),isActive:$r().optional()}),Q1=nn({name:Ze().min(1,"Product name is required"),description:Ze().min(1,"Description is required"),price:Ze().min(1,"Price is required"),originalPrice:Ze().optional(),categoryId:Ze().min(1,"Category is required"),brandId:Ze().min(1,"Brand is required"),image:Ze().min(1,"Product image is required"),stockQuantity:pa().min(0,"Stock quantity must be non-negative")}),G1=nn({text:Ze().min(1,"Announcement text is required"),isActive:$r().optional()});nn({title:Ze().min(1,"Title is required"),slug:Ze().min(1,"Slug is required"),excerpt:Ze().optional(),content:Ze().min(1,"Content is required"),image:Ze().optional(),author:Ze().min(1,"Author is required"),category:Ze().min(1,"Category is required"),isPublished:$r().optional()});const Z1=nn({code:Ze().min(1,"Coupon code is required").toUpperCase(),description:Ze().optional(),discountType:L1(["percentage","fixed"],{required_error:"Discount type is required"}),discountValue:pa().min(.01,"Discount value must be greater than 0"),minOrderAmount:pa().min(0).optional(),maxDiscountAmount:pa().min(0).optional(),usageLimit:pa().min(1).optional(),validFrom:Hd({required_error:"Valid from date is required"}),validUntil:Hd({required_error:"Valid until date is required"}),isActive:$r().optional()});function J1(){const{user:r,signOut:t,loading:s}=Xa(),{toast:a}=bt(),[n,i]=x.useState("products"),[o,l]=x.useState(""),[d,u]=x.useState("all"),[h,c]=x.useState("all"),[m,f]=x.useState("all"),[p,v]=x.useState("list"),[y,b]=x.useState(null),[w,j]=x.useState(null),[C,P]=x.useState(!1),[_,L]=x.useState(null),[Z,B]=x.useState(!1),[F,U]=x.useState(!1),[T,O]=x.useState(""),[E,R]=x.useState(null),[z,le]=x.useState(!1),[J,ae]=x.useState(null),[Pe,fe]=x.useState(!1),[He,Xe]=x.useState(""),[et,it]=x.useState(""),[ee,W]=x.useState("all"),{data:We=[],isLoading:ut,refetch:Ve}=ct({queryKey:["/api/admin/products"],enabled:!!r&&r.role==="admin"}),{data:ye=[],isLoading:$e,refetch:is}=ct({queryKey:["/api/admin/repack-products"],enabled:!!r&&r.role==="admin"}),{data:ue=[]}=ct({queryKey:["/api/categories"],enabled:!!r&&r.role==="admin"}),{data:me=[]}=ct({queryKey:["/api/brands"],enabled:!!r&&r.role==="admin"}),{data:rt=[],refetch:jt}=ct({queryKey:["/api/admin/announcements"],enabled:!!r&&r.role==="admin"}),{data:It=[],refetch:tt}=ct({queryKey:["/api/blog"],enabled:!!r&&r.role==="admin"}),{data:Pt=[],refetch:Hs}=ct({queryKey:["/api/coupons"],enabled:!!r&&r.role==="admin"}),{data:N=[],refetch:A}=ct({queryKey:["/api/orders"],enabled:!!r&&r.role==="admin"}),I=yn({resolver:vn(W1),defaultValues:{name:"",description:"",price:"",originalPrice:"",categoryId:"",brandId:"",image:"",stockQuantity:0,subcategory:"none",isNew:!1,isBestseller:!1,isOnSale:!1,isActive:!0}}),H=yn({resolver:vn(Q1),defaultValues:{name:"",description:"",price:"",originalPrice:"",categoryId:"",brandId:"",image:"",stockQuantity:0}}),V=yn({resolver:vn(G1),defaultValues:{text:"",isActive:!0}}),$=yn({resolver:vn(Z1),defaultValues:{code:"",description:"",discountType:"percentage",discountValue:0,minOrderAmount:void 0,maxDiscountAmount:void 0,usageLimit:void 0,validFrom:new Date,validUntil:new Date(Date.now()+30*24*60*60*1e3),isActive:!0}}),ie=St({mutationFn:async g=>await Ir("/api/products",{method:"POST",body:JSON.stringify(g)}),onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/products"]}),mt.invalidateQueries({queryKey:["/api/admin/repack-products"]}),B(!1),I.reset(),a({title:"Success",description:"Product created successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to create product",variant:"destructive"})}}),Ae=St({mutationFn:async({id:g,data:M})=>await Ir(`/api/products/${g}`,{method:"PUT",body:JSON.stringify(M)}),onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/products"]}),mt.invalidateQueries({queryKey:["/api/admin/repack-products"]}),b(null),B(!1),I.reset(),a({title:"Success",description:"Product updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update product",variant:"destructive"})}}),nt=St({mutationFn:async g=>await Ir(`/api/products/${g}`,{method:"DELETE"}),onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/products"]}),mt.invalidateQueries({queryKey:["/api/admin/repack-products"]}),a({title:"Success",description:"Product deleted successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to delete product",variant:"destructive"})}}),ht=St({mutationFn:async g=>{const M=await fetch("/api/announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!M.ok)throw new Error("Failed to create announcement");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/announcements"]}),V.reset(),P(!1),a({title:"Success",description:"Announcement created successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to create announcement",variant:"destructive"})}}),Cr=St({mutationFn:async({id:g,data:M})=>{const we=await fetch(`/api/announcements/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!we.ok)throw new Error("Failed to update announcement");return we.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/announcements"]}),V.reset(),j(null),P(!1),a({title:"Success",description:"Announcement updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update announcement",variant:"destructive"})}}),Ht=St({mutationFn:async g=>{const M=await fetch(`/api/announcements/${g}`,{method:"DELETE"});if(!M.ok)throw new Error("Failed to delete announcement");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/announcements"]}),a({title:"Success",description:"Announcement deleted successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to delete announcement",variant:"destructive"})}}),ms=St({mutationFn:async g=>{const M={...g,tags:"repack-food",isActive:!0};return await Ir("/api/products",{method:"POST",body:JSON.stringify(M)})},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/products"]}),mt.invalidateQueries({queryKey:["/api/admin/repack-products"]}),le(!1),H.reset(),a({title:"Success",description:"Repack food product created successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to create repack food product",variant:"destructive"})}}),Sr=St({mutationFn:async({id:g,data:M})=>{const we={...M,tags:"repack-food"};return await Ir(`/api/products/${g}`,{method:"PUT",body:JSON.stringify(we)})},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/admin/products"]}),mt.invalidateQueries({queryKey:["/api/admin/repack-products"]}),R(null),le(!1),H.reset(),a({title:"Success",description:"Repack food product updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update repack food product",variant:"destructive"})}}),Jn=St({mutationFn:async g=>{const M=g.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),we={...g,slug:M,tags:g.category?[g.category]:[],isPublished:g.isPublished||!1},Ye=await fetch("/api/blog",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});if(!Ye.ok)throw new Error("Failed to create blog post");return Ye.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/blog"]}),U(!1),L(null),a({title:"Success",description:"Blog post created successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to create blog post",variant:"destructive"})}}),ho=St({mutationFn:async({id:g,data:M})=>{const we=M.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),Ye={...M,slug:we,tags:M.category?[M.category]:[]},Ft=await fetch(`/api/blog/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)});if(!Ft.ok)throw new Error("Failed to update blog post");return Ft.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/blog"]}),U(!1),L(null),a({title:"Success",description:"Blog post updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update blog post",variant:"destructive"})}}),Yn=St({mutationFn:async g=>{const M=await fetch(`/api/blog/${g}`,{method:"DELETE"});if(!M.ok)throw new Error("Failed to delete blog post");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/blog"]}),a({title:"Success",description:"Blog post deleted successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to delete blog post",variant:"destructive"})}}),mo=St({mutationFn:async g=>{const M=await fetch("/api/coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!M.ok)throw new Error("Failed to create coupon");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/coupons"]}),fe(!1),$.reset(),a({title:"Success",description:"Coupon created successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to create coupon",variant:"destructive"})}}),xo=St({mutationFn:async({id:g,data:M})=>{const we=await fetch(`/api/coupons/${g}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(!we.ok)throw new Error("Failed to update coupon");return we.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/coupons"]}),fe(!1),ae(null),$.reset(),a({title:"Success",description:"Coupon updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update coupon",variant:"destructive"})}}),eg=St({mutationFn:async g=>{const M=await fetch(`/api/coupons/${g}`,{method:"DELETE"});if(!M.ok)throw new Error("Failed to delete coupon");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/coupons"]}),a({title:"Success",description:"Coupon deleted successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to delete coupon",variant:"destructive"})}}),tg=St({mutationFn:async({orderId:g,status:M})=>{const we=await fetch(`/api/orders/${g}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:M})});if(!we.ok)throw new Error("Failed to update order status");return we.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/orders"]}),a({title:"Success",description:"Order status updated successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to update order status",variant:"destructive"})}}),sg=St({mutationFn:async g=>{const M=await fetch(`/api/orders/${g}`,{method:"DELETE"});if(!M.ok)throw new Error("Failed to delete order");return M.json()},onSuccess:()=>{mt.invalidateQueries({queryKey:["/api/orders"]}),a({title:"Success",description:"Order deleted successfully"})},onError:g=>{a({title:"Error",description:g.message||"Failed to delete order",variant:"destructive"})}});if(s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsx(K,{className:"max-w-md mx-auto shadow-lg",children:e.jsxs(te,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading..."}),e.jsx("p",{className:"text-gray-600",children:"Checking authentication"})]})})});if(!r||r.role!=="admin")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsx(K,{className:"max-w-md mx-auto shadow-lg",children:e.jsxs(te,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/logo.png",alt:"Meow Meow",className:"w-full h-full object-cover"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in with admin credentials"}),e.jsx(re,{href:"/sign-in",children:e.jsx(S,{className:"bg-red-600 hover:bg-red-700",children:"Go to Sign In"})})]})})});const rg=g=>{if(!g)return g;let M=g.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>");return M=M.replace(/\*([^*]+)\*/g,"<strong>$1</strong>"),M},fo=We.filter(g=>{const M=g.name.toLowerCase().includes(o.toLowerCase()),we=g.category||g.categoryId||"",Ye=d==="all"||we===d||we.toLowerCase()===d.toLowerCase()||we.replace(/\s+/g,"-").toLowerCase()===d.toLowerCase(),Ft=g.stockQuantity||g.stock||0,es=h==="all"||h==="out-of-stock"&&Ft===0||h==="low-stock"&&Ft>0&&Ft<10||h==="high-stock"&&Ft>=10,Ks=g.isActive!==!1;return M&&Ye&&es&&(m==="all"||m==="active"&&Ks||m==="inactive"&&!Ks)}),ag=g=>{ie.mutate(g)},ng=g=>{y&&(console.log("Updating product with form data:",g),console.log("Editing product ID:",y.id),Ae.mutate({id:y.id,data:g}))},ig=g=>{var M;b(g),I.reset({name:g.name,description:g.description||"",price:g.price.toString(),originalPrice:((M=g.originalPrice)==null?void 0:M.toString())||"",categoryId:g.category||g.categoryId||"",brandId:g.brandId||"",image:g.image,stockQuantity:g.stock||g.stockQuantity||0,subcategory:g.subcategory||"none",isNew:g.isNew||!1,isBestseller:g.isBestseller||!1,isOnSale:g.isOnSale||!1,isActive:g.isActive!==!1}),B(!0)},go=g=>{confirm("Are you sure you want to delete this product?")&&nt.mutate(g)},og=g=>{ms.mutate(g)},lg=g=>{E&&Sr.mutate({id:E.id,data:g})},cg=g=>{var M;R(g),H.reset({name:g.name,description:g.description||"",price:g.price.toString(),originalPrice:((M=g.originalPrice)==null?void 0:M.toString())||"",categoryId:g.category||g.categoryId||"",brandId:g.brandId||"",image:g.image,stockQuantity:g.stock||g.stockQuantity||0}),le(!0)},dg=g=>{confirm("Are you sure you want to delete this blog post?")&&Yn.mutate(g)},ug=g=>{J&&xo.mutate({id:J._id,data:g})},hg=g=>{ae(g),$.reset({code:g.code,description:g.description||"",discountType:g.discountType,discountValue:g.discountValue,minOrderAmount:g.minOrderAmount,maxDiscountAmount:g.maxDiscountAmount,usageLimit:g.usageLimit,validFrom:new Date(g.validFrom),validUntil:new Date(g.validUntil),isActive:g.isActive}),fe(!0)},mg=g=>{confirm("Are you sure you want to delete this coupon?")&&eg.mutate(g)},xg=(g,M)=>{tg.mutate({orderId:g,status:M})},fg=g=>{confirm("Are you sure you want to delete this order?")&&sg.mutate(g)},gg=()=>{if(!_)return;const g={title:_.title,excerpt:_.excerpt,content:_.content,image:_.image||void 0,author:_.author,category:_.category,isPublished:_.isPublished,slug:_.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")};_._id==="new"?Jn.mutate(g):ho.mutate({id:_._id,data:g})},pg=["Pet Care Tips","Cat Health","Dog Health","Training","Nutrition","Grooming","Behavior","Product Reviews"];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(xh,{className:"w-8 h-8 text-green-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Admin Panel"}),e.jsx(he,{className:"bg-green-100 text-green-800",children:"Meow Meow Pet Shop"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Welcome, ",e.jsx("span",{className:"text-gray-900 font-semibold",children:r.firstName})]}),e.jsxs(S,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(sl,{className:"w-4 h-4 mr-2"}),"POS System"]}),e.jsx(re,{href:"/",children:e.jsxs(S,{size:"sm",variant:"outline",className:"text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:text-black font-medium shadow-sm hover:shadow transition-all duration-200",children:[e.jsx(Hi,{className:"w-4 h-4 mr-2 text-gray-700 hover:text-black"}),"Store"]})}),e.jsx(S,{size:"sm",variant:"outline",onClick:t,className:"text-red-600 border-red-300 hover:bg-red-50 hover:border-red-400 font-medium shadow-sm hover:shadow transition-all duration-200",children:"Sign Out"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(cc,{value:n,onValueChange:i,className:"space-y-6",children:[e.jsxs(co,{className:"grid w-full grid-cols-6 lg:w-auto lg:grid-cols-6 bg-white border border-gray-200",children:[e.jsxs(vs,{value:"orders",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:[e.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Orders"]}),e.jsxs(vs,{value:"products",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Products"]}),e.jsxs(vs,{value:"repack-food",className:"data-[state=active]:bg-orange-600 data-[state=active]:text-white",children:[e.jsx(si,{className:"w-4 h-4 mr-2"}),"Repack Food"]}),e.jsxs(vs,{value:"announcements",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(kn,{className:"w-4 h-4 mr-2"}),"Announcements"]}),e.jsxs(vs,{value:"coupons",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:[e.jsx(In,{className:"w-4 h-4 mr-2"}),"Coupons"]}),e.jsxs(vs,{value:"blogs",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),"Blog Management"]})]}),e.jsxs(bs,{value:"orders",className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Management"}),e.jsx("p",{className:"text-gray-600",children:"View and manage customer orders"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search orders by customer name or order ID...",value:et,onChange:g=>it(g.target.value),className:"pl-10 bg-white border-gray-300 text-black placeholder:text-gray-500"})]}),e.jsxs(ft,{value:ee,onValueChange:W,children:[e.jsx(ot,{className:"w-48 bg-white border-gray-300 text-black",children:e.jsx(gt,{placeholder:"Filter by status",className:"text-black"})}),e.jsxs(lt,{className:"bg-white border border-gray-300",children:[e.jsx(D,{value:"all",className:"text-black hover:bg-gray-100",children:"All Orders"}),e.jsx(D,{value:"pending",className:"text-black hover:bg-gray-100",children:"Pending"}),e.jsx(D,{value:"processing",className:"text-black hover:bg-gray-100",children:"Processing"}),e.jsx(D,{value:"shipped",className:"text-black hover:bg-gray-100",children:"Shipped"}),e.jsx(D,{value:"delivered",className:"text-black hover:bg-gray-100",children:"Delivered"}),e.jsx(D,{value:"cancelled",className:"text-black hover:bg-gray-100",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid gap-4",children:[N.filter(g=>{var Ks,on,pc,yc;const M=et.toLowerCase(),we=((Ks=g.invoiceNumber)==null?void 0:Ks.toLowerCase())||"",Ye=M.startsWith("#")?M.substring(1):M,Ft=((pc=(on=g.customerInfo)==null?void 0:on.name)==null?void 0:pc.toLowerCase().includes(M))||g._id.toLowerCase().includes(M)||we.includes(M)||we.includes(Ye)||M.startsWith("#")&&we.includes(Ye)||!M.startsWith("#")&&we.includes(M),es=ee==="all"||((yc=g.status)==null?void 0:yc.toLowerCase())===ee;return Ft&&es}).map(g=>{var M,we,Ye,Ft,es,Ks;return e.jsx(K,{className:"hover:shadow-lg transition-shadow",children:e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(ke,{className:"text-lg font-bold text-red-700",children:["Order #",g.invoiceNumber||g._id.slice(-8).toUpperCase()]}),e.jsx(he,{variant:g.status==="delivered"?"default":"secondary",className:g.status==="delivered"?"bg-green-100 text-green-800":g.status==="shipped"?"bg-blue-100 text-blue-800":g.status==="processing"?"bg-yellow-100 text-yellow-800":g.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:((M=g.status)==null?void 0:M.charAt(0).toUpperCase())+((we=g.status)==null?void 0:we.slice(1))||"Pending"}),e.jsxs(he,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:["৳",g.total||0]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Customer:"}),e.jsx("p",{children:((Ye=g.customerInfo)==null?void 0:Ye.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Phone:"}),e.jsx("p",{children:((Ft=g.customerInfo)==null?void 0:Ft.phone)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Items:"}),e.jsxs("p",{children:[((es=g.items)==null?void 0:es.length)||0," items"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Date:"}),e.jsx("p",{children:new Date(g.createdAt).toLocaleDateString()})]})]}),((Ks=g.customerInfo)==null?void 0:Ks.address)&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Address:"})," ",g.customerInfo.address.address,", ",g.customerInfo.address.area,", ",g.customerInfo.address.city]})]}),e.jsxs("div",{className:"flex space-x-2",children:[g.invoiceId&&e.jsxs(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-900",onClick:()=>window.open(`/invoice/${g.invoiceId}`,"_blank"),"data-testid":`view-invoice-${g._id}`,children:[e.jsx(tl,{className:"w-4 h-4 mr-1"}),"Invoice"]}),e.jsxs(ft,{value:g.status||"pending",onValueChange:on=>xg(g._id,on),children:[e.jsx(ot,{className:"w-32 bg-white border-gray-300 text-sm text-black",children:e.jsx(gt,{className:"text-black"})}),e.jsxs(lt,{className:"bg-white border border-gray-300",children:[e.jsx(D,{value:"pending",className:"text-black hover:bg-gray-100",children:"Pending"}),e.jsx(D,{value:"processing",className:"text-black hover:bg-gray-100",children:"Processing"}),e.jsx(D,{value:"shipped",className:"text-black hover:bg-gray-100",children:"Shipped"}),e.jsx(D,{value:"delivered",className:"text-black hover:bg-gray-100",children:"Delivered"}),e.jsx(D,{value:"cancelled",className:"text-black hover:bg-gray-100",children:"Cancelled"})]})]}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>fg(g._id),"data-testid":`delete-order-${g._id}`,children:e.jsx(Fs,{className:"w-4 h-4"})})]})]})})},g._id)}),N.length===0&&e.jsx(K,{className:"text-center py-8",children:e.jsxs(te,{children:[e.jsx(Jt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-gray-600",children:"Customer orders will appear here once they start placing orders."})]})})]})]}),e.jsxs(bs,{value:"products",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Products Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your product catalog across all categories"})]}),e.jsxs(S,{onClick:()=>{b(null),I.reset(),B(!0)},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 bg-white p-4 rounded-lg border",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{placeholder:"Search products...",value:o,onChange:g=>l(g.target.value),className:"pl-10 text-black placeholder:text-gray-500"})]})}),e.jsxs(ft,{value:d,onValueChange:u,children:[e.jsx(ot,{className:"w-full sm:w-48 text-black",children:e.jsx(gt,{placeholder:"Category",className:"text-black"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"all",className:"text-black hover:bg-gray-100",children:"All Categories"}),e.jsx(D,{value:"cat-food",className:"text-black hover:bg-gray-100",children:"Cat Food"}),e.jsx(D,{value:"dog-food",className:"text-black hover:bg-gray-100",children:"Dog Food"}),e.jsx(D,{value:"cat-toys",className:"text-black hover:bg-gray-100",children:"Cat Toys"}),e.jsx(D,{value:"cat-litter",className:"text-black hover:bg-gray-100",children:"Cat Litter"}),e.jsx(D,{value:"cat-care",className:"text-black hover:bg-gray-100",children:"Cat Care & Health"}),e.jsx(D,{value:"clothing-beds-carrier",className:"text-black hover:bg-gray-100",children:"Clothing, Beds & Carrier"}),e.jsx(D,{value:"cat-accessories",className:"text-black hover:bg-gray-100",children:"Cat Accessories"}),e.jsx(D,{value:"dog-accessories",className:"text-black hover:bg-gray-100",children:"Dog Health & Accessories"}),e.jsx(D,{value:"rabbit",className:"text-black hover:bg-gray-100",children:"Rabbit Food & Accessories"}),e.jsx(D,{value:"bird",className:"text-black hover:bg-gray-100",children:"Bird Food & Accessories"})]})]}),e.jsxs(ft,{value:h,onValueChange:c,children:[e.jsx(ot,{className:"w-full sm:w-48 text-black",children:e.jsx(gt,{placeholder:"Stock Status",className:"text-black"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"all",className:"text-black hover:bg-gray-100",children:"All Stock"}),e.jsx(D,{value:"out-of-stock",className:"text-black hover:bg-gray-100",children:"Out of Stock"}),e.jsx(D,{value:"low-stock",className:"text-black hover:bg-gray-100",children:"Low Stock (<10)"}),e.jsx(D,{value:"high-stock",className:"text-black hover:bg-gray-100",children:"High Stock (≥10)"})]})]}),e.jsxs(ft,{value:m,onValueChange:f,children:[e.jsx(ot,{className:"w-full sm:w-48 text-black",children:e.jsx(gt,{placeholder:"Product Status",className:"text-black"})}),e.jsxs(lt,{className:"bg-white",children:[e.jsx(D,{value:"all",className:"text-black hover:bg-gray-100",children:"All Products"}),e.jsx(D,{value:"active",className:"text-black hover:bg-gray-100",children:"Active Products"}),e.jsx(D,{value:"inactive",className:"text-black hover:bg-gray-100",children:"Inactive Products"})]})]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(S,{size:"sm",onClick:()=>v("list"),className:`rounded-r-none border ${p==="list"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:e.jsx(P0,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",onClick:()=>v("grid"),className:`rounded-l-none border ${p==="grid"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:e.jsx(sl,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"bg-white rounded-lg border",children:p==="list"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subcategory"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ut?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Loading products..."})}):fo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No products found"})}):fo.map(g=>{var M,we;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-12 h-12 rounded-lg object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:g.name}),e.jsx("div",{className:"text-sm text-gray-500",children:g.brandName||((M=me.find(Ye=>Ye.id===g.brandId||Ye.slug===g.brandId))==null?void 0:M.name)||"Unknown Brand"})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx(he,{variant:"outline",className:"text-xs",children:((we=ue.find(Ye=>Ye.id===g.category))==null?void 0:we.name)||g.categoryName||g.category})}),e.jsx("td",{className:"px-4 py-4",children:g.subcategory?e.jsx(he,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700",children:g.subcategory.split("-").map(Ye=>Ye.charAt(0).toUpperCase()+Ye.slice(1)).join(" ")}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),e.jsxs("td",{className:"px-4 py-4 font-medium text-gray-900",children:["৳",g.price]}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:g.stockQuantity||g.stock||0}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.isActive!==!1&&e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}),g.isNew&&e.jsx(he,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"New"}),g.isBestseller&&e.jsx(he,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Bestseller"}),g.isOnSale&&e.jsx(he,{variant:"secondary",className:"bg-red-100 text-red-800",children:"On Sale"}),(g.stockQuantity||g.stock||0)===0&&e.jsx(he,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Out of Stock"})]})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>ig(g),children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>go(g.id),children:e.jsx(Fs,{className:"w-4 h-4"})})]})})]},g.id)})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 p-6",children:fo.map(g=>{var M;return e.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Ne,{className:"pb-3",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-full h-32 object-cover rounded-lg"}),e.jsx(ke,{className:"text-lg",children:g.name}),e.jsx(as,{children:g.description})]}),e.jsxs(te,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["৳",g.price]}),e.jsx(he,{variant:"outline",children:g.brandName||((M=me.find(we=>we.id===g.brandId||we.slug===g.brandId))==null?void 0:M.name)||"Unknown Brand"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",g.stockQuantity||g.stock||0]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>{b(g),B(!0)},children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>go(g.id),children:e.jsx(Fs,{className:"w-4 h-4"})})]})]})]})]},g.id)})})})]}),e.jsxs(bs,{value:"repack-food",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Repack Food Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage repack food products and bulk food items"})]}),e.jsxs(S,{onClick:()=>{R(null),H.reset(),le(!0)},className:"bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Repack Food"]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-1 bg-white p-4 rounded-lg border",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Q,{placeholder:"Search repack food products...",value:T,onChange:g=>O(g.target.value),className:"pl-10 text-black placeholder:text-gray-500"})]})})}),e.jsxs("div",{className:"bg-white rounded-lg border",children:[e.jsxs("div",{className:"p-4 border-b bg-orange-50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-orange-800 flex items-center gap-1",children:[e.jsx(si,{className:"w-5 h-5"}),"Repack Food Products"]}),e.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Products tagged as repack food items"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Brand"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:$e?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Loading repack food products..."})}):(()=>{const g=ye.filter(M=>M.name.toLowerCase().includes(T.toLowerCase()));return g.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:[e.jsx(si,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No repack food products found"}),e.jsx("p",{className:"text-xs mt-1",children:'Add products with "repack-food" tag or containing "repack" in name/description'})]})}):g.map(M=>{var we,Ye,Ft;return e.jsxs("tr",{className:"hover:bg-orange-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:M.image,alt:M.name,className:"w-12 h-12 rounded-lg object-cover mr-3"}),e.jsx("div",{className:"font-medium text-gray-900",children:M.name})]})}),e.jsx("td",{className:"px-4 py-4 text-gray-700",children:M.brandName||((we=me.find(es=>es.id===M.brandId||es.slug===M.brandId))==null?void 0:we.name)||"No Brand"}),e.jsx("td",{className:"px-4 py-4",children:e.jsx(he,{variant:"outline",className:"border-orange-200 text-orange-800",children:M.categoryName||((Ye=ue.find(es=>es.id===M.categoryId||es.slug===M.categoryId||es.slug===M.category))==null?void 0:Ye.name)||M.category||"Uncategorized"})}),e.jsxs("td",{className:"px-4 py-4 font-medium text-gray-900",children:["৳",M.price]}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:M.stockQuantity||M.stock||0}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.isActive!==!1&&e.jsx(he,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}),((Ft=M.tags)==null?void 0:Ft.includes("repack-food"))&&e.jsx(he,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Repack"}),M.isNew&&e.jsx(he,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"New"}),M.isBestseller&&e.jsx(he,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Bestseller"}),M.isOnSale&&e.jsx(he,{variant:"secondary",className:"bg-red-100 text-red-800",children:"On Sale"})]})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>cg(M),children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",onClick:()=>go(M.id),className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",children:e.jsx(Fs,{className:"w-4 h-4"})})]})})]},M.id)})})()})]})})]}),e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsxs(ke,{className:"flex items-center gap-1",children:[e.jsx(si,{className:"w-5 h-5 text-orange-600"}),"Repack Food Guidelines"]})}),e.jsx(te,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"How to add repack food products:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:'Use the "Add Repack Food" button above'}),e.jsx("li",{children:'Add "repack-food" in the Tags field'}),e.jsx("li",{children:'Include "repack" in the product name or description'}),e.jsx("li",{children:"Set appropriate pricing for bulk quantities"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Best practices:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"Clearly specify quantity in product name"}),e.jsx("li",{children:"Include packaging information in description"}),e.jsx("li",{children:"Use appropriate categories (Adult Food, Kitten Food, etc.)"}),e.jsx("li",{children:"Set realistic stock quantities for bulk items"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1",children:[e.jsx(K,{children:e.jsxs(te,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ye.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Repack Products"})]})}),e.jsx(K,{children:e.jsxs(te,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:ye.filter(g=>g.isActive!==!1).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Products"})]})}),e.jsx(K,{children:e.jsxs(te,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ye.filter(g=>(g.stockQuantity||g.stock||0)>0).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"In Stock"})]})}),e.jsx(K,{children:e.jsxs(te,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:ye.filter(g=>(g.stockQuantity||g.stock||0)===0).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Out of Stock"})]})})]})]}),e.jsxs(bs,{value:"announcements",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Announcement Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage website announcements shown in the top bar"})]}),e.jsxs(S,{onClick:()=>{j(null),V.reset(),P(!0)},className:"bg-gradient-to-r from-yellow-600 to-yellow-700 hover:from-yellow-700 hover:to-yellow-800 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Announcement"]})]}),e.jsxs("div",{className:"grid gap-1",children:[rt.map(g=>e.jsx(K,{className:"hover:shadow-lg transition-shadow",children:e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx(kn,{className:"w-5 h-5 text-yellow-600"}),e.jsx(he,{variant:g.isActive?"default":"secondary",children:g.isActive?"Active":"Inactive"})]}),e.jsx(ke,{className:"text-xl",dangerouslySetInnerHTML:{__html:rg(g.text)}}),e.jsxs("div",{className:"flex items-center gap-1 mt-3 text-sm text-gray-500",children:[e.jsxs("span",{children:["Created: ",new Date(g.createdAt).toLocaleDateString()]}),g.updatedAt!==g.createdAt&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Updated: ",new Date(g.updatedAt).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>{j(g),V.reset({text:g.text,isActive:g.isActive}),P(!0)},children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>Ht.mutate(g._id),disabled:Ht.isPending,children:e.jsx(Fs,{className:"w-4 h-4"})})]})]})})},g._id)),rt.length===0&&e.jsx(K,{className:"text-center py-8",children:e.jsxs(te,{children:[e.jsx(kn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first announcement to show messages to website visitors."}),e.jsxs(S,{onClick:()=>{j(null),V.reset(),P(!0)},className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add First Announcement"]})]})})]})]}),e.jsxs(bs,{value:"coupons",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Coupon Management"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons"})]}),e.jsxs(S,{onClick:()=>{ae(null),$.reset(),fe(!0)},className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200","data-testid":"add-coupon-button",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Coupon"]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search coupons...",value:He,onChange:g=>Xe(g.target.value),className:"pl-10 bg-white border-gray-300 text-black placeholder:text-gray-500"})]})}),e.jsxs("div",{className:"grid gap-4",children:[Pt.filter(g=>g.code.toLowerCase().includes(He.toLowerCase())||g.description&&g.description.toLowerCase().includes(He.toLowerCase())).map(g=>e.jsx(K,{className:"hover:shadow-lg transition-shadow",children:e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ke,{className:"text-xl font-bold text-purple-700",children:g.code}),e.jsx(he,{variant:g.isActive?"default":"secondary",className:g.isActive?"bg-green-100 text-green-800":"",children:g.isActive?"Active":"Inactive"}),e.jsx(he,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:g.discountType==="percentage"?`${g.discountValue}% Off`:`৳${g.discountValue} Off`})]}),g.description&&e.jsx(as,{className:"mb-3",children:g.description}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Min Order:"}),e.jsx("p",{children:g.minOrderAmount?`৳${g.minOrderAmount}`:"No minimum"})]}),g.maxDiscountAmount&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Max Discount:"}),e.jsxs("p",{children:["৳",g.maxDiscountAmount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Usage:"}),e.jsxs("p",{children:[g.usedCount," / ",g.usageLimit||"∞"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Valid Until:"}),e.jsx("p",{children:new Date(g.validUntil).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>hg(g),"data-testid":`edit-coupon-${g._id}`,children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>mg(g._id),"data-testid":`delete-coupon-${g._id}`,children:e.jsx(Fs,{className:"w-4 h-4"})})]})]})})},g._id)),Pt.length===0&&e.jsx(K,{className:"text-center py-8",children:e.jsxs(te,{children:[e.jsx(In,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No coupons yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first coupon to offer discounts to customers."}),e.jsxs(S,{onClick:()=>{ae(null),$.reset(),fe(!0)},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add First Coupon"]})]})})]})]}),e.jsxs(bs,{value:"blogs",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Management"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage blog posts"})]}),e.jsxs(S,{onClick:()=>{L({_id:"new",title:"",slug:"",excerpt:"",content:"",image:"",author:r.firstName||"Admin",publishedAt:new Date,category:"",isPublished:!1,createdAt:new Date,updatedAt:new Date}),U(!0)},className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-medium shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Add Blog Post"]})]}),e.jsx("div",{className:"grid gap-1",children:It.map(g=>e.jsx(K,{className:"hover:shadow-lg transition-shadow",children:e.jsx(Ne,{children:e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[g.image&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:g.image,alt:g.title,className:"w-32 h-32 object-cover rounded-lg",onError:M=>{M.currentTarget.src="/api/placeholder/128/128"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(ke,{className:"text-xl line-clamp-2",children:g.title}),e.jsx(as,{className:"mt-2 line-clamp-2",children:g.excerpt}),e.jsxs("div",{className:"flex items-center gap-1 mt-3 text-sm text-gray-500 flex-wrap",children:[e.jsxs("span",{children:["By ",g.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(g.publishedAt||g.createdAt).toLocaleDateString()}),e.jsx(he,{variant:g.isPublished?"default":"secondary",children:g.isPublished?"published":"draft"})]})]}),e.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[e.jsx(S,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100 hover:text-blue-700",onClick:()=>{L(g),U(!0)},children:e.jsx(Tr,{className:"w-4 h-4"})}),e.jsx(S,{size:"sm",variant:"outline",className:"text-red-600 border-red-200 bg-red-50 hover:bg-red-100 hover:text-red-900",onClick:()=>dg(g._id),children:e.jsx(Fs,{className:"w-4 h-4"})})]})]})})},g._id))})]})]})}),e.jsx(xa,{open:Z,onOpenChange:B,children:e.jsxs(Lr,{className:"w-[95vw] max-w-4xl h-[90vh] max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs(Mr,{children:[e.jsx(Dr,{children:y?"Edit Product":"Add New Product"}),e.jsx(ga,{children:y?"Update product information":"Create a new product for your store"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:e.jsx(jn,{...I,children:e.jsxs("form",{id:"product-form",onSubmit:I.handleSubmit(y?ng:ag),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(De,{control:I.control,name:"name",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Name"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter product name",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:I.control,name:"price",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Price (৳)"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter price",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:I.control,name:"description",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Description"}),e.jsx(Le,{children:e.jsx(As,{placeholder:"Enter product description",rows:3,className:"text-gray-900 bg-white border-gray-300 placeholder:text-gray-500",...g})}),e.jsx(Ke,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(De,{control:I.control,name:"categoryId",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Category"}),e.jsxs(ft,{onValueChange:g.onChange,value:g.value,children:[e.jsx(Le,{children:e.jsx(ot,{className:"bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{placeholder:"Select category",className:"text-gray-900"})})}),e.jsxs(lt,{className:"bg-white border-gray-300",children:[e.jsx(D,{value:"cat-food",className:"text-black hover:bg-gray-100",children:"Cat Food"}),e.jsx(D,{value:"dog-food",className:"text-black hover:bg-gray-100",children:"Dog Food"}),e.jsx(D,{value:"cat-toys",className:"text-black hover:bg-gray-100",children:"Cat Toys"}),e.jsx(D,{value:"cat-litter",className:"text-black hover:bg-gray-100",children:"Cat Litter"}),e.jsx(D,{value:"cat-care-health",className:"text-black hover:bg-gray-100",children:"Cat Care & Health"}),e.jsx(D,{value:"clothing-beds-carrier",className:"text-black hover:bg-gray-100",children:"Clothing, Beds & Carrier"}),e.jsx(D,{value:"cat-accessories",className:"text-black hover:bg-gray-100",children:"Cat Accessories"}),e.jsx(D,{value:"dog-health-accessories",className:"text-black hover:bg-gray-100",children:"Dog Health & Accessories"}),e.jsx(D,{value:"rabbit-food-accessories",className:"text-black hover:bg-gray-100",children:"Rabbit Food & Accessories"}),e.jsx(D,{value:"bird-food-accessories",className:"text-black hover:bg-gray-100",children:"Bird Food & Accessories"})]})]}),e.jsx(Ke,{})]})}),e.jsx(De,{control:I.control,name:"brandId",render:({field:g})=>{var M,we;return e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Brand"}),e.jsxs(ft,{onValueChange:g.onChange,value:g.value,children:[e.jsx(Le,{children:e.jsx(ot,{className:"bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{placeholder:"Select brand",children:g.value&&((M=me.find(Ye=>Ye.id===g.value))==null?void 0:M.name)||g.value&&((we=me.find(Ye=>Ye.slug===g.value))==null?void 0:we.name)||g.value||"Select brand"})})}),e.jsxs(lt,{className:"bg-white border-gray-300",children:[e.jsx(D,{value:"default-brand",children:"Default Brand"}),e.jsx(D,{value:"nekko",children:"Nekko"}),e.jsx(D,{value:"purina",children:"Purina"}),e.jsx(D,{value:"one",children:"ONE"}),e.jsx(D,{value:"reflex",children:"Reflex"}),e.jsx(D,{value:"reflex-plus",children:"Reflex Plus"}),e.jsx(D,{value:"royal-canin",children:"Royal Canin"}),e.jsx(D,{value:"sheba",children:"Sheba"})]})]}),e.jsx(Ke,{})]})}}),e.jsx(De,{control:I.control,name:"stockQuantity",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Stock Quantity"}),e.jsx(Le,{children:e.jsx(Q,{type:"number",min:"0",placeholder:"0",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>{const we=parseInt(M.target.value)||0;g.onChange(Math.max(0,we))},onKeyDown:M=>{(M.key==="-"||M.key==="e"||M.key==="E")&&M.preventDefault()}})}),e.jsx(Ke,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(De,{control:I.control,name:"originalPrice",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Original Price (৳) - Optional"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter original price (if on sale)",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:I.control,name:"subcategory",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Subcategory (Shop by Category)"}),e.jsxs(ft,{onValueChange:g.onChange,value:g.value||"none",children:[e.jsx(Le,{children:e.jsx(ot,{className:"bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{placeholder:"Select subcategory",className:"text-gray-900"})})}),e.jsxs(lt,{className:"bg-white border-gray-300",children:[e.jsx(D,{value:"none",className:"text-black hover:bg-gray-100",children:"No Category"}),e.jsx(D,{value:"adult-food",className:"text-black hover:bg-gray-100",children:"Adult Food"}),e.jsx(D,{value:"kitten-food",className:"text-black hover:bg-gray-100",children:"Kitten Food"}),e.jsx(D,{value:"collar",className:"text-black hover:bg-gray-100",children:"Collar"}),e.jsx(D,{value:"clumping-cat-litter",className:"text-black hover:bg-gray-100",children:"Clumping Cat Litter"}),e.jsx(D,{value:"cat-litter-accessories",className:"text-black hover:bg-gray-100",children:"Cat Litter Accessories"}),e.jsx(D,{value:"harness",className:"text-black hover:bg-gray-100",children:"Harness"}),e.jsx(D,{value:"cat-tick-flea-control",className:"text-black hover:bg-gray-100",children:"Cat Tick & Flea Control"}),e.jsx(D,{value:"deworming-tablet",className:"text-black hover:bg-gray-100",children:"Deworming Tablet"}),e.jsx(D,{value:"cat-pouches",className:"text-black hover:bg-gray-100",children:"Cat Pouches"}),e.jsx(D,{value:"sunglass",className:"text-black hover:bg-gray-100",children:"Sunglass"})]})]}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:I.control,name:"image",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Image"}),e.jsx(Le,{children:e.jsx(Lo,{value:g.value,onChange:g.onChange})}),e.jsx(Ke,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Product Flags"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(De,{control:I.control,name:"isNew",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{children:"New Product"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as a new arrival"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})}),e.jsx(De,{control:I.control,name:"isBestseller",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{children:"Bestseller"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as a bestselling product"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Status & Availability"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(De,{control:I.control,name:"isOnSale",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{children:"On Sale"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Mark as currently on sale"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})}),e.jsx(De,{control:I.control,name:"isActive",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{children:"Active"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Product is visible to customers"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})})]})]})]})]})})}),e.jsxs(fa,{className:"border-t pt-4 mt-0 flex-shrink-0",children:[e.jsx(S,{type:"button",variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",onClick:()=>B(!1),children:"Cancel"}),e.jsxs(S,{type:"submit",form:"product-form",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:ie.isPending||Ae.isPending,children:[e.jsx(da,{className:"w-4 h-4 mr-2"}),ie.isPending||Ae.isPending?"Saving...":y?"Update Product":"Save Product"]})]})]})}),e.jsx(xa,{open:z,onOpenChange:le,children:e.jsxs(Lr,{className:"max-w-3xl max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsxs(Mr,{className:"flex-shrink-0",children:[e.jsx(Dr,{children:E?"Edit Repack Food":"Add New Repack Food"}),e.jsx(ga,{children:E?"Update repack food product information":"Create a new repack food product for your store"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-1",children:e.jsx(jn,{...H,children:e.jsxs("form",{id:"repack-form",onSubmit:H.handleSubmit(E?lg:og),className:"space-y-4 py-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(De,{control:H.control,name:"name",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Name"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter product name",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:H.control,name:"price",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Price (৳)"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter price",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:H.control,name:"description",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Description"}),e.jsx(Le,{children:e.jsx(As,{placeholder:"Enter product description",rows:3,className:"text-gray-900 bg-white border-gray-300 placeholder:text-gray-500",...g})}),e.jsx(Ke,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(De,{control:H.control,name:"categoryId",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Category"}),e.jsxs(ft,{value:g.value,onValueChange:g.onChange,children:[e.jsx(Le,{children:e.jsx(ot,{className:"text-gray-900 bg-white border-gray-300",children:e.jsx(gt,{placeholder:"Select category"})})}),e.jsxs(lt,{className:"bg-white border border-gray-300 shadow-lg",children:[e.jsx(D,{value:"cat-food",className:"text-black hover:bg-gray-100",children:"Cat Food"}),e.jsx(D,{value:"dog-food",className:"text-black hover:bg-gray-100",children:"Dog Food"}),e.jsx(D,{value:"cat-toys",className:"text-black hover:bg-gray-100",children:"Cat Toys"}),e.jsx(D,{value:"cat-litter",className:"text-black hover:bg-gray-100",children:"Cat Litter"}),e.jsx(D,{value:"cat-care-health",className:"text-black hover:bg-gray-100",children:"Cat Care & Health"}),e.jsx(D,{value:"clothing-beds-carrier",className:"text-black hover:bg-gray-100",children:"Clothing, Beds & Carrier"}),e.jsx(D,{value:"cat-accessories",className:"text-black hover:bg-gray-100",children:"Cat Accessories"}),e.jsx(D,{value:"dog-health-accessories",className:"text-black hover:bg-gray-100",children:"Dog Health & Accessories"}),e.jsx(D,{value:"rabbit-food-accessories",className:"text-black hover:bg-gray-100",children:"Rabbit Food & Accessories"}),e.jsx(D,{value:"bird-food-accessories",className:"text-black hover:bg-gray-100",children:"Bird Food & Accessories"})]})]}),e.jsx(Ke,{})]})}),e.jsx(De,{control:H.control,name:"brandId",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Brand"}),e.jsxs(ft,{value:g.value,onValueChange:g.onChange,children:[e.jsx(Le,{children:e.jsx(ot,{className:"text-gray-900 bg-white border-gray-300",children:e.jsx(gt,{placeholder:"Select brand"})})}),e.jsxs(lt,{className:"bg-white border border-gray-300 shadow-lg",children:[e.jsx(D,{value:"default-brand",children:"Default Brand"}),e.jsx(D,{value:"nekko",children:"Nekko"}),e.jsx(D,{value:"purina",children:"Purina"}),e.jsx(D,{value:"one",children:"ONE"}),e.jsx(D,{value:"reflex",children:"Reflex"}),e.jsx(D,{value:"reflex-plus",children:"Reflex Plus"}),e.jsx(D,{value:"royal-canin",children:"Royal Canin"}),e.jsx(D,{value:"sheba",children:"Sheba"})]})]}),e.jsx(Ke,{})]})}),e.jsx(De,{control:H.control,name:"stockQuantity",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Stock Quantity"}),e.jsx(Le,{children:e.jsx(Q,{type:"number",min:"0",placeholder:"0",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>{const we=Number(M.target.value)||0;g.onChange(Math.max(0,we))},onKeyDown:M=>{(M.key==="-"||M.key==="e"||M.key==="E")&&M.preventDefault()}})}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:H.control,name:"originalPrice",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Original Price (৳) - Optional"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"Enter original price (if on sale)",className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:H.control,name:"image",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold text-sm mb-2 block",children:"Product Image"}),e.jsx(Le,{children:e.jsx(Lo,{value:g.value,onChange:g.onChange})}),e.jsx(Ke,{})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"}),' This product will be tagged as "repack-food" and will appear in ',e.jsx("strong",{children:"BOTH"})," the repack section and the selected category page (e.g., Cat Food, Dog Food)."]})})]})})}),e.jsxs(fa,{className:"flex-shrink-0 border-t pt-4 mt-0",children:[e.jsx(S,{type:"button",variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",onClick:()=>le(!1),children:"Cancel"}),e.jsxs(S,{type:"submit",form:"repack-form",className:"bg-orange-600 hover:bg-orange-700 text-white",disabled:ms.isPending||Sr.isPending,children:[e.jsx(da,{className:"w-4 h-4 mr-2"}),ms.isPending||Sr.isPending?"Saving...":E?"Update Repack Food":"Save Repack Food"]})]})]})}),e.jsx(xa,{open:F,onOpenChange:U,children:e.jsxs(Lr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Mr,{children:[e.jsx(Dr,{children:(_==null?void 0:_._id)==="new"?"Add New Blog Post":"Edit Blog Post"}),e.jsx(ga,{children:(_==null?void 0:_._id)==="new"?"Create a new blog post":"Update blog post"})]}),_&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-title",children:"Title"}),e.jsx(Q,{id:"blog-title",value:_.title,onChange:g=>L({..._,title:g.target.value}),placeholder:"Enter blog title",className:"text-gray-900 bg-white border-gray-300",style:{color:"#1f2937",backgroundColor:"#ffffff"}})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-image",children:"Blog Image"}),e.jsx(Lo,{value:_.image||"",onChange:g=>L({..._,image:g})})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-excerpt",children:"Excerpt"}),e.jsx(Q,{id:"blog-excerpt",value:_.excerpt,onChange:g=>L({..._,excerpt:g.target.value}),placeholder:"Brief description of the blog post",className:"text-gray-900 bg-white border-gray-300",style:{color:"#1f2937",backgroundColor:"#ffffff"}})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-content",children:"Content"}),e.jsx(As,{id:"blog-content",value:_.content,onChange:g=>L({..._,content:g.target.value}),placeholder:"Write your blog content here...",rows:8,className:"text-gray-900 bg-white border-gray-300 placeholder:text-gray-500",style:{color:"#1f2937",backgroundColor:"#ffffff"}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-category",children:"Category"}),e.jsxs(ft,{value:_.category||"",onValueChange:g=>L({..._,category:g}),children:[e.jsx(ot,{className:"bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{placeholder:"Select a category",className:"text-gray-900"})}),e.jsx(lt,{className:"bg-white border-gray-300",children:pg.map(g=>e.jsx(D,{value:g,className:"text-gray-900 hover:bg-gray-100",children:g},g))})]})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-author",children:"Author"}),e.jsx(Q,{id:"blog-author",value:_.author,onChange:g=>L({..._,author:g.target.value}),placeholder:"Author name",className:"text-gray-900 bg-white border-gray-300",style:{color:"#1f2937",backgroundColor:"#ffffff"}})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"blog-status",children:"Status"}),e.jsxs(ft,{value:_.isPublished?"published":"draft",onValueChange:g=>L({..._,isPublished:g==="published"}),children:[e.jsx(ot,{className:"bg-white text-gray-900 border-gray-300",children:e.jsx(gt,{className:"text-gray-900"})}),e.jsxs(lt,{className:"bg-white border-gray-300",children:[e.jsx(D,{value:"draft",className:"text-gray-900 hover:bg-gray-100",children:"Draft"}),e.jsx(D,{value:"published",className:"text-gray-900 hover:bg-gray-100",children:"Published"})]})]})]})]})]}),e.jsxs(fa,{children:[e.jsx(S,{variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",onClick:()=>U(!1),children:"Cancel"}),e.jsxs(S,{onClick:gg,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(da,{className:"w-4 h-4 mr-2"}),"Save Blog Post"]})]})]})}),e.jsx(xa,{open:C,onOpenChange:P,children:e.jsxs(Lr,{className:"max-w-lg",children:[e.jsxs(Mr,{children:[e.jsx(Dr,{children:w?"Edit Announcement":"Add New Announcement"}),e.jsx(ga,{children:w?"Update announcement":"Create a new announcement for the top bar"})]}),e.jsx(jn,{...V,children:e.jsxs("form",{onSubmit:V.handleSubmit(g=>{w?Cr.mutate({id:w._id,data:g}):ht.mutate(g)}),className:"space-y-4",children:[e.jsx(De,{control:V.control,name:"text",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{children:"Announcement Text"}),e.jsx(Le,{children:e.jsx(As,{placeholder:"Enter announcement message...",rows:3,className:"text-gray-900 bg-white border-gray-300 placeholder:text-gray-500 !text-gray-900 !bg-white",style:{color:"#1f2937",backgroundColor:"#ffffff"},...g})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:V.control,name:"isActive",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{children:"Active"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Show to visitors"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})}),e.jsxs(fa,{children:[e.jsx(S,{type:"button",variant:"secondary",className:"bg-gray-100 text-gray-900 border-gray-300 hover:bg-gray-200",onClick:()=>P(!1),children:"Cancel"}),e.jsxs(S,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-white",disabled:ht.isPending||Cr.isPending,children:[e.jsx(da,{className:"w-4 h-4 mr-2"}),ht.isPending||Cr.isPending?"Saving...":w?"Update Announcement":"Save Announcement"]})]})]})})]})}),e.jsx(xa,{open:Pe,onOpenChange:fe,children:e.jsxs(Lr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Mr,{children:[e.jsx(Dr,{children:J?"Edit Coupon":"Add New Coupon"}),e.jsx(ga,{children:J?"Update coupon information":"Create a new discount coupon"})]}),e.jsx(jn,{...$,children:e.jsxs("form",{onSubmit:$.handleSubmit(J?ug:mo.mutate),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(De,{control:$.control,name:"code",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Coupon Code"}),e.jsx(Le,{children:e.jsx(Q,{placeholder:"e.g., SAVE20",className:"text-gray-900 bg-white border-gray-300 uppercase",...g,onChange:M=>g.onChange(M.target.value.toUpperCase())})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:$.control,name:"discountType",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Discount Type"}),e.jsxs(ft,{onValueChange:g.onChange,value:g.value,children:[e.jsx(Le,{children:e.jsx(ot,{className:"text-gray-900 bg-white border-gray-300",children:e.jsx(gt,{placeholder:"Select discount type"})})}),e.jsxs(lt,{className:"bg-white border border-gray-300",children:[e.jsx(D,{value:"percentage",children:"Percentage (%)"}),e.jsx(D,{value:"fixed",children:"Fixed Amount (৳)"})]})]}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:$.control,name:"description",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Description (Optional)"}),e.jsx(Le,{children:e.jsx(As,{placeholder:"Brief description of the coupon",rows:2,className:"text-gray-900 bg-white border-gray-300",...g})}),e.jsx(Ke,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(De,{control:$.control,name:"discountValue",render:({field:g})=>e.jsxs(Ie,{children:[e.jsxs(Oe,{className:"text-gray-900 font-semibold",children:["Discount Value ",$.watch("discountType")==="percentage"?"(%)":"(৳)"]}),e.jsx(Le,{children:e.jsx(Q,{type:"number",step:"0.01",min:"0",placeholder:$.watch("discountType")==="percentage"?"10":"100",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>g.onChange(parseFloat(M.target.value)||0)})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:$.control,name:"minOrderAmount",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Min Order Amount (৳)"}),e.jsx(Le,{children:e.jsx(Q,{type:"number",placeholder:"0 (no minimum)",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>g.onChange(parseFloat(M.target.value)||void 0)})}),e.jsx(Ke,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(De,{control:$.control,name:"maxDiscountAmount",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Max Discount Amount (৳)"}),e.jsx(Le,{children:e.jsx(Q,{type:"number",placeholder:"No maximum",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>g.onChange(parseFloat(M.target.value)||void 0)})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:$.control,name:"usageLimit",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Usage Limit"}),e.jsx(Le,{children:e.jsx(Q,{type:"number",placeholder:"Unlimited",className:"text-gray-900 bg-white border-gray-300",...g,onChange:M=>g.onChange(parseInt(M.target.value)||void 0)})}),e.jsx(Ke,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(De,{control:$.control,name:"validFrom",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Valid From"}),e.jsx(Le,{children:e.jsx(Q,{type:"date",className:"text-gray-900 bg-white border-gray-300",...g,value:g.value?new Date(g.value).toISOString().split("T")[0]:"",onChange:M=>g.onChange(new Date(M.target.value))})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:$.control,name:"validUntil",render:({field:g})=>e.jsxs(Ie,{children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Valid Until"}),e.jsx(Le,{children:e.jsx(Q,{type:"date",className:"text-gray-900 bg-white border-gray-300",...g,value:g.value?new Date(g.value).toISOString().split("T")[0]:"",onChange:M=>g.onChange(new Date(M.target.value))})}),e.jsx(Ke,{})]})})]}),e.jsx(De,{control:$.control,name:"isActive",render:({field:g})=>e.jsxs(Ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Oe,{className:"text-gray-900 font-semibold",children:"Active Status"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Enable this coupon for customer use"})]}),e.jsx(Le,{children:e.jsx(Rr,{checked:g.value,onCheckedChange:g.onChange})})]})}),e.jsxs(fa,{children:[e.jsx(S,{type:"button",variant:"outline",className:"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",onClick:()=>fe(!1),children:"Cancel"}),e.jsxs(S,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:mo.isPending||xo.isPending,children:[e.jsx(da,{className:"w-4 h-4 mr-2"}),mo.isPending||xo.isPending?"Saving...":J?"Update Coupon":"Save Coupon"]})]})]})})]})})]})}var uc="Avatar",[Y1,Ck]=ks(uc),[X1,xf]=Y1(uc),ff=x.forwardRef((r,t)=>{const{__scopeAvatar:s,...a}=r,[n,i]=x.useState("idle");return e.jsx(X1,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:e.jsx(_e.span,{...a,ref:t})})});ff.displayName=uc;var gf="AvatarImage",pf=x.forwardRef((r,t)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=r,o=xf(gf,s),l=e2(a,i),d=Oa(u=>{n(u),o.onImageLoadingStatusChange(u)});return cs(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(_e.img,{...i,ref:t,src:a}):null});pf.displayName=gf;var yf="AvatarFallback",vf=x.forwardRef((r,t)=>{const{__scopeAvatar:s,delayMs:a,...n}=r,i=xf(yf,s),[o,l]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(_e.span,{...n,ref:t}):null});vf.displayName=yf;function Kd(r,t){return r?t?(r.src!==t&&(r.src=t),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function e2(r,{referrerPolicy:t,crossOrigin:s}){const a=s2(),n=x.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=x.useState(()=>Kd(i,r));return cs(()=>{l(Kd(i,r))},[i,r]),cs(()=>{const d=c=>()=>{l(c)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,s,t]),o}function t2(){return()=>{}}function s2(){return x.useSyncExternalStore(t2,()=>!0,()=>!1)}var bf=ff,jf=pf,wf=vf;const Tn=x.forwardRef(({className:r,...t},s)=>e.jsx(bf,{ref:s,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t}));Tn.displayName=bf.displayName;const Nf=x.forwardRef(({className:r,...t},s)=>e.jsx(jf,{ref:s,className:X("aspect-square h-full w-full",r),...t}));Nf.displayName=jf.displayName;const En=x.forwardRef(({className:r,...t},s)=>e.jsx(wf,{ref:s,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t}));En.displayName=wf.displayName;const r2=nn({firstName:Ze().min(1,"First name is required"),lastName:Ze().min(1,"Last name is required"),email:Ze().email("Valid email is required")});function a2(){var Z,B,F,U;const{user:r,signOut:t,updateProfile:s}=Xa(),{toast:a}=bt(),[,n]=qt(),[i,o]=x.useState("dashboard"),[l,d]=x.useState(!1),u=yn({resolver:vn(r2),defaultValues:{firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",email:(r==null?void 0:r.email)||""}});x.useEffect(()=>{r&&u.reset({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||""})},[r,u]);const[h,c]=x.useState({totalSpent:1250.5,walletBalance:0,wishlistCount:15,deliveredOrders:8,pendingOrders:2,processingOrders:1,activeCoupons:4,requestedProducts:0}),[m,f]=x.useState([]);if(x.useEffect(()=>{r!=null&&r.id?fetch(`/api/orders/user/${r.id}`).then(T=>T.json()).then(T=>{const O=T.map(E=>({id:E._id,date:new Date(E.createdAt).toISOString().split("T")[0],status:E.status.toLowerCase(),total:E.total,items:E.items||[]}));f(O)}).catch(T=>console.error("Failed to fetch orders:",T)):f([{id:"ORD-2025-001",date:"2025-01-27",status:"delivered",total:89.99,items:[{name:"Royal Canin Cat Food 2kg",quantity:1,price:45.99},{name:"Cat Interactive Toy",quantity:2,price:22}]},{id:"ORD-2025-002",date:"2025-01-25",status:"processing",total:156.5,items:[{name:"Premium Dog Food 5kg",quantity:1,price:78.5},{name:"Dog Grooming Kit",quantity:1,price:78}]},{id:"ORD-2025-003",date:"2025-01-20",status:"pending",total:234.75,items:[{name:"Cat Litter Premium 10kg",quantity:2,price:89.9},{name:"Cat Tree Large",quantity:1,price:144.85}]}])},[r]),x.useEffect(()=>{r||n("/sign-in")},[r,n]),!r)return null;const p=T=>{switch(T){case"delivered":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},v=T=>{switch(T){case"delivered":return e.jsx(Zr,{className:"h-4 w-4"});case"processing":return e.jsx(pr,{className:"h-4 w-4"});case"pending":return e.jsx(za,{className:"h-4 w-4"});default:return e.jsx(At,{className:"h-4 w-4"})}},y=async()=>{await t(),n("/")},b=[{key:"dashboard",icon:e.jsx(rs,{className:"h-4 w-4"}),label:"Dashboard"},{key:"profile",icon:e.jsx(rs,{className:"h-4 w-4"}),label:"My Profile"},{key:"orders",icon:e.jsx(Wi,{className:"h-4 w-4"}),label:"My Orders"},{key:"wishlist",icon:e.jsx(us,{className:"h-4 w-4"}),label:"My Wishlist"},{key:"requests",icon:e.jsx(Zt,{className:"h-4 w-4"}),label:"Track Requests"},{key:"address",icon:e.jsx(mr,{className:"h-4 w-4"}),label:"My Address"},{key:"coupons",icon:e.jsx(Fa,{className:"h-4 w-4"}),label:"My Coupons"},{key:"rewards",icon:e.jsx(Yt,{className:"h-4 w-4"}),label:"Reward Points"},{key:"refer",icon:e.jsx(rs,{className:"h-4 w-4"}),label:"Refer a Friend"},{key:"newsletter",icon:e.jsx(Zt,{className:"h-4 w-4"}),label:"Newsletters"},{key:"savings",icon:e.jsx(ci,{className:"h-4 w-4"}),label:"Savings Plan"}],w=[{key:"faq",icon:e.jsx(g0,{className:"h-4 w-4"}),label:"FAQ"},{key:"call",icon:e.jsx(Vs,{className:"h-4 w-4"}),label:"Call to Order"},{key:"support",icon:e.jsx(Zt,{className:"h-4 w-4"}),label:"Customer Support"},{key:"chat",icon:e.jsx(Zt,{className:"h-4 w-4"}),label:"Chat in Messenger"}],j=()=>{var T,O,E,R;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsxs(Tn,{className:"h-12 w-12 sm:h-16 sm:w-16 flex-shrink-0",children:[e.jsx(Nf,{src:"/api/placeholder/64/64"}),e.jsx(En,{className:"bg-green-100 text-green-800 text-sm sm:text-lg",children:((T=r.firstName)==null?void 0:T[0])||((O=r.name)==null?void 0:O[0])||((R=(E=r.email)==null?void 0:E[0])==null?void 0:R.toUpperCase())})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold truncate",children:["Hello ",r.firstName||r.name||"User","!"]}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm md:text-base",children:"From your account dashboard you can easily manage your profile by checking your orders history, reward points lists, your wishlists, coupons info"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-1",children:[e.jsxs(K,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[e.jsx(Ne,{className:"pb-2 sm:pb-3",children:e.jsx(ke,{className:"text-xs sm:text-sm font-medium",children:"TOTAL SPENT"})}),e.jsx(te,{children:e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold",children:["$",h.totalSpent.toFixed(2)]})})]}),e.jsxs(K,{className:"bg-gradient-to-r from-green-400 to-emerald-500 text-white",children:[e.jsx(Ne,{className:"pb-2 sm:pb-3",children:e.jsx(ke,{className:"text-xs sm:text-sm font-medium",children:"TOTAL WALLET"})}),e.jsx(te,{children:e.jsx("div",{className:"text-2xl sm:text-3xl font-bold",children:h.walletBalance})})]}),e.jsxs(K,{className:"bg-gradient-to-r from-pink-400 to-rose-500 text-white",children:[e.jsx(Ne,{className:"pb-2 sm:pb-3",children:e.jsx(ke,{className:"text-xs sm:text-sm font-medium",children:"TOTAL WISHLIST"})}),e.jsx(te,{children:e.jsx("div",{className:"text-2xl sm:text-3xl font-bold",children:h.wishlistCount})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-1",children:[e.jsxs(K,{className:"text-center",children:[e.jsxs(Ne,{className:"pb-1 sm:pb-2",children:[e.jsx(Zr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mx-auto"}),e.jsx(ke,{className:"text-xs sm:text-sm text-gray-600",children:"DELIVERED ORDER"})]}),e.jsx(te,{children:e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:h.deliveredOrders})})]}),e.jsxs(K,{className:"text-center",children:[e.jsxs(Ne,{className:"pb-1 sm:pb-2",children:[e.jsx(za,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mx-auto"}),e.jsx(ke,{className:"text-xs sm:text-sm text-gray-600",children:"PENDING ORDER"})]}),e.jsx(te,{children:e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:h.pendingOrders})})]}),e.jsxs(K,{className:"text-center",children:[e.jsxs(Ne,{className:"pb-1 sm:pb-2",children:[e.jsx(pr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600 mx-auto"}),e.jsx(ke,{className:"text-xs sm:text-sm text-gray-600",children:"PROCESSING ORDER"})]}),e.jsx(te,{children:e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:h.processingOrders})})]}),e.jsxs(K,{className:"text-center",children:[e.jsxs(Ne,{className:"pb-1 sm:pb-2",children:[e.jsx(Fa,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 mx-auto"}),e.jsx(ke,{className:"text-xs sm:text-sm text-gray-600",children:"ACTIVE COUPON"})]}),e.jsx(te,{children:e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:h.activeCoupons})})]})]}),e.jsxs(K,{className:"text-center",children:[e.jsxs(Ne,{className:"pb-1 sm:pb-2",children:[e.jsx(Zt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600 mx-auto"}),e.jsx(ke,{className:"text-xs sm:text-sm text-gray-600",children:"REQUEST PRODUCT"})]}),e.jsx(te,{children:e.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:h.requestedProducts})})]})]})},C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"My Orders"}),e.jsx("div",{className:"space-y-4",children:m.map(T=>e.jsxs(K,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:T.id}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(T.date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(he,{className:`${p(T.status)} mb-2`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[v(T.status),e.jsx("span",{className:"capitalize",children:T.status})]})}),e.jsxs("p",{className:"font-bold",children:["$",T.total.toFixed(2)]})]})]}),e.jsx("div",{className:"space-y-2",children:T.items.map((O,E)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[O.name," x",O.quantity]}),e.jsxs("span",{children:["$",O.price.toFixed(2)]})]},E))}),e.jsxs("div",{className:"mt-4 flex space-x-2",children:[e.jsx(re,{href:`/invoice/${T.id}`,children:e.jsx(S,{variant:"outline",size:"sm",children:"View Details"})}),e.jsx(re,{href:`/track-order/${T.id}`,children:e.jsx(S,{variant:"outline",size:"sm",children:"Track Order"})})]})]},T.id))})]}),P=async T=>{const O=await s(T);O.success?(a({title:"Profile Updated",description:"Your profile has been updated successfully."}),d(!1)):a({title:"Update Failed",description:O.message||"Failed to update profile. Please try again.",variant:"destructive"})},_=()=>{var T,O,E,R;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"My Profile"}),!l&&e.jsxs(S,{variant:"outline",size:"sm",onClick:()=>d(!0),"data-testid":"button-edit-profile",children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),e.jsx(K,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Tn,{className:"h-20 w-20",children:e.jsx(En,{className:"bg-green-100 text-green-800 text-xl",children:((T=r.firstName)==null?void 0:T[0])||((O=r.name)==null?void 0:O[0])||((R=(E=r.email)==null?void 0:E[0])==null?void 0:R.toUpperCase())})}),e.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold truncate",children:r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.name||"User"}),e.jsx("p",{className:"text-gray-600 truncate break-all",children:r.email||""})]})]}),e.jsx(Mt,{}),l?e.jsx(jn,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(P),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(De,{control:u.control,name:"firstName",render:({field:z})=>e.jsxs(Ie,{children:[e.jsx(Oe,{children:"First Name"}),e.jsx(Le,{children:e.jsx(Q,{...z,"data-testid":"input-firstName"})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:u.control,name:"lastName",render:({field:z})=>e.jsxs(Ie,{children:[e.jsx(Oe,{children:"Last Name"}),e.jsx(Le,{children:e.jsx(Q,{...z,"data-testid":"input-lastName"})}),e.jsx(Ke,{})]})}),e.jsx(De,{control:u.control,name:"email",render:({field:z})=>e.jsxs(Ie,{className:"md:col-span-2",children:[e.jsx(Oe,{children:"Email"}),e.jsx(Le,{children:e.jsx(Q,{...z,type:"email","data-testid":"input-email"})}),e.jsx(Ke,{})]})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(S,{type:"submit",disabled:u.formState.isSubmitting,"data-testid":"button-save-profile",children:[e.jsx(da,{className:"h-4 w-4 mr-2"}),u.formState.isSubmitting?"Saving...":"Save Changes"]}),e.jsxs(S,{type:"button",variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-edit",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("p",{className:"mt-1","data-testid":"text-firstName",children:r.firstName||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("p",{className:"mt-1","data-testid":"text-lastName",children:r.lastName||"Not set"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 truncate break-all","data-testid":"text-email",children:r.email||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Member Since"}),e.jsx("p",{className:"mt-1",children:"January 2025"})]})]})]})})]})},L=()=>{switch(i){case"dashboard":return j();case"orders":return C();case"profile":return _();case"wishlist":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"My Wishlist"}),e.jsx("p",{children:"Your saved items will appear here."})]});default:return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Coming Soon"}),e.jsx("p",{children:"This feature is under development."})]})}};return e.jsx("div",{className:"min-h-screen bg-gray-50 overflow-x-hidden",children:e.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-2 sm:gap-1",children:[e.jsx("div",{className:"w-full lg:w-80",children:e.jsxs(K,{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(Tn,{className:"flex-shrink-0",children:e.jsx(En,{className:"bg-green-100 text-green-800",children:((Z=r.firstName)==null?void 0:Z[0])||((B=r.name)==null?void 0:B[0])||((U=(F=r.email)==null?void 0:F[0])==null?void 0:U.toUpperCase())})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate",children:r.firstName||r.name||"User"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:r.email||""})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-purple-700 mb-3",children:"My Account"}),b.map(T=>e.jsxs("button",{onClick:()=>o(T.key),className:`w-full flex items-center space-x-2 p-2 rounded-lg text-left hover:bg-gray-100 ${i===T.key?"bg-purple-100 text-purple-700":"text-gray-700"}`,children:[T.icon,e.jsx("span",{className:"text-sm",children:T.label})]},T.key)),e.jsx(Mt,{className:"my-4"}),e.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Help"}),w.map(T=>e.jsxs("button",{className:"w-full flex items-center space-x-2 p-2 rounded-lg text-left hover:bg-gray-100 text-gray-700",children:[T.icon,e.jsx("span",{className:"text-sm",children:T.label})]},T.key)),e.jsx(Mt,{className:"my-4"}),e.jsxs("button",{onClick:y,className:"w-full flex items-center space-x-2 p-2 rounded-lg text-left hover:bg-red-50 text-red-600",children:[e.jsx(mh,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})]})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx(K,{className:"p-3 sm:p-6",children:L()})})]})})})}function n2(){const{state:r,updateQuantity:t,removeItem:s,clearCart:a,applyCoupon:n,removeCoupon:i,getFinalTotal:o}=Cs(),[l,d]=x.useState(!1),[u,h]=x.useState(""),[c,m]=x.useState(""),[f,p]=x.useState(!1),v=(P,_)=>{_>0&&t(P,_)},y=()=>{d(!0),a(),setTimeout(()=>d(!1),500)},b=async()=>{if(!u.trim()){m("Please enter a coupon code");return}p(!0),m("");try{const P=await fetch("/api/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u.trim(),orderAmount:r.total})}),_=await P.json();P.ok&&_.valid?(n({code:_.coupon.code,discount:_.coupon.discountAmount}),h(""),m("")):m(_.message||"Invalid coupon code")}catch(P){console.error("Coupon validation error:",P),m("Failed to validate coupon. Please try again.")}finally{p(!1)}},w=()=>{i()},j=P=>`৳${P.toLocaleString()}`,C=o();return r.items.length===0?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"pt-16 md:pt-24 pb-8",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Wi,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3",children:"Your Cart is Empty"}),e.jsx("p",{className:"text-gray-600 mb-8 text-sm md:text-base",children:"Looks like you haven't added any items to your cart yet."}),e.jsx(re,{href:"/products",children:e.jsxs(S,{size:"lg",className:"w-full md:w-auto bg-[#26732d] hover:bg-[#1e5d26]",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})})]})})}),e.jsx(pe,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"pt-16 md:pt-24 pb-8",children:e.jsxs("div",{className:"max-w-md md:max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5 md:h-6 md:w-6"}),"Shopping Cart"]}),e.jsx(S,{variant:"outline",onClick:y,disabled:l,className:"text-xs md:text-sm bg-black text-white border-black hover:bg-white hover:text-black hover:border-black transition-colors",size:"sm",children:l?"Clearing...":"Clear"})]}),e.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[r.itemCount," ",r.itemCount===1?"item":"items"," in your cart"]})]}),e.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e.jsx("div",{className:"md:col-span-2 space-y-3 mb-6 md:mb-0",children:r.items.map(P=>e.jsx(K,{className:"shadow-sm",children:e.jsx(te,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:P.image,alt:P.name,className:"w-16 h-16 md:w-20 md:h-20 object-cover rounded-lg border"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-sm md:text-base text-gray-900 line-clamp-2 mb-1",children:P.name}),e.jsx("p",{className:"text-[#26732d] font-bold text-sm md:text-base mb-3",children:j(P.price)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(P.id,P.quantity-1),disabled:P.quantity<=1,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 rounded-full p-1 transition-colors",children:e.jsx(ql,{className:"h-3 w-3 md:h-4 md:w-4"})}),e.jsx("span",{className:"w-8 text-center text-sm font-medium",children:P.quantity}),e.jsx("button",{onClick:()=>v(P.id,P.quantity+1),disabled:P.quantity>=P.maxStock,className:"bg-gray-100 hover:bg-gray-200 disabled:opacity-50 rounded-full p-1 transition-colors",children:e.jsx(Ss,{className:"h-3 w-3 md:h-4 md:w-4"})}),P.maxStock&&e.jsxs(he,{variant:"secondary",className:"text-xs ml-2",children:["Max: ",P.maxStock]})]}),e.jsx("button",{onClick:()=>s(P.id),className:"bg-red-50 hover:bg-red-100 text-red-600 rounded-full p-1.5 transition-colors",children:e.jsx(Fs,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsx("p",{className:"text-sm md:text-base font-bold text-gray-900",children:j(P.price*P.quantity)})})]})})},P.id))}),e.jsx("div",{className:"md:col-span-1",children:e.jsx(K,{className:"sticky top-20",children:e.jsxs(te,{className:"p-4 md:p-6",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[e.jsxs("span",{children:["Subtotal (",r.itemCount," items)"]}),e.jsx("span",{className:"font-medium",children:j(r.total)})]}),e.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Free"})]}),r.appliedCoupon&&e.jsxs("div",{className:"flex justify-between text-sm md:text-base text-green-600",children:[e.jsxs("span",{children:["Discount (",r.appliedCoupon.code,")"]}),e.jsxs("span",{className:"font-medium",children:["-",j(r.appliedCoupon.discount)]})]}),e.jsx(Mt,{}),e.jsxs("div",{className:"flex justify-between text-base md:text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-[#26732d]",children:j(C)})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(In,{size:16,className:"text-[#26732d]"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Have a coupon?"})]}),r.appliedCoupon?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(In,{size:14,className:"text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:[r.appliedCoupon.code," Applied"]})]}),e.jsx("button",{onClick:w,className:"text-xs text-green-600 hover:text-green-800 underline",children:"Remove"})]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["You saved ",j(r.appliedCoupon.discount),"!"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{placeholder:"Enter coupon code",value:u,onChange:P=>h(P.target.value),className:"flex-1 text-sm",onKeyPress:P=>P.key==="Enter"&&b()}),e.jsx(S,{onClick:b,disabled:f||!u.trim(),size:"sm",className:"bg-[#26732d] hover:bg-[#1e5d26] text-white px-4",children:f?"Applying...":"Apply"})]}),c&&e.jsx("p",{className:"text-xs text-red-500",children:c}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter your coupon code to apply discount"})]})]})]}),e.jsxs("div",{className:"space-y-4 mt-8",children:[e.jsx(re,{href:"/checkout",children:e.jsx(S,{className:"w-full bg-[#ffde59] hover:bg-[#e6c950] text-black font-medium py-3",size:"lg","data-testid":"proceed-to-checkout-button",children:"Proceed to Checkout"})}),e.jsx(re,{href:"/products",children:e.jsxs(S,{variant:"outline",className:"w-full border-[#26732d] text-[#26732d] hover:bg-[#26732d] hover:text-white py-3",size:"lg",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})})]})]})})})]})]})}),e.jsx(pe,{})]})}var hc="Radio",[i2,kf]=ks(hc),[o2,l2]=i2(hc),Cf=x.forwardRef((r,t)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...h}=r,[c,m]=x.useState(null),f=dt(t,y=>m(y)),p=x.useRef(!1),v=c?u||!!c.closest("form"):!0;return e.jsxs(o2,{scope:s,checked:n,disabled:o,children:[e.jsx(_e.button,{type:"button",role:"radio","aria-checked":n,"data-state":Pf(n),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:f,onClick:ge(r.onClick,y=>{n||d==null||d(),v&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),v&&e.jsx(c2,{control:c,bubbles:!p.current,name:a,value:l,checked:n,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Cf.displayName=hc;var Sf="RadioIndicator",_f=x.forwardRef((r,t)=>{const{__scopeRadio:s,forceMount:a,...n}=r,i=l2(Sf,s);return e.jsx(Vn,{present:a||i.checked,children:e.jsx(_e.span,{"data-state":Pf(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});_f.displayName=Sf;var c2=r=>{const{control:t,checked:s,bubbles:a=!0,...n}=r,i=x.useRef(null),o=Wn(s),l=Li(t);return x.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==s&&c){const m=new Event("click",{bubbles:a});c.call(d,s),d.dispatchEvent(m)}},[o,s,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...r.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pf(r){return r?"checked":"unchecked"}var d2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mc="RadioGroup",[u2,Sk]=ks(mc,[Bi,kf]),Tf=Bi(),Ef=kf(),[h2,m2]=u2(mc),Af=x.forwardRef((r,t)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:h=!0,onValueChange:c,...m}=r,f=Tf(s),p=Oi(u),[v,y]=gr({prop:i,defaultProp:n,onChange:c});return e.jsx(h2,{scope:s,name:a,required:o,disabled:l,value:v,onValueChange:y,children:e.jsx(gu,{asChild:!0,...f,orientation:d,dir:p,loop:h,children:e.jsx(_e.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:p,...m,ref:t})})})});Af.displayName=mc;var Rf="RadioGroupItem",If=x.forwardRef((r,t)=>{const{__scopeRadioGroup:s,disabled:a,...n}=r,i=m2(Rf,s),o=i.disabled||a,l=Tf(s),d=Ef(s),u=x.useRef(null),h=dt(t,u),c=i.value===n.value,m=x.useRef(!1);return x.useEffect(()=>{const f=v=>{d2.includes(v.key)&&(m.current=!0)},p=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",p)}},[]),e.jsx(pu,{asChild:!0,...l,focusable:!o,active:c,children:e.jsx(Cf,{disabled:o,required:i.required,checked:c,...d,...n,name:i.name,ref:h,onCheck:()=>i.onValueChange(n.value),onKeyDown:ge(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:ge(n.onFocus,()=>{var f;m.current&&((f=u.current)==null||f.click())})})})});If.displayName=Rf;var x2="RadioGroupIndicator",Of=x.forwardRef((r,t)=>{const{__scopeRadioGroup:s,...a}=r,n=Ef(s);return e.jsx(_f,{...n,...a,ref:t})});Of.displayName=x2;var Lf=Af,Mf=If,f2=Of;const Df=x.forwardRef(({className:r,...t},s)=>e.jsx(Lf,{className:X("grid gap-2",r),...t,ref:s}));Df.displayName=Lf.displayName;const ui=x.forwardRef(({className:r,...t},s)=>e.jsx(Mf,{ref:s,className:X("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...t,children:e.jsx(f2,{className:"flex items-center justify-center",children:e.jsx(p0,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ui.displayName=Mf.displayName;function g2({orderId:r,amount:t,customerInfo:s,onSuccess:a,onError:n,metadata:i}){const{toast:o}=bt(),[l,d]=x.useState(null),u=St({mutationFn:async()=>{console.log("Initializing payment for order:",r),console.log("Payment data:",{orderId:r,amount:t,customerInfo:s,metadata:i});try{const m=await Ir("/api/payments/create",{method:"POST",body:JSON.stringify({orderId:r,amount:t,customerInfo:s,metadata:i})});return console.log("Payment API response:",m),m}catch(m){throw console.error("Payment API error:",m),m}},onSuccess:m=>{if(console.log("Payment initialization success:",m),m.success&&m.paymentUrl)d(m.paymentUrl),o({title:"Payment initialized",description:"Click 'Pay Now' to complete your payment securely."});else{const f=m.message||m.error||"Failed to initialize payment";console.error("Payment initialization failed:",f),n==null||n(f),o({title:"Payment Error",description:f,variant:"destructive"})}},onError:m=>{let f="Payment initialization failed";if(m&&typeof m=="object"&&"response"in m){const p=m.response;f=(p==null?void 0:p.error)||(p==null?void 0:p.message)||f}else typeof m=="string"?f=m:m instanceof Error&&(f=m.message);console.error("Payment initialization error:",m),n==null||n(f),o({title:"Payment Error",description:f,variant:"destructive"})}}),h=()=>{l&&(window.open(l,"_blank","noopener,noreferrer"),c())},c=()=>{const m=setInterval(async()=>{try{const p=await(await fetch(`/api/payments/status/${r}`)).json();p.status==="completed"?(clearInterval(m),a==null||a(p.transactionId),o({title:"Payment Successful!",description:"Your payment has been processed successfully."})):(p.status==="failed"||p.status==="cancelled")&&(clearInterval(m),n==null||n(`Payment ${p.status}`),o({title:"Payment Failed",description:`Payment was ${p.status}. Please try again.`,variant:"destructive"}))}catch(f){console.error("Error checking payment status:",f)}},5e3);setTimeout(()=>{clearInterval(m)},6e5)};return l?e.jsxs(K,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Ne,{className:"text-center",children:[e.jsxs(ke,{className:"flex items-center justify-center gap-2",children:[e.jsx(ci,{className:"w-5 h-5"}),"Complete Payment"]}),e.jsx(as,{children:"Click the button below to complete your payment securely with RupantorPay"})]}),e.jsxs(te,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Order ID:"}),e.jsx("span",{className:"font-mono text-sm",children:r})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Amount:"}),e.jsxs("span",{className:"font-semibold",children:["৳",t.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer:"}),e.jsx("span",{className:"text-sm",children:s.fullname})]})]}),e.jsxs(S,{onClick:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",children:[e.jsx(w0,{className:"w-4 h-4 mr-2"}),"Pay Now with RupantorPay"]}),e.jsx("div",{className:"text-center",children:e.jsx(he,{variant:"secondary",className:"text-xs",children:"Secure payment powered by RupantorPay"})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:'After clicking "Pay Now", a new window will open. Complete your payment there and return to this page.'})]})]}):e.jsxs(K,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Ne,{className:"text-center",children:[e.jsxs(ke,{className:"flex items-center justify-center gap-2",children:[e.jsx(ci,{className:"w-5 h-5"}),"Initialize Payment"]}),e.jsx(as,{children:"Initialize secure payment with RupantorPay"})]}),e.jsxs(te,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Order ID:"}),e.jsx("span",{className:"font-mono text-sm",children:r})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Amount:"}),e.jsxs("span",{className:"font-semibold",children:["৳",t.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer:"}),e.jsx("span",{className:"text-sm",children:s.fullname})]})]}),e.jsx(S,{onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsx(pi,{className:"w-4 h-4 mr-2 animate-spin"}),"Initializing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ci,{className:"w-4 h-4 mr-2"}),"Initialize Payment"]})}),e.jsx("div",{className:"text-center",children:e.jsx(he,{variant:"secondary",className:"text-xs",children:"Secure payment powered by RupantorPay"})})]})]})}function p2(){var it;const{state:r,clearCart:t,applyCoupon:s,removeCoupon:a,getFinalTotal:n}=Cs(),{user:i}=Xa(),{toast:o}=bt(),[,l]=qt(),[d,u]=x.useState(!1),[h,c]=x.useState(!1),[m,f]=x.useState({email:"",password:"",remember:!1}),[p,v]=x.useState(""),[y,b]=x.useState(""),[w,j]=x.useState(!1),[C,P]=x.useState({name:"",phone:"",email:"",username:"",password:"",createAccount:!1}),[_,L]=x.useState({firstName:"",lastName:"",phone:"",alternativePhone:"",division:"",district:"",thanaUpazilla:"",postCode:"",address:"",email:""}),[Z,B]=x.useState(""),[F,U]=x.useState("COD"),[T,O]=x.useState(!1),[E,R]=x.useState(!1),[z,le]=x.useState(null);x.useEffect(()=>{r.items.length===0&&l("/")},[r.items.length,l]),x.useEffect(()=>{i&&(P(ee=>({...ee,email:i.email||"",name:`${i.firstName||""} ${i.lastName||""}`.trim()})),L(ee=>({...ee,firstName:i.firstName||"",lastName:i.lastName||"",email:i.email||""})))},[i]);const J=async ee=>{ee.preventDefault(),o({title:"Login functionality coming soon",description:"Please proceed as guest for now.",variant:"default"}),u(!1)},ae=async()=>{if(!p.trim()){b("Please enter a coupon code");return}j(!0),b("");try{const ee=await fetch("/api/coupons/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:p.trim(),orderAmount:r.total})}),W=await ee.json();ee.ok&&W.valid?(s({code:W.coupon.code,discount:W.coupon.discountAmount}),v(""),b(""),o({title:"Coupon applied successfully!",description:`You saved ৳${W.coupon.discountAmount}`})):b(W.message||"Invalid coupon code")}catch(ee){console.error("Coupon validation error:",ee),b("Failed to validate coupon. Please try again.")}finally{j(!1)}},Pe=()=>{a(),o({title:"Coupon removed",description:"Discount has been removed from your order."})},fe=St({mutationFn:async ee=>await Ir("/api/orders",{method:"POST",body:JSON.stringify(ee)}),onSuccess:ee=>{F==="RupantorPay"?(le(ee.invoice._id),R(!0),o({title:"Order created successfully!",description:"Please complete your payment to confirm the order."})):(t(),o({title:"Order placed successfully!",description:`Order #${ee.invoice.invoiceNumber} has been created.`}),l(`/invoice/${ee.invoice._id}`))},onError:ee=>{o({title:"Order failed",description:"Something went wrong. Please try again.",variant:"destructive"})}}),He=async ee=>{ee.preventDefault();const W=[];if(_.firstName.trim()||W.push("First Name"),_.phone.trim()||W.push("Phone Number"),_.email.trim()||W.push("Email Address"),_.address.trim()||W.push("Full Address"),_.division.trim()||W.push("Division"),_.district.trim()||W.push("District"),W.length>0){o({title:"Missing Required Information",description:`Please fill in: ${W.join(", ")}`,variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)){o({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}if(!/^(\+88)?01[3-9]\d{8}$/.test(_.phone.replace(/\s/g,""))){o({title:"Invalid Phone Number",description:"Please enter a valid Bangladesh mobile number (e.g., 01XXXXXXXXX).",variant:"destructive"});return}O(!0),n();const Ve={userId:(i==null?void 0:i.id)||"guest",customerInfo:{name:`${_.firstName} ${_.lastName}`.trim(),email:_.email,phone:_.phone,alternativePhone:_.alternativePhone,address:{address:_.address,division:_.division,district:_.district,thanaUpazilla:_.thanaUpazilla,postCode:_.postCode}},items:r.items.map(ye=>({productId:ye.id,name:ye.name,price:ye.price,quantity:ye.quantity,image:ye.image})),discountCode:r.appliedCoupon?r.appliedCoupon.code:null,paymentMethod:F,shippingAddress:{address:_.address,division:_.division,district:_.district,thanaUpazilla:_.thanaUpazilla,postCode:_.postCode},orderNotes:Z};try{await fe.mutateAsync(Ve)}catch(ye){console.error("Order creation failed:",ye)}finally{O(!1)}},Xe=ee=>{t(),R(!1),o({title:"Payment successful!",description:`Payment completed successfully. Transaction ID: ${ee}`}),l(`/invoice/${z}`)},et=ee=>{R(!1),o({title:"Payment failed",description:ee,variant:"destructive"})};if(r.items.length===0)return null;if(E&&z){const ee=n();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#26732d]",children:"Complete Payment"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Your order has been created. Please complete the payment to confirm."})]}),e.jsx(g2,{orderId:z,amount:ee,customerInfo:{fullname:`${_.firstName} ${_.lastName}`.trim(),email:_.email,phone:_.phone},onSuccess:Xe,onError:et,metadata:{orderType:"ecommerce",items:r.items.length,coupon:((it=r.appliedCoupon)==null?void 0:it.code)||null}}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(S,{variant:"outline",onClick:()=>{R(!1),le(null)},className:"text-gray-600 hover:text-gray-800",children:"← Back to Checkout"})})]})}),e.jsx(pe,{})]})}return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 bg-white rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/logo.png",alt:"Meow Meow Pet Shop",className:"w-12 h-12"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#26732d]",children:"Checkout"}),e.jsx("p",{className:"text-gray-600",children:"Complete your order"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-semibold text-[#26732d]",children:"📞 01405-045023"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Customer Support"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!i&&e.jsxs(K,{className:"border-[#ffde59] border-2",children:[e.jsx(Ne,{className:"bg-[#ffde59]/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-5 w-5 text-[#26732d]"}),e.jsx(ke,{className:"text-lg text-[#26732d]",children:"Already have an account?"})]}),e.jsxs(S,{variant:"link",onClick:()=>u(!d),className:"text-[#26732d] hover:text-[#1e5d26] font-medium",children:["Click here to login",d?e.jsx(el,{className:"ml-2 h-4 w-4"}):e.jsx(xi,{className:"ml-2 h-4 w-4"})]})]})}),d&&e.jsxs(te,{className:"pt-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome back! Sign in to your account."}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"email",className:"text-[#26732d] font-medium",children:"Username or email *"}),e.jsx(Q,{id:"email",type:"email",value:m.email,onChange:ee=>f(W=>({...W,email:ee.target.value})),required:!0,className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]"})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"password",className:"text-[#26732d] font-medium",children:"Password *"}),e.jsx(Q,{id:"password",type:"password",value:m.password,onChange:ee=>f(W=>({...W,password:ee.target.value})),required:!0,className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bs,{id:"remember",checked:m.remember,onCheckedChange:ee=>f(W=>({...W,remember:ee})),className:"border-[#26732d] data-[state=checked]:bg-[#26732d]"}),e.jsx(Se,{htmlFor:"remember",className:"text-sm text-gray-600",children:"Remember me"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{type:"submit",className:"bg-[#ffde59] hover:bg-[#e6c950] text-black font-medium",children:"Sign In"}),e.jsx(S,{variant:"link",className:"text-[#26732d] hover:text-[#1e5d26]",children:"Lost your password?"})]})]})]})]}),e.jsxs(K,{className:"border-[#26732d]/30",children:[e.jsx(Ne,{className:"bg-[#26732d]/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"h-5 w-5 text-[#26732d]"}),e.jsx(ke,{className:"text-xl text-[#26732d]",children:"Customer Information"})]})}),e.jsx(te,{className:"pt-6",children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"customer-first-name",className:"text-[#26732d] font-medium",children:"First Name *"}),e.jsx(Q,{id:"customer-first-name",value:_.firstName,onChange:ee=>L(W=>({...W,firstName:ee.target.value})),placeholder:"Enter your first name",required:!0,className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-first-name"})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"customer-last-name",className:"text-[#26732d] font-medium",children:"Last Name"}),e.jsx(Q,{id:"customer-last-name",value:_.lastName,onChange:ee=>L(W=>({...W,lastName:ee.target.value})),placeholder:"Enter your last name",className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-last-name"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"customer-phone",className:"text-[#26732d] font-medium",children:"Phone *"}),e.jsx(Q,{id:"customer-phone",type:"tel",value:_.phone,onChange:ee=>L(W=>({...W,phone:ee.target.value})),placeholder:"Ex: 01XXXXXXXX",required:!0,className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-phone"})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"customer-alt-phone",className:"text-[#26732d] font-medium",children:"Alternative Phone"}),e.jsx(Q,{id:"customer-alt-phone",type:"tel",value:_.alternativePhone,onChange:ee=>L(W=>({...W,alternativePhone:ee.target.value})),placeholder:"Ex: 01XXXXXXXX",className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-alternative-phone"})]})]})]})})]}),e.jsxs(K,{className:"border-[#26732d]/30",children:[e.jsx(Ne,{className:"bg-[#26732d]/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mr,{className:"h-5 w-5 text-[#26732d]"}),e.jsx(ke,{className:"text-xl text-[#26732d]",children:"Select Location"})]})}),e.jsx(te,{className:"pt-6",children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-division",className:"text-[#26732d] font-medium",children:"Division *"}),e.jsxs("select",{className:"w-full mt-1 p-3 border border-gray-300 rounded-md focus:border-[#26732d] focus:ring-[#26732d] bg-white",value:_.division,onChange:ee=>L(W=>({...W,division:ee.target.value})),"data-testid":"select-division",children:[e.jsx("option",{value:"",children:"Select Division"}),e.jsx("option",{value:"dhaka",children:"Dhaka"}),e.jsx("option",{value:"chittagong",children:"Chittagong"}),e.jsx("option",{value:"sylhet",children:"Sylhet"}),e.jsx("option",{value:"rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"khulna",children:"Khulna"}),e.jsx("option",{value:"barisal",children:"Barisal"}),e.jsx("option",{value:"rangpur",children:"Rangpur"}),e.jsx("option",{value:"mymensingh",children:"Mymensingh"})]})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-district",className:"text-[#26732d] font-medium",children:"District *"}),e.jsxs("select",{className:"w-full mt-1 p-3 border border-gray-300 rounded-md focus:border-[#26732d] focus:ring-[#26732d] bg-white",value:_.district,onChange:ee=>L(W=>({...W,district:ee.target.value})),"data-testid":"select-district",children:[e.jsx("option",{value:"",children:"Select District"}),e.jsx("option",{value:"bagerhat",children:"Bagerhat"}),e.jsx("option",{value:"bandarban",children:"Bandarban"}),e.jsx("option",{value:"barguna",children:"Barguna"}),e.jsx("option",{value:"barisal",children:"Barisal"}),e.jsx("option",{value:"bhola",children:"Bhola"}),e.jsx("option",{value:"bogura",children:"Bogura"}),e.jsx("option",{value:"brahmanbaria",children:"Brahmanbaria"}),e.jsx("option",{value:"chandpur",children:"Chandpur"}),e.jsx("option",{value:"chapainawabganj",children:"Chapainawabganj"}),e.jsx("option",{value:"chattogram",children:"Chattogram"}),e.jsx("option",{value:"chuadanga",children:"Chuadanga"}),e.jsx("option",{value:"cumilla",children:"Cumilla"}),e.jsx("option",{value:"coxs-bazar",children:"Cox's Bazar"}),e.jsx("option",{value:"dhaka",children:"Dhaka"}),e.jsx("option",{value:"dinajpur",children:"Dinajpur"}),e.jsx("option",{value:"faridpur",children:"Faridpur"}),e.jsx("option",{value:"feni",children:"Feni"}),e.jsx("option",{value:"gaibandha",children:"Gaibandha"}),e.jsx("option",{value:"gazipur",children:"Gazipur"}),e.jsx("option",{value:"gopalganj",children:"Gopalganj"}),e.jsx("option",{value:"habiganj",children:"Habiganj"}),e.jsx("option",{value:"jamalpur",children:"Jamalpur"}),e.jsx("option",{value:"jashore",children:"Jashore"}),e.jsx("option",{value:"jhalokati",children:"Jhalokati"}),e.jsx("option",{value:"jhenaidah",children:"Jhenaidah"}),e.jsx("option",{value:"joypurhat",children:"Joypurhat"}),e.jsx("option",{value:"khagrachhari",children:"Khagrachhari"}),e.jsx("option",{value:"khulna",children:"Khulna"}),e.jsx("option",{value:"kishoreganj",children:"Kishoreganj"}),e.jsx("option",{value:"kurigram",children:"Kurigram"}),e.jsx("option",{value:"kushtia",children:"Kushtia"}),e.jsx("option",{value:"lakshmipur",children:"Lakshmipur"}),e.jsx("option",{value:"lalmonirhat",children:"Lalmonirhat"}),e.jsx("option",{value:"madaripur",children:"Madaripur"}),e.jsx("option",{value:"magura",children:"Magura"}),e.jsx("option",{value:"manikganj",children:"Manikganj"}),e.jsx("option",{value:"meherpur",children:"Meherpur"}),e.jsx("option",{value:"moulvibazar",children:"Moulvibazar"}),e.jsx("option",{value:"munshiganj",children:"Munshiganj"}),e.jsx("option",{value:"mymensingh",children:"Mymensingh"}),e.jsx("option",{value:"naogaon",children:"Naogaon"}),e.jsx("option",{value:"narail",children:"Narail"}),e.jsx("option",{value:"narayanganj",children:"Narayanganj"}),e.jsx("option",{value:"narsingdi",children:"Narsingdi"}),e.jsx("option",{value:"natore",children:"Natore"}),e.jsx("option",{value:"netrokona",children:"Netrokona"}),e.jsx("option",{value:"nilphamari",children:"Nilphamari"}),e.jsx("option",{value:"noakhali",children:"Noakhali"}),e.jsx("option",{value:"pabna",children:"Pabna"}),e.jsx("option",{value:"panchagarh",children:"Panchagarh"}),e.jsx("option",{value:"patuakhali",children:"Patuakhali"}),e.jsx("option",{value:"pirojpur",children:"Pirojpur"}),e.jsx("option",{value:"rajbari",children:"Rajbari"}),e.jsx("option",{value:"rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"rangamati",children:"Rangamati"}),e.jsx("option",{value:"rangpur",children:"Rangpur"}),e.jsx("option",{value:"satkhira",children:"Satkhira"}),e.jsx("option",{value:"shariatpur",children:"Shariatpur"}),e.jsx("option",{value:"sherpur",children:"Sherpur"}),e.jsx("option",{value:"sirajganj",children:"Sirajganj"}),e.jsx("option",{value:"sunamganj",children:"Sunamganj"}),e.jsx("option",{value:"sylhet",children:"Sylhet"}),e.jsx("option",{value:"tangail",children:"Tangail"}),e.jsx("option",{value:"thakurgaon",children:"Thakurgaon"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-thana",className:"text-[#26732d] font-medium",children:"Thana/Upazilla"}),e.jsx(Q,{id:"billing-thana",value:_.thanaUpazilla,onChange:ee=>L(W=>({...W,thanaUpazilla:ee.target.value})),placeholder:"Enter your thana/upazilla",className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-thana"})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-postcode",className:"text-[#26732d] font-medium",children:"Post Code"}),e.jsx(Q,{id:"billing-postcode",value:_.postCode,onChange:ee=>L(W=>({...W,postCode:ee.target.value})),placeholder:"Enter post code",className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-postcode"})]})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-address",className:"text-[#26732d] font-medium",children:"Full Address *"}),e.jsx(As,{id:"billing-address",value:_.address,onChange:ee=>L(W=>({...W,address:ee.target.value})),placeholder:"Your full address",className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]",rows:3,"data-testid":"input-address"})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"billing-email",className:"text-[#26732d] font-medium",children:"Email *"}),e.jsx(Q,{id:"billing-email",type:"email",value:_.email,onChange:ee=>L(W=>({...W,email:ee.target.value})),placeholder:"your.email@example.com",required:!0,className:"mt-1 border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"input-email"})]})]})})]}),e.jsxs(K,{className:"border-[#26732d]/30",children:[e.jsx(Ne,{className:"bg-[#26732d]/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E0,{className:"h-5 w-5 text-[#26732d]"}),e.jsx(ke,{className:"text-xl text-[#26732d]",children:"Order Notes"})]})}),e.jsx(te,{className:"pt-6",children:e.jsx(As,{placeholder:"Notes about your order, e.g. special notes for delivery.",value:Z,onChange:ee=>B(ee.target.value),className:"border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]",rows:4})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(K,{className:"border-[#26732d]/30 sticky top-4",children:[e.jsx(Ne,{className:"bg-[#26732d]/5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wi,{className:"h-5 w-5 text-[#26732d]"}),e.jsx(ke,{className:"text-xl text-[#26732d]",children:"Order Overview"})]})}),e.jsxs(te,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between font-semibold border-b pb-3 text-[#26732d]",children:[e.jsx("span",{children:"Product"}),e.jsx("span",{children:"Total"})]}),r.items.map(ee=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-gray-800 text-sm",children:ee.name}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["× ",ee.quantity]})]}),e.jsxs("span",{className:"font-medium text-[#26732d]",children:["৳ ",(ee.price*ee.quantity).toLocaleString()]})]},ee.id)),e.jsx(Mt,{}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-gray-600",children:"SubTotal"}),e.jsxs("span",{className:"font-medium",children:["৳ ",r.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery"}),e.jsx("span",{className:"font-medium",children:"৳ 0"})]}),r.appliedCoupon&&e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsxs("span",{className:"text-green-600",children:["Discount (",r.appliedCoupon.code,")"]}),e.jsxs("span",{className:"font-medium text-green-600",children:["-৳ ",r.appliedCoupon.discount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between py-2 text-lg font-bold text-[#26732d] border-t-2 border-[#26732d]/20 pt-3",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["৳ ",n().toLocaleString()]})]}),e.jsx(Mt,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-[#26732d]",children:"Have a coupon?"}),e.jsxs(S,{variant:"link",onClick:()=>c(!h),className:"text-[#26732d] hover:text-[#1e5d26] font-medium p-0","data-testid":"button-toggle-coupon",children:[h?"Hide":"Apply coupon",h?e.jsx(el,{className:"ml-1 h-4 w-4"}):e.jsx(xi,{className:"ml-1 h-4 w-4"})]})]}),h&&e.jsx("div",{className:"space-y-3",children:r.appliedCoupon?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600",children:"🏷️"}),e.jsxs("span",{className:"text-sm font-medium text-green-800","data-testid":"text-applied-coupon",children:[r.appliedCoupon.code," Applied"]})]}),e.jsx("button",{onClick:Pe,className:"text-xs text-green-600 hover:text-green-800 underline","data-testid":"button-remove-coupon",children:"Remove"})]}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["You saved ৳",r.appliedCoupon.discount.toLocaleString(),"!"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{placeholder:"Enter coupon code",value:p,onChange:ee=>v(ee.target.value),className:"flex-1 text-sm border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]",onKeyPress:ee=>ee.key==="Enter"&&ae(),"data-testid":"input-coupon-code"}),e.jsx(S,{onClick:ae,disabled:w||!p.trim(),size:"sm",className:"bg-[#26732d] hover:bg-[#1e5d26] text-white px-4","data-testid":"button-apply-coupon",children:w?"Applying...":"Apply"})]}),y&&e.jsx("p",{className:"text-xs text-red-500","data-testid":"text-coupon-error",children:y}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter your coupon code to apply discount"})]})})]}),e.jsx(Mt,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-[#26732d]",children:"Payment Method"}),e.jsxs(Df,{value:F,onValueChange:U,children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border-2 border-[#ffde59] rounded-lg bg-[#ffde59]/10",children:[e.jsx(ui,{value:"COD",id:"cod",className:"border-[#26732d] text-[#26732d]"}),e.jsxs(Se,{htmlFor:"cod",className:"flex items-center cursor-pointer font-medium text-[#26732d]",children:[e.jsx(za,{className:"mr-2 h-5 w-5"}),"Cash On Delivery"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-300 rounded-lg",children:[e.jsx(ui,{value:"Bkash",id:"bkash",className:"border-[#26732d] text-[#26732d]"}),e.jsxs(Se,{htmlFor:"bkash",className:"flex items-center cursor-pointer font-medium text-[#26732d]",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/6/68/BKash_logo.svg/250px-BKash_logo.svg.png",alt:"Bkash",className:"mr-2 h-5 w-auto"}),"Bkash"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-blue-300 rounded-lg bg-blue-50/30 min-h-[60px]",children:[e.jsx(ui,{value:"RupantorPay",id:"rupantorpay",className:"border-[#26732d] text-[#26732d] flex-shrink-0"}),e.jsxs(Se,{htmlFor:"rupantorpay",className:"flex items-center cursor-pointer font-medium text-[#26732d] flex-wrap",children:[e.jsx("img",{src:"https://rupantorpay.com/public/assets/img/logo.webp",alt:"RupantorPay",className:"mr-2 h-3 w-auto flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"RupantorPay(Online Payment)"})]})]})]})]}),e.jsx(S,{onClick:He,className:"w-full bg-[#ffde59] hover:bg-[#e6c950] text-black font-bold py-4 text-lg border-2 border-[#26732d] rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",disabled:T||r.items.length===0,"data-testid":"button-place-order",children:T?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin mr-2"}),"Processing Order..."]}):"Place Order"}),e.jsxs("div",{className:"mt-6 p-4 bg-[#26732d]/5 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-[#26732d] mb-2",children:"Meow Meow Pet Shop"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[e.jsx("strong",{children:"ADDRESS:"})," Pakiza Bus Stand, Chapra Mosjid Road",e.jsx("br",{}),"Bank Colony, Savar, Dhaka"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[e.jsx("strong",{children:"Hotline:"})," 01405-045023"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Email:"})," meowmeowpetshop1@gmail.com"]})]})]})]})})]})]})}),e.jsx(pe,{})]})}function y2(){const[,r]=qt(),[t,s]=x.useState(null);return x.useEffect(()=>{const a=new URLSearchParams(window.location.search),n=a.get("transactionId"),i=a.get("amount"),o=a.get("status");n&&o==="COMPLETED"&&s({transactionId:n,amount:i,timestamp:new Date().toLocaleString()})},[]),t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(K,{className:"border-green-200 bg-green-50",children:[e.jsxs(Ne,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Zr,{className:"w-16 h-16 text-green-600"})}),e.jsx(ke,{className:"text-3xl font-bold text-green-800",children:"Payment Successful! 🎉"}),e.jsx("p",{className:"text-green-700 mt-2",children:"আপনার payment সফলভাবে সম্পন্ন হয়েছে"})]}),e.jsxs(te,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-green-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Payment Details:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.transactionId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount Paid:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["৳",t.amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Time:"}),e.jsx("span",{className:"text-gray-800",children:t.timestamp})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"What's Next?"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"• আপনার order confirm হয়ে গেছে"}),e.jsx("li",{children:"• আমরা শীঘ্রই আপনার সাথে যোগাযোগ করব"}),e.jsx("li",{children:"• Delivery এর জন্য 1-3 working days সময় লাগবে"}),e.jsx("li",{children:"• Email/SMS এ confirmation পাবেন"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.orderId&&e.jsxs(S,{onClick:()=>r("/invoice/"+t.orderId),className:"flex-1 bg-[#26732d] hover:bg-[#1e5d26]",children:[e.jsx(O0,{className:"w-4 h-4 mr-2"}),"View Invoice"]}),e.jsxs(S,{onClick:()=>r("/"),variant:"outline",className:"flex-1",children:[e.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]}),e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["কোন সমস্যা হলে যোগাযোগ করুন:",e.jsx("a",{href:"tel:01405588433",className:"text-[#26732d] font-medium ml-1",children:"01405588433"})]})})]})]})})}),e.jsx(pe,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-600",children:"Loading..."})})}),e.jsx(pe,{})]})}function v2(){const[r,t]=Ml("/invoice/:invoiceId"),{toast:s}=bt(),[a,n]=x.useState(!1),{data:i,isLoading:o,error:l}=ct({queryKey:[`/api/invoices/${t==null?void 0:t.invoiceId}`],enabled:!!(t!=null&&t.invoiceId)}),d=async()=>{if(i){n(!0);try{const h=await fetch(`/api/invoices/download/${i._id}`);if(!h.ok)throw new Error("Download failed");const c=await h.blob(),m=window.URL.createObjectURL(c),f=document.createElement("a");f.style.display="none",f.href=m,f.download=`invoice-${i.invoiceNumber}.html`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(m),document.body.removeChild(f),s({title:"Download started",description:"Your invoice is being downloaded."})}catch{s({title:"Download failed",description:"Unable to download invoice. Please try again.",variant:"destructive"})}finally{n(!1)}}},u=()=>{const h=document.querySelector(".print-invoice");if(!h)return;const c=document.body.innerHTML;document.body.innerHTML=h.outerHTML,window.print(),document.body.innerHTML=c,window.location.reload()};return o?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})]})})}),e.jsx(pe,{})]}):l||!i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invoice Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The invoice you're looking for doesn't exist or has been removed."}),e.jsxs(S,{onClick:()=>window.history.back(),className:"bg-[#26732d] hover:bg-[#1e5d26]",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}),e.jsx(pe,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(K,{className:"mb-6 bg-green-50 border-green-200",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zr,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-green-800",children:"Order Placed Successfully!"}),e.jsxs("p",{className:"text-green-600",children:["Thank you for your order. Your invoice #",i.invoiceNumber," has been generated."]})]})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-6",children:[e.jsxs(S,{onClick:()=>window.history.back(),className:"bg-[#26732d] hover:bg-[#1e5d26] text-white hover:text-white flex items-center space-x-2","data-testid":"button-back-shopping",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Shopping"})]}),e.jsxs(S,{onClick:d,disabled:a,className:"bg-[#26732d] hover:bg-[#1e5d26] text-white hover:text-white flex items-center space-x-2","data-testid":"button-download-invoice",children:[e.jsx(b0,{className:"h-4 w-4"}),e.jsx("span",{children:a?"Downloading...":"Download Invoice"})]}),e.jsxs(S,{onClick:u,className:"bg-[#26732d] hover:bg-[#1e5d26] text-white hover:text-white flex items-center space-x-2","data-testid":"button-print-invoice",children:[e.jsx(R0,{className:"h-4 w-4"}),e.jsx("span",{children:"Print Invoice"})]})]}),e.jsxs(K,{className:"print-invoice print:shadow-none print:border-none",children:[e.jsx(Ne,{className:"border-b",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("img",{src:"/logo.png",alt:"Meow Meow Pet Shop Logo",className:"h-12 w-12 mr-3"}),e.jsx(ke,{className:"text-3xl font-bold text-[#26732d]",children:"Meow Meow Pet Shop"})]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Savar, Bangladesh",e.jsx("br",{}),"Email: meowmeowpetshop1@gmail.com",e.jsx("br",{}),"Phone: 01405-045023"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"INVOICE"}),e.jsxs("p",{className:"text-lg font-semibold text-[#26732d]",children:["#",i.invoiceNumber]}),e.jsxs("p",{className:"text-gray-600",children:["Date: ",new Date(i.orderDate).toLocaleDateString()]})]})]})}),e.jsxs(te,{className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-1 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Bill To:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:i.customerInfo.name}),e.jsx("p",{children:i.customerInfo.email}),e.jsx("p",{children:i.customerInfo.phone}),i.customerInfo.address&&e.jsx("div",{className:"text-gray-600 space-y-1",children:typeof i.customerInfo.address=="string"?e.jsx("p",{children:i.customerInfo.address}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:i.customerInfo.address.address}),i.customerInfo.address.thanaUpazilla&&e.jsx("p",{children:i.customerInfo.address.thanaUpazilla}),e.jsxs("p",{children:[i.customerInfo.address.district,", ",i.customerInfo.address.division,i.customerInfo.address.postCode&&` - ${i.customerInfo.address.postCode}`]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Order Details:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Order ID:"})," ",i.orderId]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",i.paymentMethod]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Payment Status:"}),e.jsx(he,{variant:i.paymentStatus==="Paid"?"default":"secondary",className:"ml-2",children:i.paymentStatus})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Items Ordered:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 p-3 text-left",children:"Product"}),e.jsx("th",{className:"border border-gray-300 p-3 text-center",children:"Quantity"}),e.jsx("th",{className:"border border-gray-300 p-3 text-right",children:"Price"}),e.jsx("th",{className:"border border-gray-300 p-3 text-right",children:"Total"})]})}),e.jsx("tbody",{children:i.items.map((h,c)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 p-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:h.image,alt:h.name,className:"w-12 h-12 object-cover rounded"}),e.jsx("span",{className:"font-medium",children:h.name})]})}),e.jsx("td",{className:"border border-gray-300 p-3 text-center",children:h.quantity}),e.jsxs("td",{className:"border border-gray-300 p-3 text-right",children:["৳ ",h.price.toLocaleString()]}),e.jsxs("td",{className:"border border-gray-300 p-3 text-right font-medium",children:["৳ ",(h.price*h.quantity).toLocaleString()]})]},c))})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-full md:w-1/2 lg:w-1/3 space-y-2",children:[e.jsx(Mt,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["৳ ",i.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-[#26732d]",children:["৳ ",i.total.toLocaleString()]})]})]})}),e.jsxs("div",{className:"mt-8 pt-6 border-t text-center text-gray-600",children:[e.jsx("p",{children:"Thank you for shopping with Meow Meow Pet Shop!"}),e.jsx("p",{className:"text-sm mt-2",children:"For any queries, please contact us at meowmeowpetshop1@gmail.com"})]})]})]})]})}),e.jsx(pe,{})]})}var xc="Progress",fc=100,[b2,_k]=ks(xc),[j2,w2]=b2(xc),Ff=x.forwardRef((r,t)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=N2,...o}=r;(n||n===0)&&!Wd(n)&&console.error(k2(`${n}`,"Progress"));const l=Wd(n)?n:fc;a!==null&&!Qd(a,l)&&console.error(C2(`${a}`,"Progress"));const d=Qd(a,l)?a:null,u=Ai(d)?i(d,l):void 0;return e.jsx(j2,{scope:s,value:d,max:l,children:e.jsx(_e.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ai(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":zf(d,l),"data-value":d??void 0,"data-max":l,...o,ref:t})})});Ff.displayName=xc;var $f="ProgressIndicator",Bf=x.forwardRef((r,t)=>{const{__scopeProgress:s,...a}=r,n=w2($f,s);return e.jsx(_e.div,{"data-state":zf(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});Bf.displayName=$f;function N2(r,t){return`${Math.round(r/t*100)}%`}function zf(r,t){return r==null?"indeterminate":r===t?"complete":"loading"}function Ai(r){return typeof r=="number"}function Wd(r){return Ai(r)&&!isNaN(r)&&r>0}function Qd(r,t){return Ai(r)&&!isNaN(r)&&r<=t&&r>=0}function k2(r,t){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fc}\`.`}function C2(r,t){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fc} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Uf=Ff,S2=Bf;const Vf=x.forwardRef(({className:r,value:t,...s},a)=>e.jsx(Uf,{ref:a,className:X("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...s,children:e.jsx(S2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Vf.displayName=Uf.displayName;function _2(){const[r,t]=Ml("/track-order/:orderId");bt();const s={id:(t==null?void 0:t.orderId)||"ORD-2025-001",status:"processing",date:"2025-01-27",total:89.99,items:[{name:"Royal Canin Cat Food 2kg",quantity:1,price:45.99},{name:"Cat Interactive Toy",quantity:2,price:22}],customerInfo:{name:"John Doe",email:"john@example.com",phone:"+880 1234567890",address:"123 Main Street, Dhaka, Bangladesh"},tracking:[{id:"1",status:"Order Placed",description:"Your order has been placed successfully",date:"2025-01-27",time:"10:30 AM",location:"Meow Meow Pet Shop"},{id:"2",status:"Processing",description:"Your order is being prepared for shipment",date:"2025-01-27",time:"2:15 PM",location:"Warehouse - Savar"},{id:"3",status:"Shipped",description:"Your order has been shipped and is on the way",date:"2025-01-28",time:"9:00 AM",location:"Delivery Hub - Dhaka"}],estimatedDelivery:"2025-01-29"},a=o=>{switch(o.toLowerCase()){case"delivered":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},n=o=>{switch(o.toLowerCase()){case"delivered":return e.jsx(Zr,{className:"h-5 w-5 text-green-600"});case"shipped":return e.jsx(za,{className:"h-5 w-5 text-blue-600"});case"processing":return e.jsx(pr,{className:"h-5 w-5 text-yellow-600"});case"pending":return e.jsx(At,{className:"h-5 w-5 text-gray-600"});default:return e.jsx(At,{className:"h-5 w-5 text-gray-600"})}},i=o=>{switch(o.toLowerCase()){case"pending":return 25;case"processing":return 50;case"shipped":return 75;case"delivered":return 100;default:return 0}};return t!=null&&t.orderId?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Track Your Order"}),e.jsxs("p",{className:"text-gray-600",children:["Order ID: ",s.id]})]}),e.jsx(re,{href:"/dashboard",children:e.jsxs(S,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Dashboard"})]})})]}),e.jsxs(K,{className:"mb-6",children:[e.jsx(Ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ke,{className:"flex items-center space-x-2",children:[n(s.status),e.jsx("span",{children:"Order Status"})]}),e.jsx(he,{className:a(s.status),children:s.status.toUpperCase()})]})}),e.jsx(te,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[i(s.status),"%"]})]}),e.jsx(Vf,{value:i(s.status),className:"h-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Rn,{className:"h-4 w-4"}),e.jsxs("span",{children:["Estimated Delivery: ",new Date(s.estimatedDelivery).toLocaleDateString()]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Order Information"})}),e.jsxs(te,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Order Date"}),e.jsx("p",{className:"mt-1",children:new Date(s.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),e.jsxs("p",{className:"mt-1 text-lg font-bold text-[#26732d]",children:["৳",s.total.toFixed(2)]})]}),e.jsx(Mt,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Items Ordered"}),e.jsx("div",{className:"mt-2 space-y-2",children:s.items.map((o,l)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[o.name," x",o.quantity]}),e.jsxs("span",{children:["৳",o.price.toFixed(2)]})]},l))})]})]})]}),e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Delivery Information"})}),e.jsxs(te,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Customer Name"}),e.jsx("p",{className:"mt-1",children:s.customerInfo.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.customerInfo.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(Vs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:s.customerInfo.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Delivery Address"}),e.jsxs("div",{className:"flex items-start space-x-2 mt-1",children:[e.jsx(mr,{className:"h-4 w-4 text-gray-400 mt-0.5"}),e.jsx("span",{className:"text-sm",children:s.customerInfo.address})]})]})]})]})]}),e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Tracking Timeline"})}),e.jsx(te,{children:e.jsx("div",{className:"space-y-6",children:s.tracking.map((o,l)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"w-8 h-8 bg-[#26732d] rounded-full flex items-center justify-center",children:e.jsx(Zr,{className:"h-4 w-4 text-white"})}),l<s.tracking.length-1&&e.jsx("div",{className:"w-0.5 h-12 bg-gray-200 ml-4 mt-2"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:o.status}),e.jsxs("div",{className:"text-sm text-gray-500",children:[o.date," at ",o.time]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.description}),o.location&&e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(mr,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:o.location})]})]})]},o.id))})})]}),e.jsx(K,{className:"mt-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about your order, feel free to contact our customer support."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs(S,{variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:"Call: 01405-045023"})]}),e.jsx(re,{href:"/contact",children:e.jsxs(S,{className:"bg-[#26732d] hover:bg-[#1e5d26] flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsx("span",{children:"Contact Support"})]})})]})]})})})]})}),e.jsx(pe,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx(At,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please check your order ID and try again."}),e.jsx(re,{href:"/dashboard",children:e.jsxs(S,{className:"bg-[#26732d] hover:bg-[#1e5d26]",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]})}),e.jsx(pe,{})]})}function P2(){var n,i;const{user:r,signOut:t}=Xa(),[,s]=qt();if(x.useEffect(()=>{r||s("/sign-in")},[r,s]),!r)return null;const a=async()=>{await t(),s("/")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"My Profile"}),e.jsxs(K,{children:[e.jsx(Ne,{children:e.jsx(ke,{children:"Profile Information"})}),e.jsxs(te,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Tn,{className:"h-20 w-20",children:e.jsx(En,{className:"bg-green-100 text-green-800 text-xl",children:((n=r.firstName)==null?void 0:n[0])||((i=r.username)==null?void 0:i[0])||r.email[0].toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:r.firstName&&r.lastName?`${r.firstName} ${r.lastName}`:r.username||"User"}),e.jsx("p",{className:"text-gray-600",children:r.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"firstName",children:"First Name"}),e.jsx(Q,{id:"firstName",value:r.firstName||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Q,{id:"lastName",value:r.lastName||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"username",children:"Username"}),e.jsx(Q,{id:"username",value:r.username||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(Se,{htmlFor:"email",children:"Email"}),e.jsx(Q,{id:"email",value:r.email,disabled:!0})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(S,{variant:"outline",children:"Edit Profile"}),e.jsx(S,{variant:"destructive",onClick:a,children:"Sign Out"})]})]})]})]})})})}function T2(){const[r,t]=x.useState([{id:"1",text:"Hello! Welcome to Meow Meow Pet Shop. How can I help you today?",sender:"support",timestamp:new Date(Date.now()-3e5),status:"delivered"}]),[s,a]=x.useState(""),[n,i]=x.useState(!1),o=x.useRef(null),l=()=>{var c;(c=o.current)==null||c.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{l()},[r]);const d=()=>{if(s.trim()){const c={id:Date.now().toString(),text:s,sender:"user",timestamp:new Date,status:"sent"};t(m=>[...m,c]),a(""),i(!0),setTimeout(()=>{i(!1);const m={id:(Date.now()+1).toString(),text:"Thank you for your message! Our customer service team will get back to you shortly. Is there anything specific about our pet products I can help you with?",sender:"support",timestamp:new Date,status:"delivered"};t(f=>[...f,m])},2e3)}},u=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),d())},h=c=>c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[e.jsx("div",{className:"bg-[#26732d] text-white p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(re,{href:"/",children:e.jsx(S,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#1e5d26] p-2",children:e.jsx(Xt,{size:20})})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-[#26732d] font-bold text-lg",children:"M"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:"Meow Meow Support"}),e.jsx("p",{className:"text-sm text-green-200",children:"Online • Usually replies instantly"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#1e5d26] p-2",children:e.jsx(Vs,{size:20})}),e.jsx(S,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#1e5d26] p-2",children:e.jsx(V0,{size:20})}),e.jsx(S,{variant:"ghost",size:"sm",className:"text-white hover:bg-[#1e5d26] p-2",children:e.jsx(j0,{size:20})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(c=>e.jsx("div",{className:`flex ${c.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${c.sender==="user"?"bg-[#26732d] text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[e.jsx("p",{className:"text-sm",children:c.text}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:`text-xs ${c.sender==="user"?"text-green-200":"text-gray-500"}`,children:h(c.timestamp)}),c.sender==="user"&&c.status&&e.jsxs("span",{className:"text-xs text-green-200",children:[c.status==="sent"&&"✓",c.status==="delivered"&&"✓✓",c.status==="read"&&"✓✓"]})]})]})},c.id)),n&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white text-gray-800 rounded-2xl rounded-bl-md shadow-sm px-4 py-3",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:o})]}),e.jsxs("div",{className:"bg-white border-t p-4",children:[e.jsxs("div",{className:"flex items-end gap-1",children:[e.jsx(S,{variant:"ghost",size:"sm",className:"text-gray-500 hover:bg-gray-100 p-2",children:e.jsx(D0,{size:20})}),e.jsx("div",{className:"flex-1",children:e.jsx(Q,{value:s,onChange:c=>a(c.target.value),onKeyPress:u,placeholder:"Type a message...",className:"resize-none border-gray-300 focus:border-[#26732d] focus:ring-[#26732d]","data-testid":"message-input"})}),e.jsx(S,{onClick:d,disabled:!s.trim(),className:"bg-[#26732d] hover:bg-[#1e5d26] p-3","data-testid":"send-message-button",children:e.jsx(Ki,{size:20})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"We typically reply within a few minutes during business hours (9 AM - 9 PM)"})]})]})}class Zn{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const E2=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,t)=>Promise.resolve(localStorage.setItem(r,t)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Et={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:E2()},gc=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},A2=(r,t="https://api.emailjs.com")=>{if(!r)return;const s=gc(r);Et.publicKey=s.publicKey,Et.blockHeadless=s.blockHeadless,Et.storageProvider=s.storageProvider,Et.blockList=s.blockList,Et.limitRate=s.limitRate,Et.origin=s.origin||t},qf=async(r,t,s={})=>{const a=await fetch(Et.origin+r,{method:"POST",headers:s,body:t}),n=await a.text(),i=new Zn(a.status,n);if(a.ok)return i;throw i},Hf=(r,t,s)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},R2=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Kf=r=>r.webdriver||!r.languages||r.languages.length===0,Wf=()=>new Zn(451,"Unavailable For Headless Browser"),I2=(r,t)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},O2=r=>{var t;return!((t=r.list)!=null&&t.length)||!r.watchVariable},L2=(r,t)=>r instanceof FormData?r.get(t):r[t],Qf=(r,t)=>{if(O2(r))return!1;I2(r.list,r.watchVariable);const s=L2(t,r.watchVariable);return typeof s!="string"?!1:r.list.includes(s)},Gf=()=>new Zn(403,"Forbidden"),M2=(r,t)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},D2=async(r,t,s)=>{const a=Number(await s.get(r)||0);return t-Date.now()+a},Zf=async(r,t,s)=>{if(!t.throttle||!s)return!1;M2(t.throttle,t.id);const a=t.id||r;return await D2(a,t.throttle,s)>0?!0:(await s.set(a,Date.now().toString()),!1)},Jf=()=>new Zn(429,"Too Many Requests"),F2=async(r,t,s,a)=>{const n=gc(a),i=n.publicKey||Et.publicKey,o=n.blockHeadless||Et.blockHeadless,l=n.storageProvider||Et.storageProvider,d={...Et.blockList,...n.blockList},u={...Et.limitRate,...n.limitRate};return o&&Kf(navigator)?Promise.reject(Wf()):(Hf(i,r,t),R2(s),s&&Qf(d,s)?Promise.reject(Gf()):await Zf(location.pathname,u,l)?Promise.reject(Jf()):qf("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:r,template_id:t,template_params:s}),{"Content-type":"application/json"}))},$2=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},B2=r=>typeof r=="string"?document.querySelector(r):r,z2=async(r,t,s,a)=>{const n=gc(a),i=n.publicKey||Et.publicKey,o=n.blockHeadless||Et.blockHeadless,l=Et.storageProvider||n.storageProvider,d={...Et.blockList,...n.blockList},u={...Et.limitRate,...n.limitRate};if(o&&Kf(navigator))return Promise.reject(Wf());const h=B2(s);Hf(i,r,t),$2(h);const c=new FormData(h);return Qf(d,c)?Promise.reject(Gf()):await Zf(location.pathname,u,l)?Promise.reject(Jf()):(c.append("lib_version","4.4.1"),c.append("service_id",r),c.append("template_id",t),c.append("user_id",i),qf("/api/v1.0/email/send-form",c))},Gd={init:A2,send:F2,sendForm:z2,EmailJSResponseStatus:Zn};function U2(){const[r,t]=x.useState({name:"",phone:"",email:"",subject:"",message:""}),[s,a]=x.useState(!1),{toast:n}=bt(),i=async l=>{l.preventDefault(),a(!0);try{Gd.init("public-4_2EJeuoHymsGSC0t");const d={from_name:r.name,from_phone:r.phone,from_email:r.email||"Not provided",subject:r.subject,message:r.message,to_name:"Meow Meow Pet Shop",time:new Date().toLocaleString("en-US",{timeZone:"Asia/Dhaka",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})+" (Bangladesh Time)"};await Gd.send("service_lygzcpc","template_j90cwmp",d),n({title:"Message Sent Successfully!",description:"We'll get back to you within 24 hours."}),t({name:"",phone:"",email:"",subject:"",message:""})}catch(d){console.error("EmailJS error:",d),n({title:"Failed to Send Message",description:"Please try again later or contact us directly.",variant:"destructive"})}finally{a(!1)}},o=(l,d)=>{t(u=>({...u,[l]:d}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get in touch with our friendly team"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-1 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(mr,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Store Address"}),e.jsxs("p",{className:"text-gray-600 text-sm leading-relaxed",children:["Pakiza Bus Stand, Chapra Mosjid Road",e.jsx("br",{}),"Bank Colony, Savar, Dhaka"]})]})]})})}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-green-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Vs,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Phone"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"+880 1405-045023"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Call us for orders and inquiries"})]})]})})}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(Zt,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Facebook Messenger"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Meow.meow.pet.shop"}),e.jsxs(S,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-md",onClick:()=>window.open("https://facebook.com/meow.meow.pet.shop1","_blank"),children:[e.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Message Us"]})]})]})})}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e.jsx(pr,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Opening Hours"}),e.jsxs("div",{className:"text-gray-600 text-sm space-y-1",children:[e.jsx("p",{children:"Every Day: 10:00 AM - 10:00 PM"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"We're always here for your pets!"})]})]})]})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("a",{href:"https://facebook.com/meow.meow.pet.shop1",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors",children:e.jsx(Da,{size:20})}),e.jsx("a",{href:"#",className:"w-10 h-10 bg-pink-600 rounded-full flex items-center justify-center text-white hover:bg-pink-700 transition-colors",children:e.jsx($a,{size:20})}),e.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("toggleChat")),className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white hover:bg-green-700 transition-colors",children:e.jsx(Zt,{size:20})})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(K,{className:"border-0 shadow-md",children:[e.jsx(Ne,{children:e.jsx(ke,{className:"text-2xl font-bold text-gray-900",children:"Send us a Message"})}),e.jsx(te,{className:"p-6",children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Q,{type:"text",value:r.name,onChange:l=>o("name",l.target.value),className:"w-full",placeholder:"Enter your full name",required:!0,"data-testid":"input-contact-name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Q,{type:"tel",value:r.phone,onChange:l=>o("phone",l.target.value),className:"w-full",placeholder:"01700-000000",required:!0,"data-testid":"input-contact-phone"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),e.jsx(Q,{type:"email",value:r.email,onChange:l=>o("email",l.target.value),className:"w-full",placeholder:"your.email@example.com","data-testid":"input-contact-email"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ft,{onValueChange:l=>o("subject",l),required:!0,children:[e.jsx(ot,{className:"w-full","data-testid":"select-contact-subject",children:e.jsx(gt,{placeholder:"Select a subject"})}),e.jsxs(lt,{children:[e.jsx(D,{value:"general",children:"General Inquiry"}),e.jsx(D,{value:"order",children:"Order Support"}),e.jsx(D,{value:"product",children:"Product Question"}),e.jsx(D,{value:"complaint",children:"Complaint"}),e.jsx(D,{value:"feedback",children:"Feedback"}),e.jsx(D,{value:"wholesale",children:"Wholesale Inquiry"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(As,{value:r.message,onChange:l=>o("message",l.target.value),className:"w-full h-32 resize-none",placeholder:"Tell us how we can help you...",required:!0,"data-testid":"textarea-contact-message"})]}),e.jsx(S,{type:"submit",disabled:s,className:"w-full bg-[#26732d] hover:bg-[#1e5d26] text-white py-3 text-lg font-medium","data-testid":"button-send-message",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ki,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})})]})})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Find Our Store"}),e.jsx(K,{className:"border-0 shadow-md overflow-hidden",children:e.jsxs("div",{className:"h-96 bg-gray-200 relative",children:[e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d912.3297468964263!2d90.25490467115716!3d23.842804035630493!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3755eb2ecda85ab9%3A0x1aada17efba5882e!2sMeow%20Meow%20Pet%20shop!5e0!3m2!1sen!2sbd!4v1756620179156!5m2!1sen!2sbd",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Meow Meow Pet Shop Location - Pakiza Bus Stand, Savar, Dhaka"}),e.jsxs(S,{className:"absolute top-4 right-4 bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-lg z-10",size:"sm",onClick:()=>window.open("https://www.google.com/maps/dir//Meow+Meow+Pet+shop,+Pakiza+Bus+Stand,+Chapra+Mosjid+Road,+Bank+Colony,+Savar,+Dhaka,+Bangladesh/@23.842804,90.254905,17z","_blank"),children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Directions"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsx(K,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group",children:e.jsxs(te,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(mr,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Visit Our Store"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Bank Colony, Savar"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Pakiza Bus Stand"})]})}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group",children:e.jsxs(te,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-green-600 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(Vs,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Call Us"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"+880 1405-045023"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Daily 10 AM - 10 PM"})]})}),e.jsx(K,{className:"border-0 shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer group",children:e.jsxs(te,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-600 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(Zt,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Message Us"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Facebook Messenger"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Quick Response"})]})})]})]})]}),e.jsx(pe,{})]})}function V2(){const{isVisible:r}=wr(),[t,s]=x.useState(""),[a,n]=x.useState("name"),{data:i=[],isLoading:o,error:l}=ct({queryKey:["/api/products"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),d=x.useMemo(()=>Array.isArray(i)?i.filter(u=>u.isOnSale).filter(u=>{var h;return(h=u.name)==null?void 0:h.toLowerCase().includes(t.toLowerCase())}).sort((u,h)=>{switch(a){case"price-low":return(u.price||0)-(h.price||0);case"price-high":return(h.price||0)-(u.price||0);case"name":return(u.name||"").localeCompare(h.name||"");default:return 0}}):[],[i,t,a]);return l?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load products"}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsxs("main",{className:`transition-all duration-300 ${r?"md:ml-80":"md:ml-0"} overflow-x-hidden pb-20 md:pb-0`,children:[e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-red-500 to-orange-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(gi,{className:"h-10 w-10"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Flash Sale"})]}),e.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Limited time offers on premium pet products"})]})}),e.jsx("section",{className:"py-6 px-4 bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search flash sale products...",className:"pl-10",value:t,onChange:u=>s(u.target.value)})]}),e.jsxs(ft,{value:a,onValueChange:n,children:[e.jsxs(ot,{className:"w-full md:w-48",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx(gt,{})]}),e.jsxs(lt,{children:[e.jsx(D,{value:"name",children:"Sort by Name"}),e.jsx(D,{value:"price-low",children:"Price: Low to High"}),e.jsx(D,{value:"price-high",children:"Price: High to Low"})]})]})]})})}),e.jsx("section",{className:"py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:o?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10},(u,h)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md h-80 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"})]})]},h))}):d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(gi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:t?"No products found":"No flash sale products available"}),e.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Check back later for amazing deals!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-lg font-medium text-gray-700",children:[d.length," flash sale ",d.length===1?"product":"products"," found"]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:d.map(u=>e.jsx(ta,{product:u},u.id||u._id))})]})})})]}),e.jsx(pe,{})]})}function q2(){const{isVisible:r}=wr(),[t,s]=x.useState(""),[a,n]=x.useState("name"),[i,o]=x.useState("all"),{addItem:l}=Cs(),{toast:d}=bt(),{data:u=[],isLoading:h}=ct({queryKey:["/api/repack-products"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:c=[],isLoading:m}=ct({queryKey:["/api/products"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1}),f=h||m,p=x.useMemo(()=>{const b=Array.isArray(u)?u:[],w=Array.isArray(c)?c:[];return[...b,...w].filter(C=>{var P,_,L;return!(t&&!((P=C.name)!=null&&P.toLowerCase().includes(t.toLowerCase()))||i==="cats"&&!((_=C.category)!=null&&_.includes("cat"))||i==="dogs"&&!((L=C.category)!=null&&L.includes("dog")))}).sort((C,P)=>{switch(a){case"price-low":return(C.price||0)-(P.price||0);case"price-high":return(P.price||0)-(C.price||0);case"name":return(C.name||"").localeCompare(P.name||"");default:return 0}})},[u,c,t,a,i]),v=b=>{const w=b.id||b._id,j=b.stockQuantity||b.stock||0;if(j===0){d({title:"Out of Stock",description:"This item is currently out of stock.",variant:"destructive"});return}l({id:w,name:b.name,price:b.price,image:b.image,maxStock:j}),d({title:"Added to Cart",description:`${b.name} added to your cart.`})},y=(b,w)=>!w||w<=b?0:Math.round((w-b)/w*100);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsxs("main",{className:`transition-all duration-300 ${r?"md:ml-80":"md:ml-0"} overflow-x-hidden pb-20 md:pb-0`,children:[e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Uc,{className:"h-10 w-10"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Bulk Products"})]}),e.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Save more when you buy in bulk - perfect for multi-pet households"})]})}),e.jsx("section",{className:"py-6 px-4 bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search bulk products...",className:"pl-10",value:t,onChange:b=>s(b.target.value)})]}),e.jsxs(ft,{value:i,onValueChange:o,children:[e.jsxs(ot,{className:"w-full md:w-48",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx(gt,{})]}),e.jsxs(lt,{children:[e.jsx(D,{value:"all",children:"All Products"}),e.jsx(D,{value:"cats",children:"Cat Products"}),e.jsx(D,{value:"dogs",children:"Dog Products"})]})]}),e.jsxs(ft,{value:a,onValueChange:n,children:[e.jsx(ot,{className:"w-full md:w-48",children:e.jsx(gt,{})}),e.jsxs(lt,{children:[e.jsx(D,{value:"name",children:"Sort by Name"}),e.jsx(D,{value:"price-low",children:"Price: Low to High"}),e.jsx(D,{value:"price-high",children:"Price: High to Low"})]})]})]})})}),e.jsx("section",{className:"py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6},(b,w)=>e.jsxs(K,{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs(te,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-6 rounded w-1/2"})]})]},w))}):p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Uc,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:t?"No products found":"No bulk products available"}),e.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Check back later for bulk deals!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-lg font-medium text-gray-700",children:[p.length," bulk ",p.length===1?"product":"products"," found"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>{var C;const w=y(b.price,b.originalPrice),j=b.stockQuantity||b.stock||0;return e.jsxs(K,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-50 rounded-t-lg p-4",children:[w>0&&e.jsxs(he,{className:"absolute top-3 left-3 z-10 bg-red-500 text-white",children:["-",w,"%"]}),e.jsx("img",{src:b.image,alt:b.name,className:"w-full h-48 object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy"})]}),e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 leading-tight",children:b.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["৳",(C=b.price)==null?void 0:C.toLocaleString()]}),b.originalPrice&&b.originalPrice>b.price&&e.jsxs("span",{className:"text-sm text-red-500 line-through",children:["৳",b.originalPrice.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-sm font-medium ${j>0?"text-green-600":"text-red-600"}`,children:j>0?"In Stock":"Out of Stock"}),e.jsxs(S,{size:"sm",onClick:()=>v(b),disabled:j===0,className:"bg-[#26732d] hover:bg-[#1d5a22] text-white",children:[e.jsx(Jt,{className:"h-4 w-4 mr-1"}),"Add to Cart"]})]})]})]},b.id||b._id)})})]})})})]}),e.jsx(pe,{})]})}function H2(){const{isVisible:r}=wr(),[t,s]=x.useState(""),[a,n]=x.useState("name"),[i,o]=x.useState("all"),{data:l=[],isLoading:d,error:u}=ct({queryKey:["/api/products"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),h=x.useMemo(()=>Array.isArray(l)?l.filter(c=>c.isNew).filter(c=>{var m,f,p;return!(t&&!((m=c.name)!=null&&m.toLowerCase().includes(t.toLowerCase()))||i==="cats"&&!((f=c.category)!=null&&f.includes("cat"))||i==="dogs"&&!((p=c.category)!=null&&p.includes("dog")))}).sort((c,m)=>{switch(a){case"price-low":return(c.price||0)-(m.price||0);case"price-high":return(m.price||0)-(c.price||0);case"name":return(c.name||"").localeCompare(m.name||"");default:return 0}}):[],[l,t,a,i]);return u?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load products"}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsxs("main",{className:`transition-all duration-300 ${r?"md:ml-80":"md:ml-0"} overflow-x-hidden pb-20 md:pb-0`,children:[e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Wr,{className:"h-10 w-10"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Newly Launched"})]}),e.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Discover the latest additions to our pet product collection"})]})}),e.jsx("section",{className:"py-6 px-4 bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search new products...",className:"pl-10",value:t,onChange:c=>s(c.target.value)})]}),e.jsxs(ft,{value:i,onValueChange:o,children:[e.jsxs(ot,{className:"w-full md:w-48",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx(gt,{})]}),e.jsxs(lt,{children:[e.jsx(D,{value:"all",children:"All Products"}),e.jsx(D,{value:"cats",children:"Cat Products"}),e.jsx(D,{value:"dogs",children:"Dog Products"})]})]}),e.jsxs(ft,{value:a,onValueChange:n,children:[e.jsxs(ot,{className:"w-full md:w-48",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx(gt,{})]}),e.jsxs(lt,{children:[e.jsx(D,{value:"name",children:"Sort by Name"}),e.jsx(D,{value:"price-low",children:"Price: Low to High"}),e.jsx(D,{value:"price-high",children:"Price: High to Low"})]})]})]})})}),e.jsx("section",{className:"py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:d?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10},(c,m)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md h-80 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"})]})]},m))}):h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wr,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:t?"No products found":"No newly launched products available"}),e.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Check back later for new arrivals!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-lg font-medium text-gray-700",children:[h.length," newly launched ",h.length===1?"product":"products"," found"]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.map(c=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs font-medium flex items-center gap-1 z-10",children:[e.jsx(Wr,{size:12}),"JUST IN"]}),e.jsx(ta,{product:c})]},c.id||c._id))})]})})})]}),e.jsx(pe,{})]})}function K2(){const{isVisible:r}=wr(),[t,s]=x.useState(""),{addItem:a}=Cs(),{toast:n}=bt(),{data:i=[],isLoading:o,error:l}=ct({queryKey:["/api/repack-products"],staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1}),d=x.useMemo(()=>Array.isArray(i)?i.filter(m=>{var f;return(f=m.name)==null?void 0:f.toLowerCase().includes(t.toLowerCase())}):[],[i,t]),u=(m,f)=>!f||f<=m?0:Math.round((f-m)/f*100),h=m=>m!=null&&m.includes("combo-deal")?"COMBO DEAL":m!=null&&m.includes("bulk-save")?"BULK SAVE":"REPACK",c=m=>{const f=m.id||m._id,p=m.stockQuantity||m.stock||0;if(p===0){n({title:"Out of Stock",description:"This item is currently out of stock.",variant:"destructive"});return}a({id:f,name:m.name,price:m.price,image:m.image,maxStock:p}),n({title:"Added to Cart",description:`${m.name} added to your cart.`})};return l?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load products"}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsxs("main",{className:`transition-all duration-300 ${r?"md:ml-80":"md:ml-0"} overflow-x-hidden pb-20 md:pb-0`,children:[e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(At,{className:"h-10 w-10"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Repack Products"})]}),e.jsx("p",{className:"text-lg opacity-90 mb-6",children:"Premium pet food repacked in smaller quantities - perfect for trying new products"})]})}),e.jsx("section",{className:"py-6 px-4 bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Q,{placeholder:"Search repack products...",className:"pl-10 text-black placeholder:text-gray-500",value:t,onChange:m=>s(m.target.value)})]})})}),e.jsx("section",{className:"py-8 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:o?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6},(m,f)=>e.jsxs(K,{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-t-lg"}),e.jsxs(te,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"bg-gray-200 h-4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded"}),e.jsx("div",{className:"bg-gray-200 h-6 rounded w-1/2"})]})]},f))}):d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(At,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:t?"No products found":"No repack products available"}),e.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Check back later for repack deals!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-lg font-medium text-gray-700",children:[d.length," repack ",d.length===1?"product":"products"," found"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>{var y;const f=u(m.price,m.originalPrice),p=h(m.tags||[]),v=m.stockQuantity||m.stock||0;return e.jsxs(K,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-50 rounded-t-lg p-4",children:[f>0?e.jsxs(he,{className:"absolute top-3 left-3 z-10 bg-red-500 text-white",children:["-",f,"%"]}):e.jsxs(he,{className:"absolute top-3 left-3 z-10 bg-yellow-400 text-[#26732d] flex items-center gap-1",children:[e.jsx(At,{size:12}),p]}),e.jsx("img",{src:m.image,alt:m.name,className:"w-full h-48 object-contain transition-transform duration-500 group-hover:scale-110",loading:"lazy"})]}),e.jsxs(te,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 leading-tight",children:m.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:m.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["৳",(y=m.price)==null?void 0:y.toLocaleString()]}),m.originalPrice&&m.originalPrice>m.price&&e.jsxs("span",{className:"text-sm text-red-500 line-through",children:["৳",m.originalPrice.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-sm font-medium ${v>0?"text-green-600":"text-red-600"}`,children:v>0?"In Stock":"Out of Stock"}),e.jsxs(S,{size:"sm",onClick:()=>c(m),disabled:v===0,className:"bg-[#26732d] hover:bg-[#1d5a22] text-white",children:[e.jsx(Jt,{className:"h-4 w-4 mr-1"}),"Add to Cart"]})]})]})]},m.id||m._id)})})]})})})]}),e.jsx(pe,{})]})}function W2(){const[r,t]=x.useState(""),{loading:s,error:a,products:n}=Nt(),i=["cat-food","cat-toys","cat-litter","cat-care","cat-accessories"],l=n.filter(u=>u.isBestseller&&i.includes(u.category)).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())),d=u=>{t(u)};return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cat bestsellers..."})]})})]}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",a]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-green-600 to-teal-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[e.jsx(Ma,{className:"h-12 w-12"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Cat Bestsellers"})]}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Most popular products loved by cats and their owners"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search cat bestsellers...",className:"pl-10 bg-white text-gray-900",value:r,onChange:u=>d(u.target.value)})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Cat Bestsellers"}),e.jsxs("p",{className:"text-gray-600",children:[l.length," products found"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-1",children:l.map(u=>e.jsx(wt,{product:u},u.id))}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ma,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No cat bestsellers found."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100",onClick:()=>t(""),children:"Clear Search"})]})]})}),e.jsx(pe,{})]})}function Q2(){const[r,t]=x.useState(""),{loading:s,error:a,products:n}=Nt(),i=["dog-food","dog-accessories"],l=n.filter(u=>u.isBestseller&&i.includes(u.category)).filter(u=>u.name.toLowerCase().includes(r.toLowerCase())),d=u=>{t(u)};return s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dog bestsellers..."})]})})]}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx("div",{className:"flex items-center justify-center pt-32",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-red-600 mb-4",children:["Error loading products: ",a]}),e.jsx(S,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Y,{}),e.jsx(Je,{}),e.jsx("section",{className:"pt-24 pb-8 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[e.jsx(fi,{className:"h-12 w-12"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Dog Bestsellers"})]}),e.jsx("p",{className:"text-xl opacity-90 mb-6",children:"Most popular products loved by dogs and their owners"}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(Q,{placeholder:"Search dog bestsellers...",className:"pl-10 bg-white text-gray-900",value:r,onChange:u=>d(u.target.value)})]})]})}),e.jsx("section",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Dog Bestsellers"}),e.jsxs("p",{className:"text-gray-600",children:[l.length," products found"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-1",children:l.map(u=>e.jsx(wt,{product:u},u.id))}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No dog bestsellers found."}),e.jsx(S,{variant:"outline",className:"mt-4 text-gray-900 border-gray-400 bg-white hover:bg-gray-100",onClick:()=>t(""),children:"Clear Search"})]})]})}),e.jsx(pe,{})]})}function G2(){const{id:r}=Pu(),[t,s]=x.useState(1);x.useState(0);const[a,n]=x.useState(!1),[i,o]=x.useState({x:0,y:0}),[l,d]=x.useState(!1),[u,h]=x.useState(0),[c,m]=x.useState(""),[f,p]=x.useState(""),{addItem:v,updateQuantity:y,state:b}=Cs(),{toast:w}=bt(),{data:j,isLoading:C}=ct({queryKey:["/api/products/slug",r],queryFn:async()=>{const J=await fetch(`/api/products/slug/${r}`);if(!J.ok)throw new Error("Product not found");return J.json()},enabled:!!r}),{data:P=[]}=ct({queryKey:["/api/products"]}),_=P.filter(J=>{const ae=(j==null?void 0:j.id)??(j==null?void 0:j._id);return(J.id??J._id)!==ae}).slice(0,8),L=(j==null?void 0:j.id)??(j==null?void 0:j._id),Z=b.items.some(J=>J.id===L),B=(j==null?void 0:j.stockQuantity)===0||(j==null?void 0:j.stockStatus)==="Out of Stock",F=()=>{if(!j||B)return;const J=j.id??j._id,ae=j.stockQuantity||100,Pe=b.items.find(fe=>fe.id===J);if(Pe){const fe=Math.min(Pe.quantity+t,ae);y(J,fe)}else v({id:J,name:j.name,price:j.price,image:j.image,maxStock:ae}),t>1&&setTimeout(()=>{y(J,Math.min(t,ae))},0);w({title:"Added to Cart",description:`${t} x ${j.name} added to your cart.`})},U=J=>{const ae=J.currentTarget.getBoundingClientRect(),Pe=(J.clientX-ae.left)/ae.width*100,fe=(J.clientY-ae.top)/ae.height*100;o({x:Pe,y:fe})},T=J=>{const ae=`${window.location.origin}/product/${r}`,Pe=(j==null?void 0:j.name)||"Check out this product";switch(J){case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ae)}`,"_blank");break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(Pe)}&url=${encodeURIComponent(ae)}`,"_blank");break;case"instagram":navigator.clipboard.writeText(ae),w({title:"Link copied!",description:"Share this link on Instagram"});break;case"pinterest":window.open(`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(ae)}&description=${encodeURIComponent(Pe)}`,"_blank");break;case"copy":navigator.clipboard.writeText(ae),w({title:"Link copied!",description:"Product link copied to clipboard"});break}d(!1)},O=()=>{if(!f.trim()||!c.trim()||u===0){w({title:"Please complete all fields",description:"Name, rating, and review text are required.",variant:"destructive"});return}w({title:"Review submitted!",description:"Thank you for your feedback."}),p(""),m(""),h(0)},E=(J=5)=>Array.from({length:5},(ae,Pe)=>e.jsx(Yt,{size:16,className:Pe<J?"text-yellow-500 fill-current":"text-gray-300"},Pe)),R=()=>{if(!j||!_)return[];const J=j.id??j._id,ae=j.category||j.categorySlug,Pe=_.filter(He=>{const et=(He.id??He._id)!==J,it=He.category===ae;return et&&it});if(Pe.length>=4)return Pe.slice(0,4);const fe=_.filter(He=>{const Xe=He.id??He._id,et=Xe!==J,it=!Pe.find(ee=>(ee.id??ee._id)===Xe);return et&&it}).slice(0,4-Pe.length);return[...Pe,...fe]};if(C)return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Y,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})})}),e.jsx(pe,{})]});if(!j)return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Y,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The product you're looking for doesn't exist."})]}),e.jsx(pe,{})]});const z=j.originalPrice&&j.originalPrice>j.price,le=z?j.originalPrice-j.price:0;return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Y,{}),e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[e.jsx("nav",{className:"text-sm breadcrumbs mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx("span",{children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:j.category}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:j.name})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative aspect-square bg-gray-50 rounded-lg overflow-hidden cursor-zoom-in",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onMouseMove:U,"data-testid":"product-image-main",children:[e.jsx("img",{src:j.image,alt:j.name,className:X("w-full h-full object-cover transition-transform duration-300",a&&"scale-150"),style:a?{transformOrigin:`${i.x}% ${i.y}%`}:{}}),z&&e.jsxs(he,{className:"absolute top-4 left-4 bg-red-500 text-white",children:["-৳",le]}),j.isBestSeller&&e.jsx(he,{className:"absolute top-4 right-4 bg-yellow-500 text-white",children:"Best Seller"}),j.isNew&&e.jsx(he,{className:"absolute top-4 right-4 bg-blue-500 text-white",children:"New"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2","data-testid":"product-name",children:j.name}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:E(j.rating)}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",j.reviews||0," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("span",{className:"text-3xl font-bold text-green-600","data-testid":"product-price",children:["৳",j.price]}),z&&e.jsxs("span",{className:"text-xl text-gray-500 line-through",children:["৳",j.originalPrice]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:X("text-sm font-medium",B?"text-red-600":"text-green-600"),children:B?"Out of Stock":"In Stock"})}),j.stockQuantity!==void 0&&j.stockQuantity!==null&&e.jsx("div",{className:"mb-2",children:e.jsxs("span",{className:"text-base font-semibold text-gray-900","data-testid":"stock-number",children:["Stock: ",j.stockQuantity]})})]})]}),!B&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg bg-white",children:[e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>s(Math.max(1,t-1)),disabled:t<=1,"data-testid":"quantity-decrease",className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100 border-none disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ql,{size:16})}),e.jsx("span",{className:"px-4 py-2 min-w-[3rem] text-center text-gray-900 bg-white border-x border-gray-200","data-testid":"quantity-display",children:t}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>s(Math.min(j.stockQuantity||100,t+1)),disabled:t>=(j.stockQuantity||100),"data-testid":"quantity-increase",className:"text-gray-700 hover:text-gray-900 hover:bg-gray-100 border-none disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ss,{size:16})})]}),j.stockQuantity&&t>=j.stockQuantity&&e.jsxs("span",{className:"text-sm text-orange-600 font-medium",children:["Maximum available: ",j.stockQuantity]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(S,{onClick:F,disabled:B,className:X("w-full py-3 text-lg font-medium transition-colors",B?"bg-gray-300 text-gray-500 cursor-not-allowed hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white border-green-600"),"data-testid":"add-to-cart-button",children:[e.jsx(Jt,{className:"mr-2",size:20}),B?"Out of Stock":Z?"Add More":"Add to Cart"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(S,{variant:"outline",className:"flex-1 py-2 text-gray-700 border-gray-300 hover:bg-gray-50 hover:text-gray-900 bg-white","data-testid":"add-to-wishlist",children:[e.jsx(us,{size:16,className:"mr-2"}),"Add to Wishlist"]}),e.jsxs(xa,{open:l,onOpenChange:d,children:[e.jsx(q1,{asChild:!0,children:e.jsxs(S,{variant:"outline",className:"flex-1 py-2 text-gray-700 border-gray-300 hover:bg-gray-50 hover:text-gray-900 bg-white","data-testid":"share-product",children:[e.jsx(M0,{size:16,className:"mr-2"}),"Share"]})}),e.jsxs(Lr,{className:"sm:max-w-md",children:[e.jsx(Mr,{children:e.jsx(Dr,{children:"Share Product"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Product Link:"}),e.jsx("p",{className:"text-sm text-gray-900 break-all",children:typeof window<"u"?`${window.location.origin}/product/${r}`:""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(S,{variant:"outline",onClick:()=>T("facebook"),className:"flex items-center justify-center gap-2 py-3",children:[e.jsx(Da,{size:20,className:"text-blue-600"}),"Facebook"]}),e.jsxs(S,{variant:"outline",onClick:()=>T("twitter"),className:"flex items-center justify-center gap-2 py-3",children:[e.jsx(yh,{size:20,className:"text-blue-400"}),"X (Twitter)"]}),e.jsxs(S,{variant:"outline",onClick:()=>T("instagram"),className:"flex items-center justify-center gap-2 py-3",children:[e.jsx($a,{size:20,className:"text-pink-600"}),"Instagram"]}),e.jsxs(S,{variant:"outline",onClick:()=>T("pinterest"),className:"flex items-center justify-center gap-2 py-3",children:[e.jsx(Ki,{size:20,className:"text-red-600"}),"Pinterest"]})]}),e.jsxs(S,{onClick:()=>T("copy"),className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(y0,{size:16,className:"mr-2"}),"Copy Link"]})]})]})]})]})]})]})]}),e.jsxs(cc,{defaultValue:"description",className:"mb-12",children:[e.jsxs(co,{className:"grid w-full grid-cols-2",children:[e.jsx(vs,{value:"description",children:"Description"}),e.jsx(vs,{value:"reviews",children:"Reviews"})]}),e.jsx(bs,{value:"description",className:"mt-6",children:e.jsx(K,{children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[j.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Product Description"}),e.jsx("p",{className:"text-gray-700",children:j.description})]}),j.weight&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Weight"}),e.jsx("p",{className:"text-gray-700",children:j.weight})]}),j.ingredients&&j.ingredients.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Ingredients"}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j.ingredients.map((J,ae)=>e.jsx("li",{children:J},ae))})]}),j.features&&j.features.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Features"}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-1",children:j.features.map((J,ae)=>e.jsx("li",{children:J},ae))})]})]})})})}),e.jsx(bs,{value:"reviews",className:"mt-6",children:e.jsx(K,{children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Customer Reviews"}),e.jsx("div",{className:"text-center py-8 border-b",children:e.jsx("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product!"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Write a Review"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),e.jsx(Q,{value:f,onChange:J=>p(J.target.value),placeholder:"Enter your name",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5},(J,ae)=>e.jsx("button",{onClick:()=>h(ae+1),className:"p-1",children:e.jsx(Yt,{size:24,className:ae<u?"text-yellow-500 fill-current cursor-pointer":"text-gray-300 cursor-pointer hover:text-yellow-400"})},ae)),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:u>0?`${u} star${u>1?"s":""}`:"Select a rating"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),e.jsx(As,{value:c,onChange:J=>m(J.target.value),placeholder:"Share your experience with this product...",className:"w-full min-h-[100px]",rows:4})]}),e.jsx(S,{onClick:O,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white",children:"Submit Review"})]})]})]})})})})]}),R().length>0&&e.jsxs("div",{className:"border-t pt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Recommended Products"}),e.jsx("div",{className:"flex overflow-x-auto space-x-4 pb-4 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:gap-6 sm:space-x-0",children:R().map(J=>e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ta,{product:J})},J.id??J._id))})]})]}),e.jsx(pe,{})]})}const Yf=x.createContext(void 0);function Z2({children:r}){const[t,s]=x.useState(!1),a=()=>s(!0),n=()=>s(!1),i=()=>s(o=>!o);return e.jsx(Yf.Provider,{value:{isChatOpen:t,openChat:a,closeChat:n,toggleChat:i},children:r})}function Xf(){const r=x.useContext(Yf);if(r===void 0)throw new Error("useChat must be used within a ChatProvider");return r}function J2(){const[r,t]=x.useState(!1),{isChatOpen:s,toggleChat:a,closeChat:n}=Xf(),[i,o]=x.useState(!0),[l,d]=x.useState(null),[u,h]=x.useState([{id:"1",text:`Welcome to Meow Meow Pet Shop!

Phone: 01405-045023
Location: Bank Colony, Savar, Dhaka

How would you like to chat with us?`,sender:"support",timestamp:new Date(Date.now()-5*60*1e3)}]),[c,m]=x.useState(""),[f,p]=x.useState(!1),v=x.useRef(null),{state:y,removeItem:b,updateQuantity:w}=Cs(),{items:j,total:C,itemCount:P}=y,[_]=qt(),L=["/sign-in","/sign-up","/forgot-password","/admin"].some(E=>_.startsWith(E)),Z=()=>{var E;(E=v.current)==null||E.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{Z()},[u]),x.useEffect(()=>{const E=()=>{a()};return window.addEventListener("toggleChat",E),()=>{window.removeEventListener("toggleChat",E)}},[a]);const B=E=>{d(E),o(!1)},F=()=>{if(c.trim()){if(l==="messenger"){window.open("https://m.me/meow.meow.pet.shop1","_blank");return}else if(l==="whatsapp"){const R=encodeURIComponent(`Hello Meow Meow Pet Shop! ${c}`);window.open(`https://wa.me/8801838511583?text=${R}`,"_blank");return}const E={id:Date.now().toString(),text:c,sender:"user",timestamp:new Date};h(R=>[...R,E]),m(""),p(!0),setTimeout(()=>{p(!1);const R={id:(Date.now()+1).toString(),text:"Thank you for your message! Our customer service team will get back to you shortly. Is there anything specific about our pet products I can help you with?",sender:"support",timestamp:new Date};h(z=>[...z,R])},2e3)}},U=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),F())},T=E=>E.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),O=E=>`৳${E.toFixed(2)}`;return L?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-20 md:bottom-6 right-4 md:right-6 z-[9999] flex flex-row gap-2",children:[e.jsx("button",{onClick:a,className:"text-white rounded-full p-2 md:p-3 shadow-lg transition-all duration-300 hover:scale-110",style:{backgroundColor:"#fec900"},"data-testid":"floating-messenger-button",children:e.jsx(Zt,{size:20,className:"md:w-6 md:h-6"})}),e.jsxs("button",{onClick:()=>t(!r),className:"bg-[#26732d] hover:bg-[#1e5d26] text-white rounded-full p-2 md:p-3 shadow-lg transition-all duration-300 hover:scale-110 relative","data-testid":"floating-cart-button",children:[e.jsx(Jt,{size:20,className:"md:w-6 md:h-6"}),P>0&&e.jsx(he,{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-red-500 text-white min-w-[18px] h-4 md:min-w-[20px] md:h-5 flex items-center justify-center text-xs",children:P})]})]}),s&&e.jsxs("div",{className:"fixed bottom-36 md:bottom-24 right-4 md:right-6 w-80 h-96 bg-white rounded-lg shadow-2xl z-[9999] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#26732d] text-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"Meow Meow Logo",className:"w-8 h-8 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"Meow Meow Support"}),e.jsx("p",{className:"text-xs text-green-200",children:"Online"})]})]}),e.jsx("button",{onClick:n,className:"hover:bg-[#1e5d26] p-1 rounded","data-testid":"close-chat-button",children:e.jsx(Vt,{size:16})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[u.map((E,R)=>e.jsxs("div",{children:[e.jsx("div",{className:`flex ${E.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] px-3 py-2 rounded-lg text-sm ${E.sender==="user"?"bg-[#ffde59] text-black rounded-br-sm":"bg-gray-100 text-gray-800 rounded-bl-sm"}`,children:[e.jsx("p",{className:"whitespace-pre-line",children:E.text}),e.jsx("span",{className:`text-xs mt-1 block ${E.sender==="user"?"text-gray-700":"text-gray-500"}`,children:T(E.timestamp)})]})}),R===0&&i&&e.jsx("div",{className:"flex justify-start mt-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>B("messenger"),className:"bg-[#0084ff] hover:bg-[#0066cc] text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2","data-testid":"messenger-button",children:[e.jsx(Zt,{size:16}),"Messenger"]}),e.jsxs("button",{onClick:()=>B("whatsapp"),className:"bg-[#25d366] hover:bg-[#20b358] text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2","data-testid":"whatsapp-button",children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"WhatsApp"]})]})})]},E.id)),f&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 text-gray-800 rounded-lg rounded-bl-sm px-3 py-2",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:v})]}),l&&e.jsxs("div",{className:"p-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{value:c,onChange:E=>m(E.target.value),onKeyPress:U,placeholder:`Type a message to send via ${l==="messenger"?"Messenger":"WhatsApp"}...`,className:"flex-1 text-sm text-gray-900 bg-white","data-testid":"chat-message-input"}),e.jsx(S,{onClick:F,disabled:!c.trim(),size:"sm",className:"text-white px-3",style:{backgroundColor:l==="whatsapp"?"#25d366":"#0084ff"},"data-testid":"send-chat-message-button",children:e.jsx(Ki,{size:16})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Clicking send will open ",l==="messenger"?"Facebook Messenger":"WhatsApp"," to continue the conversation."]})]})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:()=>t(!1)}),e.jsxs("div",{className:`fixed 
            /* Mobile: Right-sided panel */
            top-0 right-0 bottom-0
            w-[85vw] max-w-sm rounded-l-2xl
            /* Desktop: Large right sidebar style */
            md:top-0 md:right-0 md:bottom-0 md:w-[450px] md:max-w-[450px] md:h-full md:rounded-none
            lg:w-[500px] lg:max-w-[500px]
            bg-white shadow-2xl z-[9999] transform transition-transform duration-300 flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b bg-[#26732d] text-white flex-shrink-0 rounded-tl-2xl md:rounded-none",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Jt,{size:20}),"Shopping Cart"]}),e.jsx("button",{onClick:()=>t(!1),className:"hover:bg-[#1e5d26] p-1 rounded","data-testid":"close-cart-button",children:e.jsx(Vt,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:j.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 md:p-12 text-center",children:[e.jsx("div",{className:"bg-gray-100 p-4 md:p-6 rounded-full mb-4",children:e.jsx(Jt,{size:40,className:"md:w-12 md:h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-6 text-sm md:text-base",children:"Looks like you haven't added any items to your cart yet."}),e.jsx(S,{onClick:()=>t(!1),className:"bg-[#26732d] hover:bg-[#1e5d26] text-white px-6 py-2",children:"Continue Shopping"})]}):e.jsx("div",{className:"p-3 md:p-6 space-y-3 md:space-y-6",children:j.map(E=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 md:p-6 shadow-sm","data-testid":`cart-item-${E.id}`,children:e.jsxs("div",{className:"flex gap-4 md:gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 bg-gray-50 rounded-lg overflow-hidden border",children:e.jsx("img",{src:E.image||"/api/placeholder/96/96",alt:E.name,className:"w-full h-full object-contain"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm md:text-base leading-tight line-clamp-2 mb-2 md:mb-3",children:E.name}),e.jsx("p",{className:"text-[#26732d] font-bold text-sm md:text-lg mb-3 md:mb-4",children:O(E.price)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("button",{onClick:()=>w(E.id,E.quantity-1),className:"bg-gray-100 hover:bg-gray-200 rounded-full p-1 md:p-2 transition-colors text-black","data-testid":`decrease-quantity-${E.id}`,children:e.jsx(ql,{size:14,className:"md:w-4 md:h-4 text-black"})}),e.jsx("span",{className:"w-8 md:w-12 text-center text-sm md:text-base font-medium text-black",children:E.quantity}),e.jsx("button",{onClick:()=>w(E.id,E.quantity+1),className:"bg-gray-100 hover:bg-gray-200 rounded-full p-1 md:p-2 transition-colors text-black","data-testid":`increase-quantity-${E.id}`,children:e.jsx(Ss,{size:14,className:"md:w-4 md:h-4 text-black"})})]}),e.jsx("button",{onClick:()=>b(E.id),className:"bg-red-50 hover:bg-red-100 text-red-600 rounded-full p-1 md:p-2 ml-2 transition-colors","data-testid":`remove-item-${E.id}`,children:e.jsx(Fs,{size:14,className:"md:w-4 md:h-4"})})]})]})]})},E.id))})}),j.length>0&&e.jsxs("div",{className:"border-t bg-gray-50 p-3 md:p-6 flex-shrink-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[e.jsx("span",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold text-[#26732d]",children:O(C)})]}),e.jsxs("div",{className:"space-y-2 md:space-y-4",children:[e.jsx(re,{href:"/cart",children:e.jsx(S,{className:"w-full bg-[#26732d] hover:bg-[#1e5d26] text-white md:py-3 md:text-lg",onClick:()=>t(!1),"data-testid":"view-cart-button",children:"View Cart"})}),e.jsx(re,{href:"/checkout",children:e.jsx(S,{variant:"outline",className:"w-full border-[#26732d] text-[#26732d] hover:bg-[#26732d] hover:text-white md:py-3 md:text-lg",onClick:()=>t(!1),"data-testid":"checkout-button",children:"Checkout"})})]})]})]})]})]})}const Y2="/logo.png";function X2(){const[r]=qt();Cs();const{toggle:t}=wr(),{openChat:s,isChatOpen:a}=Xf(),n=o=>!!(o==="/"&&r==="/"||o!=="/"&&r.startsWith(o)),i=o=>{o.preventDefault(),t()};return e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-[1001] safe-area-pb",children:e.jsxs("div",{className:"flex items-center justify-around py-1 px-2",children:[e.jsxs("button",{onClick:i,className:"flex flex-col items-center justify-center py-2 px-3 transition-colors","data-testid":"mobile-nav-categories",children:[e.jsx(sl,{size:18,className:"text-gray-600"}),e.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Categories"})]}),e.jsxs("button",{onClick:()=>{const o=document.querySelector('[data-testid="input-mobile-search"]');o&&(o.focus(),o.scrollIntoView({behavior:"smooth",block:"center"}))},className:`flex flex-col items-center justify-center py-2 px-3 transition-colors ${n("/products")?"text-[#26732d]":"text-gray-600"}`,"data-testid":"mobile-nav-search",children:[e.jsx(ze,{size:18}),e.jsx("span",{className:"text-xs mt-1",children:"Search"})]}),e.jsx(re,{href:"/",children:e.jsxs("div",{className:`flex flex-col items-center justify-center py-2 px-3 transition-colors ${n("/")?"text-[#26732d]":"text-gray-600"}`,"data-testid":"mobile-nav-home",children:[e.jsx("img",{src:Y2,alt:"Home",className:"w-10 h-10"}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]})}),e.jsx(re,{href:"/dashboard",children:e.jsxs("div",{className:`flex flex-col items-center justify-center py-2 px-3 transition-colors ${n("/dashboard")||n("/profile")?"text-[#26732d]":"text-gray-600"}`,"data-testid":"mobile-nav-profile",children:[e.jsx(rs,{size:18}),e.jsx("span",{className:"text-xs mt-1",children:"My Profile"})]})}),e.jsxs("button",{onClick:s,className:`flex flex-col items-center justify-center py-2 px-3 transition-colors relative ${a?"text-[#26732d]":"text-gray-600"}`,"data-testid":"mobile-nav-chat",children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"text-xs mt-1",children:"Chat"})]})]})})}function ek(){return e.jsxs(e.Fragment,{children:[e.jsx(Qy,{}),e.jsxs(ap,{children:[e.jsx(ve,{path:"/",component:Lj}),e.jsx(ve,{path:"/products",component:zw}),e.jsx(ve,{path:"/product/:id",component:G2}),e.jsx(ve,{path:"/privilege-club",component:Vw}),e.jsx(ve,{path:"/cat-food",component:Ww}),e.jsx(ve,{path:"/dog-food",component:Qw}),e.jsx(ve,{path:"/cat-toys",component:Gw}),e.jsx(ve,{path:"/cat-litter",component:Zw}),e.jsx(ve,{path:"/cat-care",component:Jw}),e.jsx(ve,{path:"/cat-accessories",component:Xw}),e.jsx(ve,{path:"/clothing-beds-carrier",component:Yw}),e.jsx(ve,{path:"/dog-accessories",component:eN}),e.jsx(ve,{path:"/rabbit",component:tN}),e.jsx(ve,{path:"/bird",component:sN}),e.jsx(ve,{path:"/brands/reflex",component:aN}),e.jsx(ve,{path:"/brands/nekko",component:cN}),e.jsx(ve,{path:"/brands/purina",component:dN}),e.jsx(ve,{path:"/brands/one",component:uN}),e.jsx(ve,{path:"/brands/reflex-plus",component:hN}),e.jsx(ve,{path:"/brands/royal-canin",component:mN}),e.jsx(ve,{path:"/brands/sheba",component:xN}),e.jsx(ve,{path:"/blog",component:iN}),e.jsx(ve,{path:"/blog/:slug",component:oN}),e.jsx(ve,{path:"/bulk-discounts",component:lN}),e.jsx(ve,{path:"/sign-in",component:ON}),e.jsx(ve,{path:"/sign-up",component:MN}),e.jsx(ve,{path:"/forgot-password",component:FN}),e.jsx(ve,{path:"/reset-password",component:$N}),e.jsx(ve,{path:"/admin",component:J1}),e.jsx(ve,{path:"/dashboard",component:a2}),e.jsx(ve,{path:"/cart",component:n2}),e.jsx(ve,{path:"/checkout",component:p2}),e.jsx(ve,{path:"/payment-success",component:y2}),e.jsx(ve,{path:"/invoice/:id",component:v2}),e.jsx(ve,{path:"/track-order",component:_2}),e.jsx(ve,{path:"/profile",component:P2}),e.jsx(ve,{path:"/messenger",component:T2}),e.jsx(ve,{path:"/contact",component:U2}),e.jsx(ve,{path:"/flash-sale-products",component:V2}),e.jsx(ve,{path:"/bulk-products",component:q2}),e.jsx(ve,{path:"/newly-launched",component:H2}),e.jsx(ve,{path:"/repack-products",component:K2}),e.jsx(ve,{path:"/cat-best-seller",component:W2}),e.jsx(ve,{path:"/dog-best-seller",component:Q2}),e.jsx(ve,{component:Zy})]}),e.jsx(X2,{})]})}function tk(){return e.jsx(kp,{client:mt,children:e.jsx(Hy,{children:e.jsx(Wy,{children:e.jsx(Z2,{children:e.jsx(Vy,{children:e.jsx(xj,{children:e.jsxs("div",{className:"min-h-screen bg-white mobile-safe-bottom",children:[e.jsx(ek,{}),e.jsx(J2,{}),e.jsx(Cy,{})]})})})})})})})}yu(document.getElementById("root")).render(e.jsx(tk,{}));
